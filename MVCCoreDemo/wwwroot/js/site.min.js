/*! jsTree - v3.3.15 - 2023-02-20 - (MIT) */
var $jscomp,$jscomp$lookupPolyfilledValue;!function(n){"use strict";"function"==typeof define&&define.amd?define(["jquery"],n):"undefined"!=typeof module&&module.exports?module.exports=n(require("jquery")):n(jQuery)}(function(n,t){"use strict";var w,f,y,r,c,s,u,i,b,k,v,a;if(!n.jstree){var nt=0,h=!1,o=!1,l=!1,d=[],a=n("script:last").attr("src"),e=window.document,p=window.setImmediate,g=window.Promise;if(!p&&g&&(p=function(n,t){g.resolve(t).then(n)}),n.jstree={version:"3.3.15",defaults:{plugins:[]},plugins:{},path:a&&-1!==a.indexOf("/")?a.replace(/\/[^\/]+$/,""):"",idregex:/[\\:&!^|()\[\]<>@*'+~#";.,=\- \/${}%?`]/g,root:"#"},n.jstree.create=function(t,i){var r=new n.jstree.core(++nt),u=i;return i=n.extend(!0,{},n.jstree.defaults,i),u&&u.plugins&&(i.plugins=u.plugins),n.each(i.plugins,function(n,t){"core"!==n&&(r=r.plugin(t,i[t]))}),n(t).data("jstree",r),r.init(t,i),r},n.jstree.destroy=function(){n(".jstree:jstree").jstree("destroy");n(e).off(".jstree")},n.jstree.core=function(n){this._id=n;this._cnt=0;this._wrk=null;this._data={core:{themes:{name:!1,dots:!1,icons:!1,ellipsis:!1},selected:[],last_error:{},working:!1,worker_queue:[],focused:null}}},n.jstree.reference=function(t){var r=null,i=null;if(!t||!t.id||t.tagName&&t.nodeType||(t=t.id),!i||!i.length)try{i=n(t)}catch(i){}if(!i||!i.length)try{i=n("#"+t.replace(n.jstree.idregex,"\\$&"))}catch(i){}return i&&i.length&&(i=i.closest(".jstree")).length&&(i=i.data("jstree"))?r=i:n(".jstree").each(function(){var i=n(this).data("jstree");if(i&&i._model.data[t])return r=i,!1}),r},n.fn.jstree=function(i){var u="string"==typeof i,f=Array.prototype.slice.call(arguments,1),r=null;return!(!0===i&&!this.length)&&(this.each(function(){var e=n.jstree.reference(this),o=u&&e?e[i]:null;if(r=u&&o?o.apply(e,f):null,e||u||i!==t&&!n.isPlainObject(i)||n.jstree.create(this,i),null!==(r=e&&!u||!0===i?e||!1:r)&&r!==t)return!1}),null!==r&&r!==t?r:this)},n.expr.pseudos.jstree=n.expr.createPseudo(function(){return function(i){return n(i).hasClass("jstree")&&n(i).data("jstree")!==t}}),n.jstree.defaults.core={data:!1,strings:!1,check_callback:!1,error:n.noop,animation:200,multiple:!0,themes:{name:!1,url:!1,dir:!1,dots:!0,icons:!0,ellipsis:!1,stripes:!1,variant:!1,responsive:!1},expand_selected_onload:!0,worker:!0,force_text:!1,dblclick_toggle:!0,loaded_state:!1,restore_focus:!0,compute_elements_positions:!1,keyboard:{"ctrl-space":function(t){t.type="click";n(t.currentTarget).trigger(t)},enter:function(t){t.type="click";n(t.currentTarget).trigger(t)},left:function(t){var t;t.preventDefault();this.is_open(t.currentTarget)?this.close_node(t.currentTarget):(t=this.get_parent(t.currentTarget))&&t.id!==n.jstree.root&&this.get_node(t,!0).children(".jstree-anchor").trigger("focus")},up:function(n){n.preventDefault();var n=this.get_prev_dom(n.currentTarget);n&&n.length&&n.children(".jstree-anchor").trigger("focus")},right:function(t){var t;t.preventDefault();this.is_closed(t.currentTarget)?this.open_node(t.currentTarget,function(n){this.get_node(n,!0).children(".jstree-anchor").trigger("focus")}):!this.is_open(t.currentTarget)||(t=this.get_node(t.currentTarget,!0).children(".jstree-children")[0])&&n(this._firstChild(t)).children(".jstree-anchor").trigger("focus")},down:function(n){n.preventDefault();var n=this.get_next_dom(n.currentTarget);n&&n.length&&n.children(".jstree-anchor").trigger("focus")},"*":function(){this.open_all()},home:function(t){t.preventDefault();var t=this._firstChild(this.get_container_ul()[0]);t&&n(t).children(".jstree-anchor").filter(":visible").trigger("focus")},end:function(n){n.preventDefault();this.element.find(".jstree-anchor").filter(":visible").last().trigger("focus")},f2:function(n){n.preventDefault();this.edit(n.currentTarget)}}},n.jstree.core.prototype={plugin:function(t,i){var r=n.jstree.plugins[t];return r?(this._data[t]={},r.prototype=this,new r(i,this)):this},init:function(t,i){this._model={data:{},changed:[],force_full_redraw:!1,redraw_timeout:!1,default_state:{loaded:!0,opened:!1,selected:!1,disabled:!1}};this._model.data[n.jstree.root]={id:n.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}};this.element=n(t).addClass("jstree jstree-"+this._id);this.settings=i;this._data.core.ready=!1;this._data.core.loaded=!1;this._data.core.rtl="rtl"===this.element.css("direction");this.element[this._data.core.rtl?"addClass":"removeClass"]("jstree-rtl");this.element.attr("role","tree");this.settings.core.multiple&&this.element.attr("aria-multiselectable",!0);this.element.attr("tabindex")||this.element.attr("tabindex","0");this.bind();this.trigger("init");this._data.core.original_container_html=this.element.find(" > ul > li").clone(!0);this._data.core.original_container_html.find("li").addBack().contents().filter(function(){return 3===this.nodeType&&(!this.nodeValue||/^\s+$/.test(this.nodeValue))}).remove();this.element.html("<ul class='jstree-container-ul jstree-children' role='group'><li id='j"+this._id+"_loading' class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none'><i class='jstree-icon jstree-ocl'><\/i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'><\/i>"+this.get_string("Loading ...")+"<\/a><\/li><\/ul>");this.element.attr("aria-activedescendant","j"+this._id+"_loading");this._data.core.li_height=this.get_container_ul().children("li").first().outerHeight()||24;this._data.core.node=this._create_prototype_node();this.trigger("loading");this.load_node(n.jstree.root)},destroy:function(n){if(this.trigger("destroy"),this._wrk)try{window.URL.revokeObjectURL(this._wrk);this._wrk=null}catch(n){}n||this.element.empty();this.teardown()},_create_prototype_node:function(){var t=e.createElement("LI"),n,i;return t.setAttribute("role","none"),(n=e.createElement("I")).className="jstree-icon jstree-ocl",n.setAttribute("role","presentation"),t.appendChild(n),(n=e.createElement("A")).className="jstree-anchor",n.setAttribute("href","#"),n.setAttribute("tabindex","-1"),n.setAttribute("role","treeitem"),(i=e.createElement("I")).className="jstree-icon jstree-themeicon",i.setAttribute("role","presentation"),n.appendChild(i),t.appendChild(n),n=i=null,t},_kbevent_to_func:function(n){var f={8:"Backspace",9:"Tab",13:"Enter",19:"Pause",27:"Esc",32:"Space",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"Left",38:"Up",39:"Right",40:"Down",44:"Print",45:"Insert",46:"Delete",96:"Numpad0",97:"Numpad1",98:"Numpad2",99:"Numpad3",100:"Numpad4",101:"Numpad5",102:"Numpad6",103:"Numpad7",104:"Numpad8",105:"Numpad9","-13":"NumpadEnter",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"Numlock",145:"Scrolllock",16:"Shift",17:"Ctrl",18:"Alt",48:"0",49:"1",50:"2",51:"3",52:"4",53:"5",54:"6",55:"7",56:"8",57:"9",59:";",61:"=",65:"a",66:"b",67:"c",68:"d",69:"e",70:"f",71:"g",72:"h",73:"i",74:"j",75:"k",76:"l",77:"m",78:"n",79:"o",80:"p",81:"q",82:"r",83:"s",84:"t",85:"u",86:"v",87:"w",88:"x",89:"y",90:"z",107:"+",109:"-",110:".",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'",111:"/",106:"*",173:"-"},t=[],r,u,i;if(n.ctrlKey&&t.push("ctrl"),n.altKey&&t.push("alt"),n.shiftKey&&t.push("shift"),t.push(f[n.which]?f[n.which].toLowerCase():n.which),"shift-shift"===(t=t.sort().join("-").toLowerCase())||"ctrl-ctrl"===t||"alt-alt"===t)return null;r=this.settings.core.keyboard;for(u in r)if(r.hasOwnProperty(u)&&(i="-"!==(i=u)&&"+"!==i?(i=i.replace("--","-MINUS").replace("+-","-MINUS").replace("++","-PLUS").replace("-+","-PLUS")).split(/-|\+/).sort().join("-").replace("MINUS","-").replace("PLUS","+").toLowerCase():i)===t)return r[u];return null},teardown:function(){this.unbind();this.element.removeClass("jstree").removeData("jstree").find("[class^='jstree']").addBack().attr("class",function(){return this.className.replace(/jstree[^ ]*|$/gi,"")});this.element=null},bind:function(){var t="",i=null,r=0;this.element.on("dblclick.jstree",function(n){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!0;if(e.selection&&e.selection.empty)e.selection.empty();else if(window.getSelection){var n=window.getSelection();try{n.removeAllRanges();n.collapse()}catch(n){}}}).on("mousedown.jstree",function(n){n.target===this.element[0]&&(n.preventDefault(),r=+new Date)}.bind(this)).on("mousedown.jstree",".jstree-ocl",function(n){n.preventDefault()}).on("click.jstree",".jstree-ocl",function(n){this.toggle_node(n.target)}.bind(this)).on("dblclick.jstree",".jstree-anchor",function(n){if(n.target.tagName&&"input"===n.target.tagName.toLowerCase())return!0;this.settings.core.dblclick_toggle&&this.toggle_node(n.target)}.bind(this)).on("click.jstree",".jstree-anchor",function(t){t.preventDefault();t.currentTarget!==e.activeElement&&n(t.currentTarget).trigger("focus");this.activate_node(t.currentTarget,t)}.bind(this)).on("keydown.jstree",".jstree-anchor",function(n){var t,n;return n.target.tagName&&"input"===n.target.tagName.toLowerCase()?!0:(this._data.core.rtl&&(37===n.which?n.which=39:39===n.which&&(n.which=37)),t=this._kbevent_to_func(n),t&&(n=t.call(this,n),!1===n||!0===n)?n:void 0)}.bind(this)).on("load_node.jstree",function(t,i){i.status&&(i.node.id!==n.jstree.root||this._data.core.loaded||(this._data.core.loaded=!0,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.trigger("loaded")),this._data.core.ready||setTimeout(function(){if(this.element&&!this.get_container_ul().find(".jstree-loading").length){if(this._data.core.ready=!0,this._data.core.selected.length){if(this.settings.core.expand_selected_onload){for(var i=[],t=0,r=this._data.core.selected.length;t<r;t++)i=i.concat(this._model.data[this._data.core.selected[t]].parents);for(t=0,r=(i=n.vakata.array_unique(i)).length;t<r;t++)this.open_node(i[t],!1,0)}this.trigger("changed",{action:"ready",selected:this._data.core.selected})}this.trigger("ready")}}.bind(this),0))}.bind(this)).on("keypress.jstree",function(r){if(r.target.tagName&&"input"===r.target.tagName.toLowerCase())return!0;i&&clearTimeout(i);i=setTimeout(function(){t=""},500);var o=String.fromCharCode(r.which).toLowerCase(),f=this.element.find(".jstree-anchor").filter(":visible"),r=f.index(e.activeElement)||0,u=!1;if(1<(t+=o).length){if(f.slice(r).each(function(i,r){if(0===n(r).text().toLowerCase().indexOf(t))return n(r).trigger("focus"),!(u=!0)}.bind(this)),u)return;if(f.slice(0,r).each(function(i,r){if(0===n(r).text().toLowerCase().indexOf(t))return n(r).trigger("focus"),!(u=!0)}.bind(this)),u)return}new RegExp("^"+o.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")+"+$").test(t)&&(f.slice(r+1).each(function(t,i){if(n(i).text().toLowerCase().charAt(0)===o)return n(i).trigger("focus"),!(u=!0)}.bind(this)),u||f.slice(0,r+1).each(function(t,i){if(n(i).text().toLowerCase().charAt(0)===o)return n(i).trigger("focus"),!(u=!0)}.bind(this)))}.bind(this)).on("init.jstree",function(){var n=this.settings.core.themes;this._data.core.themes.dots=n.dots;this._data.core.themes.stripes=n.stripes;this._data.core.themes.icons=n.icons;this._data.core.themes.ellipsis=n.ellipsis;this.set_theme(n.name||"default",n.url);this.set_theme_variant(n.variant)}.bind(this)).on("loading.jstree",function(){this[this._data.core.themes.dots?"show_dots":"hide_dots"]();this[this._data.core.themes.icons?"show_icons":"hide_icons"]();this[this._data.core.themes.stripes?"show_stripes":"hide_stripes"]();this[this._data.core.themes.ellipsis?"show_ellipsis":"hide_ellipsis"]()}.bind(this)).on("blur.jstree",".jstree-anchor",function(t){this._data.core.focused=null;n(t.currentTarget).filter(".jstree-hovered").trigger("mouseleave");this.element.attr("tabindex","0");n(t.currentTarget).attr("tabindex","-1")}.bind(this)).on("focus.jstree",".jstree-anchor",function(t){var i=this.get_node(t.currentTarget);i&&(i.id||0===i.id)&&(this._data.core.focused=i.id);this.element.find(".jstree-hovered").not(t.currentTarget).trigger("mouseleave");n(t.currentTarget).trigger("mouseenter");this.element.attr("tabindex","-1");n(t.currentTarget).attr("tabindex","0")}.bind(this)).on("focus.jstree",function(){var n;500<+new Date-r&&!this._data.core.focused&&this.settings.core.restore_focus&&(r=0,(n=this.get_node(this.element.attr("aria-activedescendant"),!0))&&n.find("> .jstree-anchor").trigger("focus"))}.bind(this)).on("mouseenter.jstree",".jstree-anchor",function(n){this.hover_node(n.currentTarget)}.bind(this)).on("mouseleave.jstree",".jstree-anchor",function(n){this.dehover_node(n.currentTarget)}.bind(this))},unbind:function(){this.element.off(".jstree");n(e).off(".jstree-"+this._id)},trigger:function(n,t){((t=t||{}).instance=this).element.triggerHandler(n.replace(".jstree","")+".jstree",t)},get_container:function(){return this.element},get_container_ul:function(){return this.element.children(".jstree-children").first()},get_string:function(t){var i=this.settings.core.strings;return n.vakata.is_function(i)?i.call(this,t):i&&i[t]?i[t]:t},_firstChild:function(n){for(n=n?n.firstChild:null;null!==n&&1!==n.nodeType;)n=n.nextSibling;return n},_nextSibling:function(n){for(n=n?n.nextSibling:null;null!==n&&1!==n.nodeType;)n=n.nextSibling;return n},_previousSibling:function(n){for(n=n?n.previousSibling:null;null!==n&&1!==n.nodeType;)n=n.previousSibling;return n},get_node:function(t,i){var r;(t=t&&(t.id||0===t.id)?t.id:t)instanceof n&&t.length&&t[0].id&&(t=t[0].id);try{if(this._model.data[t])t=this._model.data[t];else if("string"==typeof t&&this._model.data[t.replace(/^#/,"")])t=this._model.data[t.replace(/^#/,"")];else if("string"==typeof t&&(r=n("#"+t.replace(n.jstree.idregex,"\\$&"),this.element)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else if((r=this.element.find(t)).length&&this._model.data[r.closest(".jstree-node").attr("id")])t=this._model.data[r.closest(".jstree-node").attr("id")];else{if(!(r=this.element.find(t)).length||!r.hasClass("jstree"))return!1;t=this._model.data[n.jstree.root]}return i?t.id===n.jstree.root?this.element:n("#"+t.id.replace(n.jstree.idregex,"\\$&"),this.element):t}catch(t){return!1}},get_path:function(t,i,r){if(!(t=t.parents?t:this.get_node(t))||t.id===n.jstree.root||!t.parents)return!1;var f,e,u=[];for(u.push(r?t.id:t.text),f=0,e=t.parents.length;f<e;f++)u.push(r?t.parents[f]:this.get_text(t.parents[f]));return u=u.reverse().slice(1),i?u.join(i):u},get_next_dom:function(t,i){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this._firstChild(this.get_container_ul()[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);return!!r&&n(r)}if(!t||!t.length)return!1;if(i){r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return!!r&&n(r)}if(t.hasClass("jstree-open")){for(r=this._firstChild(t.children(".jstree-children")[0]);r&&0===r.offsetHeight;)r=this._nextSibling(r);if(null!==r)return n(r)}r=t[0];do r=this._nextSibling(r);while(r&&0===r.offsetHeight);return null!==r?n(r):t.parentsUntil(".jstree",".jstree-node").nextAll(".jstree-node:visible").first()},get_prev_dom:function(t,i){var r;if((t=this.get_node(t,!0))[0]===this.element[0]){for(r=this.get_container_ul()[0].lastChild;r&&0===r.offsetHeight;)r=this._previousSibling(r);return!!r&&n(r)}if(!t||!t.length)return!1;if(i){r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);return!!r&&n(r)}r=t[0];do r=this._previousSibling(r);while(r&&0===r.offsetHeight);if(null===r)return!(!(r=t[0].parentNode.parentNode)||!r.className||-1===r.className.indexOf("jstree-node"))&&n(r);for(t=n(r);t.hasClass("jstree-open");)t=t.children(".jstree-children").first().children(".jstree-node:visible:last");return t},get_parent:function(t){return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.parent},get_children_dom:function(n){return(n=this.get_node(n,!0))[0]===this.element[0]?this.get_container_ul().children(".jstree-node"):!(!n||!n.length)&&n.children(".jstree-children").children(".jstree-node")},is_parent:function(n){return(n=this.get_node(n))&&(!1===n.state.loaded||0<n.children.length)},is_loaded:function(n){return(n=this.get_node(n))&&n.state.loaded},is_loading:function(n){return(n=this.get_node(n))&&n.state&&n.state.loading},is_open:function(n){return(n=this.get_node(n))&&n.state.opened},is_closed:function(n){return(n=this.get_node(n))&&this.is_parent(n)&&!n.state.opened},is_leaf:function(n){return!this.is_parent(n)},load_node:function(t,i){var f=this.get_node(t,!0),r,o,u,s,e;if(n.vakata.is_array(t))return this._load_nodes(t.slice(),i),!0;if(!(t=this.get_node(t)))return i&&i.call(this,t,!1),!1;if(t.state.loaded){for(t.state.loaded=!1,u=0,s=t.parents.length;u<s;u++)this._model.data[t.parents[u]].children_d=n.vakata.array_filter(this._model.data[t.parents[u]].children_d,function(i){return-1===n.inArray(i,t.children_d)});for(r=0,o=t.children_d.length;r<o;r++)this._model.data[t.children_d[r]].state.selected&&(e=!0),delete this._model.data[t.children_d[r]];e&&(this._data.core.selected=n.vakata.array_filter(this._data.core.selected,function(i){return-1===n.inArray(i,t.children_d)}));t.children=[];t.children_d=[];e&&this.trigger("changed",{action:"load_node",node:t,selected:this._data.core.selected})}return t.state.failed=!1,t.state.loading=!0,(t.id!==n.jstree.root?f.children(".jstree-anchor"):f).attr("aria-busy",!0),f.addClass("jstree-loading"),this._load_node(t,function(r){(t=this._model.data[t.id]).state.loading=!1;t.state.loaded=r;t.state.failed=!t.state.loaded;for(var u=this.get_node(t,!0),f=0,s=0,e=this._model.data,o=!1,f=0,s=t.children.length;f<s;f++)if(e[t.children[f]]&&!e[t.children[f]].state.hidden){o=!0;break}t.state.loaded&&u&&u.length&&(u.removeClass("jstree-closed jstree-open jstree-leaf"),o?"#"!==t.id&&u.addClass(t.state.opened?"jstree-open":"jstree-closed"):u.addClass("jstree-leaf"));(t.id!==n.jstree.root?u.children(".jstree-anchor"):u).attr("aria-busy",!1);u.removeClass("jstree-loading");this.trigger("load_node",{node:t,status:r});i&&i.call(this,t,r)}.bind(this)),!0},_load_nodes:function(n,t,i,r){for(var o=!0,h=function(){this._load_nodes(n,t,!0)},f=this._model.data,s=[],u=0,e=n.length;u<e;u++)!f[n[u]]||(f[n[u]].state.loaded||f[n[u]].state.failed)&&(i||!r)||(this.is_loading(n[u])||this.load_node(n[u],h),o=!1);if(o){for(u=0,e=n.length;u<e;u++)f[n[u]]&&f[n[u]].state.loaded&&s.push(n[u]);t&&!t.done&&(t.call(this,s),t.done=!0)}},load_all:function(t,i){if(t=t||n.jstree.root,!(t=this.get_node(t)))return!1;var f=[],e=this._model.data,u=e[t.id].children_d,r,o;for(t.state&&!t.state.loaded&&f.push(t.id),r=0,o=u.length;r<o;r++)e[u[r]]&&e[u[r]].state&&!e[u[r]].state.loaded&&f.push(u[r]);f.length?this._load_nodes(f,function(){this.load_all(t,i)}):(i&&i.call(this,t),this.trigger("load_all",{node:t}))},_load_node:function(t,i){var r=this.settings.core.data,f,u=function(){return 3!==this.nodeType&&8!==this.nodeType};return r?n.vakata.is_function(r)?r.call(this,t,function(r){!1===r?i.call(this,!1):this["string"==typeof r?"_append_html_data":"_append_json_data"](t,"string"==typeof r?n(n.parseHTML(r)).filter(u):r,function(n){i.call(this,n)})}.bind(this)):"object"==typeof r?r.url?(r=n.extend(!0,{},r),n.vakata.is_function(r.url)&&(r.url=r.url.call(this,t)),n.vakata.is_function(r.data)&&(r.data=r.data.call(this,t)),n.ajax(r).done(function(r,f,e){var o=e.getResponseHeader("Content-Type");return o&&-1!==o.indexOf("json")||"object"==typeof r?this._append_json_data(t,r,function(n){i.call(this,n)}):o&&-1!==o.indexOf("html")||"string"==typeof r?this._append_html_data(t,n(n.parseHTML(r)).filter(u),function(n){i.call(this,n)}):(this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:e})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))}.bind(this)).fail(function(n){this._data.core.last_error={error:"ajax",plugin:"core",id:"core_04",reason:"Could not load node",data:JSON.stringify({id:t.id,xhr:n})};i.call(this,!1);this.settings.core.error.call(this,this._data.core.last_error)}.bind(this))):(f=n.vakata.is_array(r)?n.extend(!0,[],r):n.isPlainObject(r)?n.extend(!0,{},r):r,t.id===n.jstree.root?this._append_json_data(t,f,function(n){i.call(this,n)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_05",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1))):"string"==typeof r?t.id===n.jstree.root?this._append_html_data(t,n(n.parseHTML(r)).filter(u),function(n){i.call(this,n)}):(this._data.core.last_error={error:"nodata",plugin:"core",id:"core_06",reason:"Could not load node",data:JSON.stringify({id:t.id})},this.settings.core.error.call(this,this._data.core.last_error),i.call(this,!1)):i.call(this,!1):t.id===n.jstree.root?this._append_html_data(t,this._data.core.original_container_html.clone(!0),function(n){i.call(this,n)}):i.call(this,!1)},_node_changed:function(t){(t=this.get_node(t))&&-1===n.inArray(t.id,this._model.changed)&&this._model.changed.push(t.id)},_append_html_data:function(t,i,r){(t=this.get_node(t)).children=[];t.children_d=[];var i=i.is("ul")?i.children():i,e=t.id,c=[],u=[],o=this._model.data,f=o[e],t=this._data.core.selected.length,s,h,l;for(i.each(function(t,i){(s=this._parse_model_from_html(n(i),e,f.parents.concat()))&&(c.push(s),u.push(s),o[s].children_d.length&&(u=u.concat(o[s].children_d)))}.bind(this)),f.children=c,f.children_d=u,h=0,l=f.parents.length;h<l;h++)o[f.parents[h]].children_d=o[f.parents[h]].children_d.concat(u);this.trigger("model",{nodes:u,parent:e});e!==n.jstree.root?(this._node_changed(e),this.redraw()):(this.get_container_ul().children(".jstree-initial-node").remove(),this.redraw(!0));this._data.core.selected.length!==t&&this.trigger("changed",{action:"model",selected:this._data.core.selected});r.call(this,!0)},_append_json_data:function(t,i,r,u){if(null!==this.element){(t=this.get_node(t)).children=[];t.children_d=[];i.d&&"string"==typeof(i=i.d)&&(i=JSON.parse(i));n.vakata.is_array(i)||(i=[i]);var e=null,o={df:this._model.default_state,dat:i,par:t.id,m:this._model.data,t_id:this._id,t_cnt:this._cnt,sel:this._data.core.selected},f=this,s=function(n,t){var u=(n=n.data?n.data:n).dat,l=n.par,p=[],s=[],a=[],c=n.df,k=n.t_id,y=n.t_cnt,r=n.m,e=r[l],n=n.sel,h,i,o,v,w=function(n,i,u){u=u?u.concat():[];i&&u.unshift(i);var h=n.id.toString(),e,l,o,s,f={id:h,text:n.text||"",icon:n.icon===t||n.icon,parent:i,parents:u,children:n.children||[],children_d:n.children_d||[],data:n.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(e in c)c.hasOwnProperty(e)&&(f.state[e]=c[e]);if(n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(f.icon=n.data.jstree.icon),f.icon!==t&&null!==f.icon&&""!==f.icon||(f.icon=!0),n&&n.data&&(f.data=n.data,n.data.jstree))for(e in n.data.jstree)n.data.jstree.hasOwnProperty(e)&&(f.state[e]=n.data.jstree[e]);if(n&&"object"==typeof n.state)for(e in n.state)n.state.hasOwnProperty(e)&&(f.state[e]=n.state[e]);if(n&&"object"==typeof n.li_attr)for(e in n.li_attr)n.li_attr.hasOwnProperty(e)&&(f.li_attr[e]=n.li_attr[e]);if(f.li_attr.id||(f.li_attr.id=h),n&&"object"==typeof n.a_attr)for(e in n.a_attr)n.a_attr.hasOwnProperty(e)&&(f.a_attr[e]=n.a_attr[e]);for(n&&n.children&&!0===n.children&&(f.state.loaded=!1,f.children=[],f.children_d=[]),e=0,l=(r[f.id]=f).children.length;e<l;e++)o=w(r[f.children[e]],f.id,u),s=r[o],f.children_d.push(o),s.children_d.length&&(f.children_d=f.children_d.concat(s.children_d));return delete n.data,delete n.children,r[f.id].original=n,f.state.selected&&a.push(f.id),f.id},b=function(n,i,u){u=u?u.concat():[];i&&u.unshift(i);var o=!1,e,l,s,h,f;do o="j"+k+"_"+ ++y;while(r[o]);for(e in f={id:!1,text:"string"==typeof n?n:"",icon:"object"!=typeof n||n.icon===t||n.icon,parent:i,parents:u,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},c)c.hasOwnProperty(e)&&(f.state[e]=c[e]);if(n&&(n.id||0===n.id)&&(f.id=n.id.toString()),n&&n.text&&(f.text=n.text),n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(f.icon=n.data.jstree.icon),f.icon!==t&&null!==f.icon&&""!==f.icon||(f.icon=!0),n&&n.data&&(f.data=n.data,n.data.jstree))for(e in n.data.jstree)n.data.jstree.hasOwnProperty(e)&&(f.state[e]=n.data.jstree[e]);if(n&&"object"==typeof n.state)for(e in n.state)n.state.hasOwnProperty(e)&&(f.state[e]=n.state[e]);if(n&&"object"==typeof n.li_attr)for(e in n.li_attr)n.li_attr.hasOwnProperty(e)&&(f.li_attr[e]=n.li_attr[e]);if(f.li_attr.id&&!f.id&&0!==f.id&&(f.id=f.li_attr.id.toString()),f.id||0===f.id||(f.id=o),f.li_attr.id||(f.li_attr.id=f.id),n&&"object"==typeof n.a_attr)for(e in n.a_attr)n.a_attr.hasOwnProperty(e)&&(f.a_attr[e]=n.a_attr[e]);if(n&&n.children&&n.children.length){for(e=0,l=n.children.length;e<l;e++)s=b(n.children[e],f.id,u),h=r[s],f.children.push(s),h.children_d.length&&(f.children_d=f.children_d.concat(h.children_d));f.children_d=f.children_d.concat(f.children)}return n&&n.children&&!0===n.children&&(f.state.loaded=!1,f.children=[],f.children_d=[]),delete n.data,delete n.children,f.original=n,(r[f.id]=f).state.selected&&a.push(f.id),f.id};if(u.length&&u[0].id!==t&&u[0].parent!==t){for(i=0,o=u.length;i<o;i++)u[i].children||(u[i].children=[]),u[i].state||(u[i].state={}),r[u[i].id.toString()]=u[i];for(i=0,o=u.length;i<o;i++)r[u[i].parent.toString()]?(r[u[i].parent.toString()].children.push(u[i].id.toString()),e.children_d.push(u[i].id.toString())):void 0!==f&&(f._data.core.last_error={error:"parse",plugin:"core",id:"core_07",reason:"Node with invalid parent",data:JSON.stringify({id:u[i].id.toString(),parent:u[i].parent.toString()})},f.settings.core.error.call(f,f._data.core.last_error));for(i=0,o=e.children.length;i<o;i++)h=w(r[e.children[i]],l,e.parents.concat()),s.push(h),r[h].children_d.length&&(s=s.concat(r[h].children_d));for(i=0,o=e.parents.length;i<o;i++)r[e.parents[i]].children_d=r[e.parents[i]].children_d.concat(s);v={cnt:y,mod:r,sel:n,par:l,dpc:s,add:a}}else{for(i=0,o=u.length;i<o;i++)(h=b(u[i],l,e.parents.concat()))&&(p.push(h),s.push(h),r[h].children_d.length&&(s=s.concat(r[h].children_d)));for(e.children=p,e.children_d=s,i=0,o=e.parents.length;i<o;i++)r[e.parents[i]].children_d=r[e.parents[i]].children_d.concat(s);v={cnt:y,mod:r,sel:n,par:l,dpc:s,add:a}}if("undefined"!=typeof window&&void 0!==window.document)return v;postMessage(v)},h=function(t,i){var u,o;if(null!==this.element){for(u in this._cnt=t.cnt,o=this._model.data)o.hasOwnProperty(u)&&o[u].state&&o[u].state.loading&&t.mod[u]&&(t.mod[u].state.loading=!0);if(this._model.data=t.mod,i){var h,c=t.add,e=t.sel,s=this._data.core.selected.slice(),o=this._model.data;if(e.length!==s.length||n.vakata.array_unique(e.concat(s)).length!==e.length){for(u=0,h=e.length;u<h;u++)-1===n.inArray(e[u],c)&&-1===n.inArray(e[u],s)&&(o[e[u]].state.selected=!1);for(u=0,h=s.length;u<h;u++)-1===n.inArray(s[u],e)&&(o[s[u]].state.selected=!0)}}t.add.length&&(this._data.core.selected=this._data.core.selected.concat(t.add));this.trigger("model",{nodes:t.dpc,parent:t.par});t.par!==n.jstree.root?(this._node_changed(t.par),this.redraw()):this.redraw(!0);t.add.length&&this.trigger("changed",{action:"model",selected:this._data.core.selected});!i&&p?p(function(){r.call(f,!0)}):r.call(f,!0)}};if(this.settings.core.worker&&window.Blob&&window.URL&&window.Worker)try{null===this._wrk&&(this._wrk=window.URL.createObjectURL(new window.Blob(["self.onmessage = "+s.toString()],{type:"text/javascript"})));!this._data.core.working||u?(this._data.core.working=!0,(e=new window.Worker(this._wrk)).onmessage=function(n){h.call(this,n.data,!0);try{e.terminate();e=null}catch(n){}this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),e.onerror=function(){h.call(this,s(o),!1);this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}.bind(this),o.par?e.postMessage(o):this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1):this._data.core.worker_queue.push([t,i,r,!0])}catch(t){h.call(this,s(o),!1);this._data.core.worker_queue.length?this._append_json_data.apply(this,this._data.core.worker_queue.shift()):this._data.core.working=!1}else h.call(this,s(o),!1)}},_parse_model_from_html:function(i,r,u){u=u?[].concat(u):[];r&&u.unshift(r);var o,s,c=this._model.data,f={id:!1,text:!1,icon:!0,parent:r,parents:u,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},e,r,h;for(e in this._model.default_state)this._model.default_state.hasOwnProperty(e)&&(f.state[e]=this._model.default_state[e]);if(r=n.vakata.attributes(i,!0),n.each(r,function(t,i){return!(i=n.vakata.trim(i)).length||(f.li_attr[t]=i,void("id"===t&&(f.id=i.toString())))}),(r=i.children("a").first()).length&&(r=n.vakata.attributes(r,!0),n.each(r,function(t,i){(i=n.vakata.trim(i)).length&&(f.a_attr[t]=i)})),(r=(i.children("a").first().length?i.children("a").first():i).clone()).children("ins, i, ul").remove(),r=r.html(),r=n("<div><\/div>").html(r),f.text=this.settings.core.force_text?r.text():r.html(),r=i.data(),f.data=r?n.extend(!0,{},r):null,f.state.opened=i.hasClass("jstree-open"),f.state.selected=i.children("a").hasClass("jstree-clicked"),f.state.disabled=i.children("a").hasClass("jstree-disabled"),f.data&&f.data.jstree)for(e in f.data.jstree)f.data.jstree.hasOwnProperty(e)&&(f.state[e]=f.data.jstree[e]);(r=i.children("a").children(".jstree-themeicon")).length&&(f.icon=!r.hasClass("jstree-themeicon-hidden")&&r.attr("rel"));f.state.icon!==t&&(f.icon=f.state.icon);f.icon!==t&&null!==f.icon&&""!==f.icon||(f.icon=!0);r=i.children("ul").children("li");do h="j"+this._id+"_"+ ++this._cnt;while(c[h]);return f.id=f.li_attr.id?f.li_attr.id.toString():h,r.length?(r.each(function(t,i){o=this._parse_model_from_html(n(i),f.id,u);s=this._model.data[o];f.children.push(o);s.children_d.length&&(f.children_d=f.children_d.concat(s.children_d))}.bind(this)),f.children_d=f.children_d.concat(f.children)):i.hasClass("jstree-closed")&&(f.state.loaded=!1),f.li_attr.class&&(f.li_attr.class=f.li_attr.class.replace("jstree-closed","").replace("jstree-open","")),f.a_attr.class&&(f.a_attr.class=f.a_attr.class.replace("jstree-clicked","").replace("jstree-disabled","")),(c[f.id]=f).state.selected&&this._data.core.selected.push(f.id),f.id},_parse_model_from_flat_json:function(n,i,r){r=r?r.concat():[];i&&r.unshift(i);var h=n.id.toString(),e=this._model.data,o=this._model.default_state,f,c,l,s,u={id:h,text:n.text||"",icon:n.icon===t||n.icon,parent:i,parents:r,children:n.children||[],children_d:n.children_d||[],data:n.data,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1};for(f in o)o.hasOwnProperty(f)&&(u.state[f]=o[f]);if(n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(u.icon=n.data.jstree.icon),u.icon!==t&&null!==u.icon&&""!==u.icon||(u.icon=!0),n&&n.data&&(u.data=n.data,n.data.jstree))for(f in n.data.jstree)n.data.jstree.hasOwnProperty(f)&&(u.state[f]=n.data.jstree[f]);if(n&&"object"==typeof n.state)for(f in n.state)n.state.hasOwnProperty(f)&&(u.state[f]=n.state[f]);if(n&&"object"==typeof n.li_attr)for(f in n.li_attr)n.li_attr.hasOwnProperty(f)&&(u.li_attr[f]=n.li_attr[f]);if(u.li_attr.id||(u.li_attr.id=h),n&&"object"==typeof n.a_attr)for(f in n.a_attr)n.a_attr.hasOwnProperty(f)&&(u.a_attr[f]=n.a_attr[f]);for(n&&n.children&&!0===n.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),f=0,c=(e[u.id]=u).children.length;f<c;f++)s=e[l=this._parse_model_from_flat_json(e[u.children[f]],u.id,r)],u.children_d.push(l),s.children_d.length&&(u.children_d=u.children_d.concat(s.children_d));return delete n.data,delete n.children,e[u.id].original=n,u.state.selected&&this._data.core.selected.push(u.id),u.id},_parse_model_from_json:function(n,i,r){r=r?r.concat():[];i&&r.unshift(i);var e=!1,f,c,l,o,s=this._model.data,h=this._model.default_state,u;do e="j"+this._id+"_"+ ++this._cnt;while(s[e]);for(f in u={id:!1,text:"string"==typeof n?n:"",icon:"object"!=typeof n||n.icon===t||n.icon,parent:i,parents:r,children:[],children_d:[],data:null,state:{},li_attr:{id:!1},a_attr:{href:"#"},original:!1},h)h.hasOwnProperty(f)&&(u.state[f]=h[f]);if(n&&(n.id||0===n.id)&&(u.id=n.id.toString()),n&&n.text&&(u.text=n.text),n&&n.data&&n.data.jstree&&n.data.jstree.icon&&(u.icon=n.data.jstree.icon),u.icon!==t&&null!==u.icon&&""!==u.icon||(u.icon=!0),n&&n.data&&(u.data=n.data,n.data.jstree))for(f in n.data.jstree)n.data.jstree.hasOwnProperty(f)&&(u.state[f]=n.data.jstree[f]);if(n&&"object"==typeof n.state)for(f in n.state)n.state.hasOwnProperty(f)&&(u.state[f]=n.state[f]);if(n&&"object"==typeof n.li_attr)for(f in n.li_attr)n.li_attr.hasOwnProperty(f)&&(u.li_attr[f]=n.li_attr[f]);if(u.li_attr.id&&!u.id&&0!==u.id&&(u.id=u.li_attr.id.toString()),u.id||0===u.id||(u.id=e),u.li_attr.id||(u.li_attr.id=u.id),n&&"object"==typeof n.a_attr)for(f in n.a_attr)n.a_attr.hasOwnProperty(f)&&(u.a_attr[f]=n.a_attr[f]);if(n&&n.children&&n.children.length){for(f=0,c=n.children.length;f<c;f++)o=s[l=this._parse_model_from_json(n.children[f],u.id,r)],u.children.push(l),o.children_d.length&&(u.children_d=u.children_d.concat(o.children_d));u.children_d=u.children.concat(u.children_d)}return n&&n.children&&!0===n.children&&(u.state.loaded=!1,u.children=[],u.children_d=[]),delete n.data,delete n.children,u.original=n,(s[u.id]=u).state.selected&&this._data.core.selected.push(u.id),u.id},_redraw:function(){for(var r=(this._model.force_full_redraw?this._model.data[n.jstree.root].children:this._model.changed).concat([]),i=e.createElement("UL"),t,f=this._data.core.focused,u=0,o=r.length;u<o;u++)(t=this.redraw_node(r[u],!0,this._model.force_full_redraw))&&this._model.force_full_redraw&&i.appendChild(t);this._model.force_full_redraw&&(i.className=this.get_container_ul()[0].className,i.setAttribute("role","presentation"),this.element.empty().append(i));null!==f&&this.settings.core.restore_focus&&((t=this.get_node(f,!0))&&t.length&&t.children(".jstree-anchor")[0]!==e.activeElement?t.children(".jstree-anchor").trigger("focus"):this._data.core.focused=null);this._model.force_full_redraw=!1;this._model.changed=[];this.trigger("redraw",{nodes:r})},redraw:function(n){n&&(this._model.force_full_redraw=!0);this._redraw()},draw_children:function(t){var i=this.get_node(t),r=!1,f=!1,u=!1,o=e;if(!i)return!1;if(i.id===n.jstree.root)return this.redraw(!0);if(!(t=this.get_node(t,!0))||!t.length)return!1;if(t.children(".jstree-children").remove(),t=t[0],i.children.length&&i.state.loaded){for((u=o.createElement("UL")).setAttribute("role","group"),u.className="jstree-children",r=0,f=i.children.length;r<f;r++)u.appendChild(this.redraw_node(i.children[r],!0,!0));t.appendChild(u)}},redraw_node:function(t,i,r,u){var f=this.get_node(t),s=!1,v=!1,w=!1,o=!1,h=!1,y=!1,c="",b=e,l=this._model.data,k=!1,a=null,d=0,g=0,nt=!1,p=!1;if(!f)return!1;if(f.id===n.jstree.root)return this.redraw(!0);if(i=i||0===f.children.length,t=e.querySelector?this.element[0].querySelector("#"+(-1!=="0123456789".indexOf(f.id[0])?"\\3"+f.id[0]+" "+f.id.substr(1).replace(n.jstree.idregex,"\\$&"):f.id.replace(n.jstree.idregex,"\\$&"))):e.getElementById(f.id))t=n(t),r||((s=t.parent().parent()[0])===this.element[0]&&(s=null),v=t.index()),(i=!i&&f.children.length&&!t.children(".jstree-children").length?!0:i)||(w=t.children(".jstree-children")[0]),k=t.children(".jstree-anchor")[0]===e.activeElement,t.remove();else if(i=!0,!r){if(!(null===(s=f.parent!==n.jstree.root?n("#"+f.parent.replace(n.jstree.idregex,"\\$&"),this.element)[0]:null)||s&&l[f.parent].state.opened))return!1;v=n.inArray(f.id,(null===s?l[n.jstree.root]:l[f.parent]).children)}for(o in t=this._data.core.node.cloneNode(!0),c="jstree-node ",f.li_attr)f.li_attr.hasOwnProperty(o)&&"id"!==o&&("class"!==o?t.setAttribute(o,f.li_attr[o]):c+=f.li_attr[o]);for(f.a_attr.id||(f.a_attr.id=f.id+"_anchor"),t.childNodes[1].setAttribute("aria-selected",!!f.state.selected),t.childNodes[1].setAttribute("aria-level",f.parents.length),this.settings.core.compute_elements_positions&&(t.childNodes[1].setAttribute("aria-setsize",l[f.parent].children.length),t.childNodes[1].setAttribute("aria-posinset",l[f.parent].children.indexOf(f.id)+1)),f.state.disabled&&t.childNodes[1].setAttribute("aria-disabled",!0),o=0,h=f.children.length;o<h;o++)if(!l[f.children[o]].state.hidden){nt=!0;break}if(null!==f.parent&&l[f.parent]&&!f.state.hidden&&(o=n.inArray(f.id,l[f.parent].children),p=f.id,-1!==o))for(o++,h=l[f.parent].children.length;o<h;o++)if((p=l[l[f.parent].children[o]].state.hidden?p:l[f.parent].children[o])!==f.id)break;for(h in f.state.hidden&&(c+=" jstree-hidden"),f.state.loading&&(c+=" jstree-loading"),f.state.loaded&&!nt?c+=" jstree-leaf":(c+=f.state.opened&&f.state.loaded?" jstree-open":" jstree-closed",t.childNodes[1].setAttribute("aria-expanded",f.state.opened&&f.state.loaded)),p===f.id&&(c+=" jstree-last"),t.id=f.id,t.className=c,c=(f.state.selected?" jstree-clicked":"")+(f.state.disabled?" jstree-disabled":""),f.a_attr)f.a_attr.hasOwnProperty(h)&&("href"===h&&"#"===f.a_attr[h]||("class"!==h?t.childNodes[1].setAttribute(h,f.a_attr[h]):c+=" "+f.a_attr[h]));if(c.length&&(t.childNodes[1].className="jstree-anchor "+c),(f.icon&&!0!==f.icon||!1===f.icon)&&(!1===f.icon?t.childNodes[1].childNodes[0].className+=" jstree-themeicon-hidden":-1===f.icon.indexOf("/")&&-1===f.icon.indexOf(".")?t.childNodes[1].childNodes[0].className+=" "+f.icon+" jstree-themeicon-custom":(t.childNodes[1].childNodes[0].style.backgroundImage='url("'+f.icon+'")',t.childNodes[1].childNodes[0].style.backgroundPosition="center center",t.childNodes[1].childNodes[0].style.backgroundSize="auto",t.childNodes[1].childNodes[0].className+=" jstree-themeicon-custom")),this.settings.core.force_text?t.childNodes[1].appendChild(b.createTextNode(f.text)):t.childNodes[1].innerHTML+=f.text,i&&f.children.length&&(f.state.opened||u)&&f.state.loaded){for((y=b.createElement("UL")).setAttribute("role","group"),y.className="jstree-children",o=0,h=f.children.length;o<h;o++)y.appendChild(this.redraw_node(f.children[o],i,!0));t.appendChild(y)}if(w&&t.appendChild(w),!r){for(o=0,h=(s=s||this.element[0]).childNodes.length;o<h;o++)if(s.childNodes[o]&&s.childNodes[o].className&&-1!==s.childNodes[o].className.indexOf("jstree-children")){a=s.childNodes[o];break}a||((a=b.createElement("UL")).setAttribute("role","group"),a.className="jstree-children",s.appendChild(a));v<(s=a).childNodes.length?s.insertBefore(t,s.childNodes[v]):s.appendChild(t);k&&(d=this.element[0].scrollTop,g=this.element[0].scrollLeft,t.childNodes[1].focus(),this.element[0].scrollTop=d,this.element[0].scrollLeft=g)}return f.state.opened&&!f.state.loaded&&(f.state.opened=!1,setTimeout(function(){this.open_node(f.id,!1,0)}.bind(this),0)),t},open_node:function(i,r,u){var e,s,f,o;if(n.vakata.is_array(i)){for(e=0,s=(i=i.slice()).length;e<s;e++)this.open_node(i[e],r,u);return!0}return!(!(i=this.get_node(i))||i.id===n.jstree.root)&&(u=u===t?this.settings.core.animation:u,this.is_closed(i)?this.is_loaded(i)?(f=this.get_node(i,!0),o=this,f.length&&(u&&f.children(".jstree-children").length&&f.children(".jstree-children").stop(!0,!0),i.children.length&&!this._firstChild(f.children(".jstree-children")[0])&&this.draw_children(i),u?(this.trigger("before_open",{node:i}),f.children(".jstree-children").css("display","none").end().removeClass("jstree-closed").addClass("jstree-open").children(".jstree-anchor").attr("aria-expanded",!0).end().children(".jstree-children").stop(!0,!0).slideDown(u,function(){this.style.display="";o.element&&o.trigger("after_open",{node:i})})):(this.trigger("before_open",{node:i}),f[0].className=f[0].className.replace("jstree-closed","jstree-open"),f[0].childNodes[1].setAttribute("aria-expanded",!0))),i.state.opened=!0,r&&r.call(this,i,!0),f.length||this.trigger("before_open",{node:i}),this.trigger("open_node",{node:i}),u&&f.length||this.trigger("after_open",{node:i}),!0):this.is_loading(i)?setTimeout(function(){this.open_node(i,r,u)}.bind(this),500):void this.load_node(i,function(n,t){return t?this.open_node(n,r,u):!!r&&r.call(this,n,!1)}):(r&&r.call(this,i,!1),!1))},_open_to:function(t){if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;for(var r=t.parents,i=0,u=r.length;i<u;i+=1)i!==n.jstree.root&&this.open_node(r[i],!1,0);return n("#"+t.id.replace(n.jstree.idregex,"\\$&"),this.element)},close_node:function(i,r){var f,o,e,u;if(n.vakata.is_array(i)){for(f=0,o=(i=i.slice()).length;f<o;f++)this.close_node(i[f],r);return!0}return!(!(i=this.get_node(i))||i.id===n.jstree.root)&&!this.is_closed(i)&&(r=r===t?this.settings.core.animation:r,u=(e=this).get_node(i,!0),i.state.opened=!1,this.trigger("close_node",{node:i}),void(u.length?r?u.children(".jstree-children").attr("style","display:block !important").end().removeClass("jstree-open").addClass("jstree-closed").children(".jstree-anchor").attr("aria-expanded",!1).end().children(".jstree-children").stop(!0,!0).slideUp(r,function(){this.style.display="";u.children(".jstree-children").remove();e.element&&e.trigger("after_close",{node:i})}):(u[0].className=u[0].className.replace("jstree-open","jstree-closed"),u.children(".jstree-anchor").attr("aria-expanded",!1),u.children(".jstree-children").remove(),this.trigger("after_close",{node:i})):this.trigger("after_close",{node:i})))},toggle_node:function(t){var i,r;if(n.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.toggle_node(t[i]);return!0}return this.is_closed(t)?this.open_node(t):this.is_open(t)?this.close_node(t):void 0},open_all:function(t,i,r){if(t=t||n.jstree.root,!(t=this.get_node(t)))return!1;var u=t.id===n.jstree.root?this.get_container_ul():this.get_node(t,!0),f,e,o;if(!u.length){for(f=0,e=t.children_d.length;f<e;f++)this.is_closed(this._model.data[t.children_d[f]])&&(this._model.data[t.children_d[f]].state.opened=!0);return this.trigger("open_all",{node:t})}r=r||u;(u=(o=this).is_closed(t)?u.find(".jstree-closed").addBack():u.find(".jstree-closed")).each(function(){o.open_node(this,function(n,t){t&&this.is_parent(n)&&this.open_all(n,i,r)},i||0)});0===r.find(".jstree-closed").length&&this.trigger("open_all",{node:this.get_node(r)})},close_all:function(t,i){if(t=t||n.jstree.root,!(t=this.get_node(t)))return!1;var r=t.id===n.jstree.root?this.get_container_ul():this.get_node(t,!0),e=this,u,f;for(r.length&&(r=this.is_open(t)?r.find(".jstree-open").addBack():r.find(".jstree-open"),n(r.get().reverse()).each(function(){e.close_node(this,i||0)})),u=0,f=t.children_d.length;u<f;u++)this._model.data[t.children_d[u]].state.opened=!1;this.trigger("close_all",{node:t})},is_disabled:function(n){return(n=this.get_node(n))&&n.state&&n.state.disabled},enable_node:function(t){var i,r;if(n.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.enable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;t.state.disabled=!1;this.get_node(t,!0).children(".jstree-anchor").removeClass("jstree-disabled").attr("aria-disabled",!1);this.trigger("enable_node",{node:t})},disable_node:function(t){var i,r;if(n.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.disable_node(t[i]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;t.state.disabled=!0;this.get_node(t,!0).children(".jstree-anchor").addClass("jstree-disabled").attr("aria-disabled",!0);this.trigger("disable_node",{node:t})},is_hidden:function(n){return!0===(n=this.get_node(n)).state.hidden},hide_node:function(t,i){var r,u;if(n.vakata.is_array(t)){for(r=0,u=(t=t.slice()).length;r<u;r++)this.hide_node(t[r],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;t.state.hidden||(t.state.hidden=!0,this._node_changed(t.parent),i||this.redraw(),this.trigger("hide_node",{node:t}))},show_node:function(t,i){var r,u;if(n.vakata.is_array(t)){for(r=0,u=(t=t.slice()).length;r<u;r++)this.show_node(t[r],!0);return i||this.redraw(),!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;t.state.hidden&&(t.state.hidden=!1,this._node_changed(t.parent),i||this.redraw(),this.trigger("show_node",{node:t}))},hide_all:function(t){var i,r=this._model.data,u=[];for(i in r)r.hasOwnProperty(i)&&i!==n.jstree.root&&!r[i].state.hidden&&(r[i].state.hidden=!0,u.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("hide_all",{nodes:u}),u},show_all:function(t){var i,r=this._model.data,u=[];for(i in r)r.hasOwnProperty(i)&&i!==n.jstree.root&&r[i].state.hidden&&(r[i].state.hidden=!1,u.push(i));return this._model.force_full_redraw=!0,t||this.redraw(),this.trigger("show_all",{nodes:u}),u},activate_node:function(n,i){if(this.is_disabled(n))return!1;if(i&&"object"==typeof i||(i={}),this._data.core.last_clicked=this._data.core.last_clicked&&this._data.core.last_clicked.id!==t?this.get_node(this._data.core.last_clicked.id):null,this._data.core.last_clicked&&!this._data.core.last_clicked.state.selected&&(this._data.core.last_clicked=null),!this._data.core.last_clicked&&this._data.core.selected.length&&(this._data.core.last_clicked=this.get_node(this._data.core.selected[this._data.core.selected.length-1])),this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&(!i.shiftKey||this._data.core.last_clicked&&this.get_parent(n)&&this.get_parent(n)===this._data.core.last_clicked.parent))if(i.shiftKey){for(var e=this.get_node(n).id,o=this._data.core.last_clicked.id,u=this.get_node(this._data.core.last_clicked.parent).children,f=!1,r=0,s=u.length;r<s;r+=1)u[r]===e&&(f=!f),u[r]===o&&(f=!f),this.is_disabled(u[r])||!f&&u[r]!==e&&u[r]!==o?i.ctrlKey||this.deselect_node(u[r],!0,i):this.is_hidden(u[r])||this.select_node(u[r],!0,!1,i);this.trigger("changed",{action:"select_node",node:this.get_node(n),selected:this._data.core.selected,event:i})}else this.is_selected(n)?this.deselect_node(n,!1,i):(i.ctrlKey&&(this._data.core.last_clicked=this.get_node(n)),this.select_node(n,!1,!1,i));else!this.settings.core.multiple&&(i.metaKey||i.ctrlKey||i.shiftKey)&&this.is_selected(n)?this.deselect_node(n,!1,i):(this.is_selected(n)&&1===this._data.core.selected.length||(this.deselect_all(!0),this.select_node(n,!1,!1,i)),this._data.core.last_clicked=this.get_node(n));this.trigger("activate_node",{node:this.get_node(n),event:i})},hover_node:function(n){if(!(n=this.get_node(n,!0))||!n.length||n.children(".jstree-hovered").length)return!1;var t=this.element.find(".jstree-hovered"),i=this.element;t&&t.length&&this.dehover_node(t);n.children(".jstree-anchor").addClass("jstree-hovered");this.trigger("hover_node",{node:this.get_node(n)});setTimeout(function(){i.attr("aria-activedescendant",n[0].id)},0)},dehover_node:function(n){if(!(n=this.get_node(n,!0))||!n.length||!n.children(".jstree-hovered").length)return!1;n.children(".jstree-anchor").removeClass("jstree-hovered");this.trigger("dehover_node",{node:this.get_node(n)})},select_node:function(t,i,r,u){var f,e,o;if(n.vakata.is_array(t)){for(e=0,o=(t=t.slice()).length;e<o;e++)this.select_node(t[e],i,r,u);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;f=this.get_node(t,!0);t.state.selected||(t.state.selected=!0,this._data.core.selected.push(t.id),(f=r?f:this._open_to(t))&&f.length&&f.children(".jstree-anchor").addClass("jstree-clicked").attr("aria-selected",!0),this.trigger("select_node",{node:t,selected:this._data.core.selected,event:u}),i||this.trigger("changed",{action:"select_node",node:t,selected:this._data.core.selected,event:u}))},deselect_node:function(t,i,r){var u,e,f;if(n.vakata.is_array(t)){for(u=0,e=(t=t.slice()).length;u<e;u++)this.deselect_node(t[u],i,r);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;f=this.get_node(t,!0);t.state.selected&&(t.state.selected=!1,this._data.core.selected=n.vakata.array_remove_item(this._data.core.selected,t.id),f.length&&f.children(".jstree-anchor").removeClass("jstree-clicked").attr("aria-selected",!1),this.trigger("deselect_node",{node:t,selected:this._data.core.selected,event:r}),i||this.trigger("changed",{action:"deselect_node",node:t,selected:this._data.core.selected,event:r}))},select_all:function(t){var u=this._data.core.selected.concat([]),i,r;for(this._data.core.selected=this._model.data[n.jstree.root].children_d.concat(),i=0,r=this._data.core.selected.length;i<r;i++)this._model.data[this._data.core.selected[i]]&&(this._model.data[this._data.core.selected[i]].state.selected=!0);this.redraw(!0);this.trigger("select_all",{selected:this._data.core.selected});t||this.trigger("changed",{action:"select_all",selected:this._data.core.selected,old_selection:u})},deselect_all:function(n){for(var i=this._data.core.selected.concat([]),t=0,r=this._data.core.selected.length;t<r;t++)this._model.data[this._data.core.selected[t]]&&(this._model.data[this._data.core.selected[t]].state.selected=!1);this._data.core.selected=[];this.element.find(".jstree-clicked").removeClass("jstree-clicked").attr("aria-selected",!1);this.trigger("deselect_all",{selected:this._data.core.selected,node:i});n||this.trigger("changed",{action:"deselect_all",selected:this._data.core.selected,old_selection:i})},is_selected:function(t){return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.state.selected},get_selected:function(t){return t?n.map(this._data.core.selected,function(n){return this.get_node(n)}.bind(this)):this._data.core.selected.slice()},get_top_selected:function(t){for(var r=this.get_selected(!0),u={},f,o,i=0,e=r.length;i<e;i++)u[r[i].id]=r[i];for(i=0,e=r.length;i<e;i++)for(f=0,o=r[i].children_d.length;f<o;f++)u[r[i].children_d[f]]&&delete u[r[i].children_d[f]];for(i in r=[],u)u.hasOwnProperty(i)&&r.push(i);return t?n.map(r,function(n){return this.get_node(n)}.bind(this)):r},get_bottom_selected:function(t){for(var r=this.get_selected(!0),u=[],i=0,f=r.length;i<f;i++)r[i].children.length||u.push(r[i].id);return t?n.map(u,function(n){return this.get_node(n)}.bind(this)):u},get_state:function(){var i={core:{open:[],loaded:[],scroll:{left:this.element.scrollLeft(),top:this.element.scrollTop()},selected:[]}};for(var t in this._model.data)this._model.data.hasOwnProperty(t)&&t!==n.jstree.root&&(this._model.data[t].state.loaded&&this.settings.core.loaded_state&&i.core.loaded.push(t),this._model.data[t].state.opened&&i.core.open.push(t),this._model.data[t].state.selected&&i.core.selected.push(t));return i},set_state:function(i,r){if(i){if(i.core&&i.core.selected&&i.core.initial_selection===t&&(i.core.initial_selection=this._data.core.selected.concat([]).sort().join(",")),i.core){var f,u;if(i.core.loaded)return this.settings.core.loaded_state&&n.vakata.is_array(i.core.loaded)&&i.core.loaded.length?this._load_nodes(i.core.loaded,function(){delete i.core.loaded;this.set_state(i,r)}):(delete i.core.loaded,this.set_state(i,r)),!1;if(i.core.open)return n.vakata.is_array(i.core.open)&&i.core.open.length?this._load_nodes(i.core.open,function(n){this.open_node(n,!1,0);delete i.core.open;this.set_state(i,r)}):(delete i.core.open,this.set_state(i,r)),!1;if(i.core.scroll)return i.core.scroll&&i.core.scroll.left!==t&&this.element.scrollLeft(i.core.scroll.left),i.core.scroll&&i.core.scroll.top!==t&&this.element.scrollTop(i.core.scroll.top),delete i.core.scroll,this.set_state(i,r),!1;if(i.core.selected)return f=this,i.core.initial_selection!==t&&i.core.initial_selection!==this._data.core.selected.concat([]).sort().join(",")||(this.deselect_all(),n.each(i.core.selected,function(n,t){f.select_node(t,!1,!0)})),delete i.core.initial_selection,delete i.core.selected,this.set_state(i,r),!1;for(u in i)i.hasOwnProperty(u)&&"core"!==u&&-1===n.inArray(u,this.settings.plugins)&&delete i[u];if(n.isEmptyObject(i.core))return delete i.core,this.set_state(i,r),!1}return n.isEmptyObject(i)?(i=null,r&&r.call(this),this.trigger("set_state"),!1):!0}return!1},refresh:function(t,i){this._data.core.state=!0===i?{}:this.get_state();i&&n.vakata.is_function(i)&&(this._data.core.state=i.call(this,this._data.core.state));this._cnt=0;this._model.data={};this._model.data[n.jstree.root]={id:n.jstree.root,parent:null,parents:[],children:[],children_d:[],state:{loaded:!1}};this._data.core.selected=[];this._data.core.last_clicked=null;this._data.core.focused=null;var r=this.get_container_ul()[0].className;t||(this.element.html("<ul class='"+r+"' role='group'><li class='jstree-initial-node jstree-loading jstree-leaf jstree-last' role='none' id='j"+this._id+"_loading'><i class='jstree-icon jstree-ocl'><\/i><a class='jstree-anchor' role='treeitem' href='#'><i class='jstree-icon jstree-themeicon-hidden'><\/i>"+this.get_string("Loading ...")+"<\/a><\/li><\/ul>"),this.element.attr("aria-activedescendant","j"+this._id+"_loading"));this.load_node(n.jstree.root,function(t,i){i&&(this.get_container_ul()[0].className=r,this._firstChild(this.get_container_ul()[0])&&this.element.attr("aria-activedescendant",this._firstChild(this.get_container_ul()[0]).id),this.set_state(n.extend(!0,{},this._data.core.state),function(){this.trigger("refresh")}));this._data.core.state=null})},refresh_node:function(t){if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;var i=[],r=[],u=this._data.core.selected.concat([]);r.push(t.id);!0===t.state.opened&&i.push(t.id);this.get_node(t,!0).find(".jstree-open").each(function(){r.push(this.id);i.push(this.id)});this._load_nodes(r,function(n){this.open_node(i,!1,0);this.select_node(u);this.trigger("refresh_node",{node:t,nodes:n})}.bind(this),!1,!0)},set_id:function(t,i){if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;var r,f,u=this._model.data,e=t.id;for(i=i.toString(),u[t.parent].children[n.inArray(t.id,u[t.parent].children)]=i,r=0,f=t.parents.length;r<f;r++)u[t.parents[r]].children_d[n.inArray(t.id,u[t.parents[r]].children_d)]=i;for(r=0,f=t.children.length;r<f;r++)u[t.children[r]].parent=i;for(r=0,f=t.children_d.length;r<f;r++)u[t.children_d[r]].parents[n.inArray(t.id,u[t.children_d[r]].parents)]=i;return-1!==(r=n.inArray(t.id,this._data.core.selected))&&(this._data.core.selected[r]=i),(r=this.get_node(t.id,!0))&&(r.attr("id",i),this.element.attr("aria-activedescendant")===t.id&&this.element.attr("aria-activedescendant",i)),delete u[t.id],t.id=i,u[t.li_attr.id=i]=t,this.trigger("set_id",{node:t,"new":t.id,old:e}),!0},get_text:function(t){return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.text},set_text:function(t,i){var r,u;if(n.vakata.is_array(t)){for(r=0,u=(t=t.slice()).length;r<u;r++)this.set_text(t[r],i);return!0}return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&(t.text=i,this.get_node(t,!0).length&&this.redraw_node(t.id),this.trigger("set_text",{obj:t,text:i}),!0)},get_json:function(t,i,r){if(!(t=this.get_node(t||n.jstree.root)))return!1;i&&i.flat&&!r&&(r=[]);var u={id:t.id,text:t.text,icon:this.get_icon(t),li_attr:n.extend(!0,{},t.li_attr),a_attr:n.extend(!0,{},t.a_attr),state:{},data:(!i||!i.no_data)&&n.extend(!0,n.vakata.is_array(t.data)?[]:{},t.data)},f,e;if(i&&i.flat?u.parent=t.parent:u.children=[],i&&i.no_state)delete u.state;else for(f in t.state)t.state.hasOwnProperty(f)&&(u.state[f]=t.state[f]);if(i&&i.no_li_attr&&delete u.li_attr,i&&i.no_a_attr&&delete u.a_attr,i&&i.no_id&&(delete u.id,u.li_attr&&u.li_attr.id&&delete u.li_attr.id,u.a_attr&&u.a_attr.id&&delete u.a_attr.id),i&&i.flat&&t.id!==n.jstree.root&&r.push(u),!i||!i.no_children)for(f=0,e=t.children.length;f<e;f++)i&&i.flat?this.get_json(t.children[f],i,r):u.children.push(this.get_json(t.children[f],i));return i&&i.flat?r:t.id===n.jstree.root?u.children:u},create_node:function(i,r,u,f,e){if(null===i&&(i=n.jstree.root),!(i=this.get_node(i)))return!1;if(!(u=u===t?"last":u).toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(i))return this.load_node(i,function(){this.create_node(i,r,u,f,!0)});var o,h,s,c;switch((r="string"==typeof(r=r||{text:this.get_string("New node")})?{text:r}:n.extend(!0,{},r)).text===t&&(r.text=this.get_string("New node")),u=i.id===n.jstree.root&&"after"===(u="before"===u?"first":u)?"last":u){case"before":o=this.get_node(i.parent);u=n.inArray(i.id,o.children);i=o;break;case"after":o=this.get_node(i.parent);u=n.inArray(i.id,o.children)+1;i=o;break;case"inside":case"first":u=0;break;case"last":u=i.children.length;break;default:u=u||0}if(u>i.children.length&&(u=i.children.length),r.id===t&&(r.id=!0),!this.check("create_node",r,i,u))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!0===r.id&&delete r.id,!(r=this._parse_model_from_json(r,i.id,i.parents.concat())))return!1;for(o=this.get_node(r),(h=[]).push(r),h=h.concat(o.children_d),this.trigger("model",{nodes:h,parent:i.id}),i.children_d=i.children_d.concat(h),s=0,c=i.parents.length;s<c;s++)this._model.data[i.parents[s]].children_d=this._model.data[i.parents[s]].children_d.concat(h);for(r=o,o=[],s=0,c=i.children.length;s<c;s++)o[u<=s?s+1:s]=i.children[s];return o[u]=r.id,i.children=o,this.redraw_node(i,!0),this.trigger("create_node",{node:this.get_node(r),parent:i.id,position:u}),f&&f.call(this,this.get_node(r)),r.id},rename_node:function(t,i){var r,u,f;if(n.vakata.is_array(t)){for(r=0,u=(t=t.slice()).length;r<u;r++)this.rename_node(t[r],i);return!0}return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&(f=t.text,this.check("rename_node",t,this.get_parent(t),i)?(this.set_text(t,i),this.trigger("rename_node",{node:t,text:i,old:f}),!0):(this.settings.core.error.call(this,this._data.core.last_error),!1))},delete_node:function(t){var o,c,i,r,e,l,u,s,h,a,f;if(n.vakata.is_array(t)){for(o=0,c=(t=t.slice()).length;o<c;o++)this.delete_node(t[o]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;if(i=this.get_node(t.parent),f=n.inArray(t.id,i.children),h=!1,!this.check("delete_node",t,i,f))return this.settings.core.error.call(this,this._data.core.last_error),!1;for(-1!==f&&(i.children=n.vakata.array_remove(i.children,f)),(r=t.children_d.concat([])).push(t.id),e=0,l=t.parents.length;e<l;e++)this._model.data[t.parents[e]].children_d=n.vakata.array_filter(this._model.data[t.parents[e]].children_d,function(t){return-1===n.inArray(t,r)});for(u=0,s=r.length;u<s;u++)if(this._model.data[r[u]].state.selected){h=!0;break}for(h&&(this._data.core.selected=n.vakata.array_filter(this._data.core.selected,function(t){return-1===n.inArray(t,r)})),this.trigger("delete_node",{node:t,parent:i.id}),h&&this.trigger("changed",{action:"delete_node",node:t,selected:this._data.core.selected,parent:i.id}),u=0,s=r.length;u<s;u++)delete this._model.data[r[u]];return-1!==n.inArray(this._data.core.focused,r)&&(this._data.core.focused=null,a=this.element[0].scrollTop,f=this.element[0].scrollLeft,i.id===n.jstree.root?this._model.data[n.jstree.root].children[0]&&this.get_node(this._model.data[n.jstree.root].children[0],!0).children(".jstree-anchor").trigger("focus"):this.get_node(i,!0).children(".jstree-anchor").trigger("focus"),this.element[0].scrollTop=a,this.element[0].scrollLeft=f),this.redraw_node(i,!0),!0},check:function(t,i,r,u,f){i=i&&i.id?i:this.get_node(i);r=r&&r.id?r:this.get_node(r);var e=t.match(/^(move_node|copy_node|create_node)$/i)?r:i,o=this.settings.core.check_callback;if("move_node"===t||"copy_node"===t){if(!(f&&f.is_multi||"move_node"!==t||n.inArray(i.id,r.children)!==u))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_08",reason:"Moving node to its current position",data:JSON.stringify({chk:t,pos:u,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})});if(!(f&&f.is_multi||i.id!==r.id&&("move_node"!==t||n.inArray(i.id,r.children)!==u)&&-1===n.inArray(r.id,i.children_d)))return!(this._data.core.last_error={error:"check",plugin:"core",id:"core_01",reason:"Moving parent inside child",data:JSON.stringify({chk:t,pos:u,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})})}return(e=e&&e.data?e.data:e)&&e.functions&&(!1===e.functions[t]||!0===e.functions[t])?(!1===e.functions[t]&&(this._data.core.last_error={error:"check",plugin:"core",id:"core_02",reason:"Node data prevents function: "+t,data:JSON.stringify({chk:t,pos:u,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})}),e.functions[t]):!(!1===o||n.vakata.is_function(o)&&!1===o.call(this,t,i,r,u,f)||o&&!1===o[t])||!(this._data.core.last_error={error:"check",plugin:"core",id:"core_03",reason:"User config for core.check_callback prevents function: "+t,data:JSON.stringify({chk:t,pos:u,obj:!(!i||!i.id)&&i.id,par:!(!r||!r.id)&&r.id})})},last_error:function(){return this._data.core.last_error},move_node:function(i,r,u,f,e,o,s){var k,d,y,g,c,l,nt,v,a,h,p,w,tt,b;if(r=this.get_node(r),u=u===t?0:u,!r)return!1;if(!u.toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(r))return this.load_node(r,function(){this.move_node(i,r,u,f,!0,!1,s)});if(n.vakata.is_array(i)){if(1!==i.length){for(k=0,d=i.length;k<d;k++)(a=this.move_node(i[k],r,u,f,e,!1,s))&&(r=a,u="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id!==t?i:this.get_node(i))||i.id===n.jstree.root)return!1;if(y=(i.parent||n.jstree.root).toString(),c=u.toString().match(/^(before|after)$/)&&r.id!==n.jstree.root?this.get_node(r.parent):r,nt=!(l=s||(this._model.data[i.id]?this:n.jstree.reference(i.id)))||!l._id||this._id!==l._id,g=l&&l._id&&y&&l._model.data[y]&&l._model.data[y].children?n.inArray(i.id,l._model.data[y].children):-1,l&&l._id&&(i=l._model.data[i.id]),nt)return!!(a=this.copy_node(i,r,u,f,e,!1,s))&&(l&&l.delete_node(i),a);switch(u=r.id===n.jstree.root&&"after"===(u="before"===u?"first":u)?"last":u){case"before":u=n.inArray(r.id,c.children);break;case"after":u=n.inArray(r.id,c.children)+1;break;case"inside":case"first":u=0;break;case"last":u=c.children.length;break;default:u=u||0}if(u>c.children.length&&(u=c.children.length),!this.check("move_node",i,c,u,{core:!0,origin:s,is_multi:l&&l._id&&l._id!==this._id,is_foreign:!l||!l._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(i.parent===c.id){for(v=c.children.concat(),-1!==(a=n.inArray(i.id,v))&&(v=n.vakata.array_remove(v,a),a<u&&u--),a=[],h=0,p=v.length;h<p;h++)a[u<=h?h+1:h]=v[h];a[u]=i.id;c.children=a;this._node_changed(c.id);this.redraw(c.id===n.jstree.root)}else{for((a=i.children_d.concat()).push(i.id),h=0,p=i.parents.length;h<p;h++){for(v=[],w=0,tt=(b=l._model.data[i.parents[h]].children_d).length;w<tt;w++)-1===n.inArray(b[w],a)&&v.push(b[w]);l._model.data[i.parents[h]].children_d=v}for(l._model.data[y].children=n.vakata.array_remove_item(l._model.data[y].children,i.id),h=0,p=c.parents.length;h<p;h++)this._model.data[c.parents[h]].children_d=this._model.data[c.parents[h]].children_d.concat(a);for(v=[],h=0,p=c.children.length;h<p;h++)v[u<=h?h+1:h]=c.children[h];for(v[u]=i.id,c.children=v,c.children_d.push(i.id),c.children_d=c.children_d.concat(i.children_d),i.parent=c.id,(a=c.parents.concat()).unshift(c.id),b=i.parents.length,a=(i.parents=a).concat(),h=0,p=i.children_d.length;h<p;h++)this._model.data[i.children_d[h]].parents=this._model.data[i.children_d[h]].parents.slice(0,-1*b),Array.prototype.push.apply(this._model.data[i.children_d[h]].parents,a);y!==n.jstree.root&&c.id!==n.jstree.root||(this._model.force_full_redraw=!0);this._model.force_full_redraw||(this._node_changed(y),this._node_changed(c.id));o||this.redraw()}return f&&f.call(this,i,c,u),this.trigger("move_node",{node:i,parent:c.id,position:u,old_parent:y,old_position:g,is_multi:l&&l._id&&l._id!==this._id,is_foreign:!l||!l._id,old_instance:l,new_instance:this}),i.id},copy_node:function(i,r,u,f,e,o,s){var w,k,v,a,l,b,y,p,h,c,d;if(r=this.get_node(r),u=u===t?0:u,!r)return!1;if(!u.toString().match(/^(before|after)$/)&&!e&&!this.is_loaded(r))return this.load_node(r,function(){this.copy_node(i,r,u,f,!0,!1,s)});if(n.vakata.is_array(i)){if(1!==i.length){for(w=0,k=i.length;w<k;w++)(a=this.copy_node(i[w],r,u,f,e,!0,s))&&(r=a,u="after");return this.redraw(),!0}i=i[0]}if(!(i=i&&i.id!==t?i:this.get_node(i))||i.id===n.jstree.root)return!1;switch(p=(i.parent||n.jstree.root).toString(),h=u.toString().match(/^(before|after)$/)&&r.id!==n.jstree.root?this.get_node(r.parent):r,d=!(c=s||(this._model.data[i.id]?this:n.jstree.reference(i.id)))||!c._id||this._id!==c._id,c&&c._id&&(i=c._model.data[i.id]),u=r.id===n.jstree.root&&"after"===(u="before"===u?"first":u)?"last":u){case"before":u=n.inArray(r.id,h.children);break;case"after":u=n.inArray(r.id,h.children)+1;break;case"inside":case"first":u=0;break;case"last":u=h.children.length;break;default:u=u||0}if(u>h.children.length&&(u=h.children.length),!this.check("copy_node",i,h,u,{core:!0,origin:s,is_multi:c&&c._id&&c._id!==this._id,is_foreign:!c||!c._id}))return this.settings.core.error.call(this,this._data.core.last_error),!1;if(!(y=c?c.get_json(i,{no_id:!0,no_data:!0,no_state:!0}):i)||(!0===y.id&&delete y.id,!(y=this._parse_model_from_json(y,h.id,h.parents.concat()))))return!1;for(a=this.get_node(y),i&&i.state&&!1===i.state.loaded&&(a.state.loaded=!1),(v=[]).push(y),v=v.concat(a.children_d),this.trigger("model",{nodes:v,parent:h.id}),l=0,b=h.parents.length;l<b;l++)this._model.data[h.parents[l]].children_d=this._model.data[h.parents[l]].children_d.concat(v);for(v=[],l=0,b=h.children.length;l<b;l++)v[u<=l?l+1:l]=h.children[l];return v[u]=a.id,h.children=v,h.children_d.push(a.id),h.children_d=h.children_d.concat(a.children_d),h.id===n.jstree.root&&(this._model.force_full_redraw=!0),this._model.force_full_redraw||this._node_changed(h.id),o||this.redraw(h.id===n.jstree.root),f&&f.call(this,a,h,u),this.trigger("copy_node",{node:a,original:i,parent:h.id,position:u,old_parent:p,old_position:c&&c._id&&p&&c._model.data[p]&&c._model.data[p].children?n.inArray(i.id,c._model.data[p].children):-1,is_multi:c&&c._id&&c._id!==this._id,is_foreign:!c||!c._id,old_instance:c,new_instance:this}),a.id},cut:function(t){if(t=t||this._data.core.selected.concat(),!(t=n.vakata.is_array(t)?t:[t]).length)return!1;for(var r=[],i,u=0,f=t.length;u<f;u++)(i=this.get_node(t[u]))&&(i.id||0===i.id)&&i.id!==n.jstree.root&&r.push(i);if(!r.length)return!1;h=r;o="move_node";(l=this).trigger("cut",{node:t})},copy:function(i){if(i=i||this._data.core.selected.concat(),!(i=n.vakata.is_array(i)?i:[i]).length)return!1;for(var u=[],r,f=0,e=i.length;f<e;f++)(r=this.get_node(i[f]))&&r.id!==t&&r.id!==n.jstree.root&&u.push(r);if(!u.length)return!1;h=u;o="copy_node";(l=this).trigger("copy",{node:i})},get_buffer:function(){return{mode:o,node:h,inst:l}},can_paste:function(){return!1!==o&&!1!==h},paste:function(n,t){if(!((n=this.get_node(n))&&o&&o.match(/^(copy_node|move_node)$/)&&h))return!1;this[o](h,n,t,!1,!1,!1,l)&&this.trigger("paste",{parent:n.id,node:h,mode:o});l=o=h=!1},clear_buffer:function(){l=o=h=!1;this.trigger("clear_buffer")},edit:function(t,i,r){var a,u,h,f,c,o,l,s,v=!1;return!!(t=this.get_node(t))&&(this.check("edit",t,this.get_parent(t))?(s=t,i="string"==typeof i?i:t.text,this.set_text(t,""),t=this._open_to(t),s.text=i,l=this._data.core.rtl,a=this.element.width(),this._data.core.focused=s.id,u=t.children(".jstree-anchor").trigger("focus"),h=n("<span><\/span>"),f=i,c=n("<div><\/div>",{css:{position:"absolute",top:"-200px",left:l?"0px":"-1000px",visibility:"hidden"}}).appendTo(e.body),o=n("<input />",{value:f,"class":"jstree-rename-input",css:{padding:"0",border:"1px solid silver","box-sizing":"border-box",display:"inline-block",height:this._data.core.li_height+"px",lineHeight:this._data.core.li_height+"px",width:"150px"},blur:function(i){i.stopImmediatePropagation();i.preventDefault();var e=h.children(".jstree-rename-input").val(),i=this.settings.core.force_text;""===e&&(e=f);c.remove();h.replaceWith(u);h.remove();f=i?f:n("<div><\/div>").append(n.parseHTML(f)).html();t=this.get_node(t);this.set_text(t,f);(i=!!this.rename_node(t,i?n("<div><\/div>").text(e).text():n("<div><\/div>").append(n.parseHTML(e)).html()))||this.set_text(t,f);this._data.core.focused=s.id;setTimeout(function(){var n=this.get_node(s.id,!0);n.length&&(this._data.core.focused=s.id,n.children(".jstree-anchor").trigger("focus"))}.bind(this),0);r&&r.call(this,s,i,v,e);o=null}.bind(this),keydown:function(n){var t=n.which;27===t&&(v=!0,this.value=f);27!==t&&13!==t&&37!==t&&38!==t&&39!==t&&40!==t&&32!==t||n.stopImmediatePropagation();27!==t&&13!==t||(n.preventDefault(),this.blur())},click:function(n){n.stopImmediatePropagation()},mousedown:function(n){n.stopImmediatePropagation()},keyup:function(){o.width(Math.min(c.text("pW"+this.value).width(),a))},keypress:function(n){if(13===n.which)return!1}}),l={fontFamily:u.css("fontFamily")||"",fontSize:u.css("fontSize")||"",fontWeight:u.css("fontWeight")||"",fontStyle:u.css("fontStyle")||"",fontStretch:u.css("fontStretch")||"",fontVariant:u.css("fontVariant")||"",letterSpacing:u.css("letterSpacing")||"",wordSpacing:u.css("wordSpacing")||""},h.attr("class",u.attr("class")).append(u.contents().clone()).append(o),u.replaceWith(h),c.css(l),o.css(l).width(Math.min(c.text("pW"+o[0].value).width(),a))[0].select(),void n(e).one("mousedown.jstree touchstart.jstree dnd_start.vakata",function(t){o&&t.target!==o&&n(o).trigger("blur")})):(this.settings.core.error.call(this,this._data.core.last_error),!1))},set_theme:function(t,i){if(!t)return!1;var r;(i=!0===i?(r=(r=this.settings.core.themes.dir)||n.jstree.path+"/themes")+"/"+t+"/style.css":i)&&-1===n.inArray(i,d)&&(n("head").append('<link rel="stylesheet" href="'+i+'" type="text/css" />'),d.push(i));this._data.core.themes.name&&this.element.removeClass("jstree-"+this._data.core.themes.name);this._data.core.themes.name=t;this.element.addClass("jstree-"+t);this.element[this.settings.core.themes.responsive?"addClass":"removeClass"]("jstree-"+t+"-responsive");this.trigger("set_theme",{theme:t})},get_theme:function(){return this._data.core.themes.name},set_theme_variant:function(n){this._data.core.themes.variant&&this.element.removeClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant);(this._data.core.themes.variant=n)&&this.element.addClass("jstree-"+this._data.core.themes.name+"-"+this._data.core.themes.variant)},get_theme_variant:function(){return this._data.core.themes.variant},show_stripes:function(){this._data.core.themes.stripes=!0;this.get_container_ul().addClass("jstree-striped");this.trigger("show_stripes")},hide_stripes:function(){this._data.core.themes.stripes=!1;this.get_container_ul().removeClass("jstree-striped");this.trigger("hide_stripes")},toggle_stripes:function(){this._data.core.themes.stripes?this.hide_stripes():this.show_stripes()},show_dots:function(){this._data.core.themes.dots=!0;this.get_container_ul().removeClass("jstree-no-dots");this.trigger("show_dots")},hide_dots:function(){this._data.core.themes.dots=!1;this.get_container_ul().addClass("jstree-no-dots");this.trigger("hide_dots")},toggle_dots:function(){this._data.core.themes.dots?this.hide_dots():this.show_dots()},show_icons:function(){this._data.core.themes.icons=!0;this.get_container_ul().removeClass("jstree-no-icons");this.trigger("show_icons")},hide_icons:function(){this._data.core.themes.icons=!1;this.get_container_ul().addClass("jstree-no-icons");this.trigger("hide_icons")},toggle_icons:function(){this._data.core.themes.icons?this.hide_icons():this.show_icons()},show_ellipsis:function(){this._data.core.themes.ellipsis=!0;this.get_container_ul().addClass("jstree-ellipsis");this.trigger("show_ellipsis")},hide_ellipsis:function(){this._data.core.themes.ellipsis=!1;this.get_container_ul().removeClass("jstree-ellipsis");this.trigger("hide_ellipsis")},toggle_ellipsis:function(){this._data.core.themes.ellipsis?this.hide_ellipsis():this.show_ellipsis()},set_icon:function(i,r){var e,o,u,f;if(n.vakata.is_array(i)){for(e=0,o=(i=i.slice()).length;e<o;e++)this.set_icon(i[e],r);return!0}return!(!(i=this.get_node(i))||i.id===n.jstree.root)&&(f=i.icon,i.icon=!0===r||null===r||r===t||""===r||r,u=this.get_node(i,!0).children(".jstree-anchor").children(".jstree-themeicon"),!1===r?(u.removeClass("jstree-themeicon-custom "+f).css("background","").removeAttr("rel"),this.hide_icon(i)):(!0===r||null===r||r===t||""===r?u.removeClass("jstree-themeicon-custom "+f).css("background","").removeAttr("rel"):-1===r.indexOf("/")&&-1===r.indexOf(".")?(u.removeClass(f).css("background",""),u.addClass(r+" jstree-themeicon-custom").attr("rel",r)):(u.removeClass(f).css("background",""),u.addClass("jstree-themeicon-custom").css("background","url('"+r+"') center center no-repeat").attr("rel",r)),!1===f&&this.show_icon(i)),!0)},get_icon:function(t){return!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.icon},hide_icon:function(t){var i,r;if(n.vakata.is_array(t)){for(i=0,r=(t=t.slice()).length;i<r;i++)this.hide_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===n.jstree.root)&&(t.icon=!1,this.get_node(t,!0).children(".jstree-anchor").children(".jstree-themeicon").addClass("jstree-themeicon-hidden"),!0)},show_icon:function(t){var i,u,r;if(n.vakata.is_array(t)){for(i=0,u=(t=t.slice()).length;i<u;i++)this.show_icon(t[i]);return!0}return!(!(t=this.get_node(t))||t===n.jstree.root)&&(r=this.get_node(t,!0),t.icon=!r.length||r.children(".jstree-anchor").children(".jstree-themeicon").attr("rel"),t.icon||(t.icon=!0),r.children(".jstree-anchor").children(".jstree-themeicon").removeClass("jstree-themeicon-hidden"),!0)}},n.vakata={},n.vakata.attributes=function(t,i){t=n(t)[0];var r=i?{}:[];return t&&t.attributes&&n.each(t.attributes,function(t,u){-1===n.inArray(u.name.toLowerCase(),["style","contenteditable","hasfocus","tabindex"])&&null!==u.value&&""!==n.vakata.trim(u.value)&&(i?r[u.name]=u.value:r.push(u.name))}),r},n.vakata.array_unique=function(n){for(var r=[],u={},i=0,f=n.length;i<f;i++)u[n[i]]===t&&(r.push(n[i]),u[n[i]]=!0);return r},n.vakata.array_remove=function(n,t){return n.splice(t,1),n},n.vakata.array_remove_item=function(t,i){var i=n.inArray(i,t);return-1!==i?n.vakata.array_remove(t,i):t},n.vakata.array_filter=function(n,t,i,r,u){if(n.filter)return n.filter(t,i);for(u in r=[],n)~~u+""==u+""&&0<=u&&t.call(i,n[u],+u,n)&&r.push(n[u]);return r},n.vakata.trim=function(n){return String.prototype.trim?String.prototype.trim.call(n.toString()):n.toString().replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")},n.vakata.is_function=function(n){return"function"==typeof n&&"number"!=typeof n.nodeType},n.vakata.is_array=Array.isArray||function(n){return"[object Array]"===Object.prototype.toString.call(n)},Function.prototype.bind||(Function.prototype.bind=function(){var n=this,t=arguments[0],i=Array.prototype.slice.call(arguments,1);if("function"!=typeof n)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");return function(){var r=i.concat(Array.prototype.slice.call(arguments));return n.apply(t,r)}}),n.jstree.plugins.changed=function(n,t){var i=[];this.trigger=function(n,r){var u,f;if(r=r||{},"changed"===n.replace(".jstree","")){r.changed={selected:[],deselected:[]};for(var e={},u=0,f=i.length;u<f;u++)e[i[u]]=1;for(u=0,f=r.selected.length;u<f;u++)e[r.selected[u]]?e[r.selected[u]]=2:r.changed.selected.push(r.selected[u]);for(u=0,f=i.length;u<f;u++)1===e[i[u]]&&r.changed.deselected.push(i[u]);i=r.selected.slice()}t.trigger.call(this,n,r)};this.refresh=function(){return i=[],t.refresh.apply(this,arguments)}},w=e.createElement("I"),w.className="jstree-icon jstree-checkbox",w.setAttribute("role","presentation"),n.jstree.defaults.checkbox={visible:!0,three_state:!0,whole_node:!0,keep_selected_style:!0,cascade:"",tie_selection:!0,cascade_to_disabled:!0,cascade_to_hidden:!0},n.jstree.plugins.checkbox=function(i,r){this.bind=function(){r.bind.call(this);this._data.checkbox.uto=!1;this._data.checkbox.selected=[];this.settings.checkbox.three_state&&(this.settings.checkbox.cascade="up+down+undetermined");this.element.on("init.jstree",function(){this._data.checkbox.visible=this.settings.checkbox.visible;this.settings.checkbox.keep_selected_style||this.element.addClass("jstree-checkbox-no-clicked");this.settings.checkbox.tie_selection&&this.element.addClass("jstree-checkbox-selection")}.bind(this)).on("loading.jstree",function(){this[this._data.checkbox.visible?"show_checkboxes":"hide_checkboxes"]()}.bind(this));-1!==this.settings.checkbox.cascade.indexOf("undetermined")&&this.element.on("changed.jstree uncheck_node.jstree check_node.jstree uncheck_all.jstree check_all.jstree move_node.jstree copy_node.jstree redraw.jstree open_node.jstree",function(){this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto);this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)}.bind(this));this.settings.checkbox.tie_selection||this.element.on("model.jstree",function(n,t){for(var u=this._model.data,e=u[t.parent],r=t.nodes,i=0,f=r.length;i<f;i++)u[r[i]].state.checked=u[r[i]].state.checked||u[r[i]].original&&u[r[i]].original.state&&u[r[i]].original.state.checked,u[r[i]].state.checked&&this._data.checkbox.selected.push(r[i])}.bind(this));-1===this.settings.checkbox.cascade.indexOf("up")&&-1===this.settings.checkbox.cascade.indexOf("down")||this.element.on("model.jstree",function(t,i){var e=this._model.data,u=e[i.parent],s=i.nodes,c=[],a,r,o,h,l,v,i=this.settings.checkbox.cascade,f=this.settings.checkbox.tie_selection;if(-1!==i.indexOf("down"))if(u.state[f?"selected":"checked"]){for(r=0,o=s.length;r<o;r++)e[s[r]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(s)}else for(r=0,o=s.length;r<o;r++)if(e[s[r]].state[f?"selected":"checked"]){for(h=0,l=e[s[r]].children_d.length;h<l;h++)e[e[s[r]].children_d[h]].state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected=this._data[f?"core":"checkbox"].selected.concat(e[s[r]].children_d)}if(-1!==i.indexOf("up")){for(r=0,o=u.children_d.length;r<o;r++)e[u.children_d[r]].children.length||c.push(e[u.children_d[r]].parent);for(h=0,l=(c=n.vakata.array_unique(c)).length;h<l;h++)for(u=e[c[h]];u&&u.id!==n.jstree.root;){for(r=a=0,o=u.children.length;r<o;r++)a+=e[u.children[r]].state[f?"selected":"checked"];if(a!==o)break;u.state[f?"selected":"checked"]=!0;this._data[f?"core":"checkbox"].selected.push(u.id);(v=this.get_node(u,!0))&&v.length&&v.children(".jstree-anchor").attr("aria-selected",!0).addClass(f?"jstree-clicked":"jstree-checked");u=this.get_node(u.parent)}}this._data[f?"core":"checkbox"].selected=n.vakata.array_unique(this._data[f?"core":"checkbox"].selected)}.bind(this)).on(this.settings.checkbox.tie_selection?"select_node.jstree":"check_node.jstree",function(t,i){for(var p=this,h=i.node,v=this._model.data,u=this.get_node(h.parent),l,a,i=this.settings.checkbox.cascade,o=this.settings.checkbox.tie_selection,e={},s=this._data[o?"core":"checkbox"].selected,r=0,f=s.length;r<f;r++)e[s[r]]=!0;if(-1!==i.indexOf("down"))for(var y=this._cascade_new_checked_state(h.id,!0),c=h.children_d.concat(h.id),r=0,f=c.length;r<f;r++)-1<y.indexOf(c[r])?e[c[r]]=!0:delete e[c[r]];if(-1!==i.indexOf("up"))while(u&&u.id!==n.jstree.root){for(r=l=0,f=u.children.length;r<f;r++)l+=v[u.children[r]].state[o?"selected":"checked"];if(l!==f)break;u.state[o?"selected":"checked"]=!0;e[u.id]=!0;(a=this.get_node(u,!0))&&a.length&&a.children(".jstree-anchor").attr("aria-selected",!0).addClass(o?"jstree-clicked":"jstree-checked");u=this.get_node(u.parent)}for(r in s=[],e)e.hasOwnProperty(r)&&s.push(r);this._data[o?"core":"checkbox"].selected=s}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_all.jstree":"uncheck_all.jstree",function(){for(var r=this.get_node(n.jstree.root),u=this._model.data,t,i=0,f=r.children_d.length;i<f;i++)(t=u[r.children_d[i]])&&t.original&&t.original.state&&t.original.state.undetermined&&(t.original.state.undetermined=!1)}.bind(this)).on(this.settings.checkbox.tie_selection?"deselect_node.jstree":"uncheck_node.jstree",function(t,i){var l=this,r=i.node,a=this.get_node(r,!0),f,o,u,s=this.settings.checkbox.cascade,e=this.settings.checkbox.tie_selection,i=this._data[e?"core":"checkbox"].selected,c=r.children_d.concat(r.id),h;if(-1!==s.indexOf("down")&&(h=this._cascade_new_checked_state(r.id,!1),i=n.vakata.array_filter(i,function(n){return-1===c.indexOf(n)||-1<h.indexOf(n)})),-1!==s.indexOf("up")&&-1===i.indexOf(r.id)){for(f=0,o=r.parents.length;f<o;f++)(u=this._model.data[r.parents[f]]).state[e?"selected":"checked"]=!1,u&&u.original&&u.original.state&&u.original.state.undetermined&&(u.original.state.undetermined=!1),(u=this.get_node(r.parents[f],!0))&&u.length&&u.children(".jstree-anchor").attr("aria-selected",!1).removeClass(e?"jstree-clicked":"jstree-checked");i=n.vakata.array_filter(i,function(n){return-1===r.parents.indexOf(n)})}this._data[e?"core":"checkbox"].selected=i}.bind(this));-1!==this.settings.checkbox.cascade.indexOf("up")&&this.element.on("delete_node.jstree",function(t,i){for(var r=this.get_node(i.parent),h=this._model.data,f,e,o,s,u=this.settings.checkbox.tie_selection;r&&r.id!==n.jstree.root&&!r.state[u?"selected":"checked"];){for(f=o=0,e=r.children.length;f<e;f++)o+=h[r.children[f]].state[u?"selected":"checked"];if(!(0<e&&o===e))break;r.state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected.push(r.id);(s=this.get_node(r,!0))&&s.length&&s.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked");r=this.get_node(r.parent)}}.bind(this)).on("move_node.jstree",function(t,i){var c=i.is_multi,l=i.old_parent,i=this.get_node(i.parent),h=this._model.data,r,s,e,o,f,u=this.settings.checkbox.tie_selection;if(!c)for(r=this.get_node(l);r&&r.id!==n.jstree.root&&!r.state[u?"selected":"checked"];){for(e=s=0,o=r.children.length;e<o;e++)s+=h[r.children[e]].state[u?"selected":"checked"];if(!(0<o&&s===o))break;r.state[u?"selected":"checked"]=!0;this._data[u?"core":"checkbox"].selected.push(r.id);(f=this.get_node(r,!0))&&f.length&&f.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked");r=this.get_node(r.parent)}for(r=i;r&&r.id!==n.jstree.root;){for(e=s=0,o=r.children.length;e<o;e++)s+=h[r.children[e]].state[u?"selected":"checked"];if(s===o)r.state[u?"selected":"checked"]||(r.state[u?"selected":"checked"]=!0,this._data[u?"core":"checkbox"].selected.push(r.id),(f=this.get_node(r,!0))&&f.length&&f.children(".jstree-anchor").attr("aria-selected",!0).addClass(u?"jstree-clicked":"jstree-checked"));else{if(!r.state[u?"selected":"checked"])break;r.state[u?"selected":"checked"]=!1;this._data[u?"core":"checkbox"].selected=n.vakata.array_remove_item(this._data[u?"core":"checkbox"].selected,r.id);(f=this.get_node(r,!0))&&f.length&&f.children(".jstree-anchor").attr("aria-selected",!1).removeClass(u?"jstree-clicked":"jstree-checked")}r=this.get_node(r.parent)}}.bind(this))};this.get_undetermined=function(i){if(-1===this.settings.checkbox.cascade.indexOf("undetermined"))return[];for(var r,h,f={},e=this._model.data,l=this.settings.checkbox.tie_selection,s=this._data[l?"core":"checkbox"].selected,o=[],v=this,a=[],u=0,c=s.length;u<c;u++)if(e[s[u]]&&e[s[u]].parents)for(r=0,h=e[s[u]].parents.length;r<h;r++){if(f[e[s[u]].parents[r]]!==t)break;e[s[u]].parents[r]!==n.jstree.root&&(f[e[s[u]].parents[r]]=!0,o.push(e[s[u]].parents[r]))}for(this.element.find(".jstree-closed").not(":has(.jstree-children)").each(function(){var i=v.get_node(this),s;if(i)if(i.state.loaded){for(u=0,c=i.children_d.length;u<c;u++)if(!(s=e[i.children_d[u]]).state.loaded&&s.original&&s.original.state&&s.original.state.undetermined&&!0===s.original.state.undetermined)for(f[s.id]===t&&s.id!==n.jstree.root&&(f[s.id]=!0,o.push(s.id)),r=0,h=s.parents.length;r<h;r++)f[s.parents[r]]===t&&s.parents[r]!==n.jstree.root&&(f[s.parents[r]]=!0,o.push(s.parents[r]))}else if(i.original&&i.original.state&&i.original.state.undetermined&&!0===i.original.state.undetermined)for(f[i.id]===t&&i.id!==n.jstree.root&&(f[i.id]=!0,o.push(i.id)),r=0,h=i.parents.length;r<h;r++)f[i.parents[r]]===t&&i.parents[r]!==n.jstree.root&&(f[i.parents[r]]=!0,o.push(i.parents[r]))}),u=0,c=o.length;u<c;u++)e[o[u]].state[l?"selected":"checked"]||a.push(i?e[o[u]]:o[u]);return a};this._undetermined=function(){if(null!==this.element){var i=this.get_undetermined(!1),n,r,t;for(this.element.find(".jstree-undetermined").removeClass("jstree-undetermined"),n=0,r=i.length;n<r;n++)(t=this.get_node(i[n],!0))&&t.length&&t.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-undetermined")}};this.redraw_node=function(n,t,i){if(n=r.redraw_node.apply(this,arguments)){for(var f=null,e=null,u=0,o=n.childNodes.length;u<o;u++)if(n.childNodes[u]&&n.childNodes[u].className&&-1!==n.childNodes[u].className.indexOf("jstree-anchor")){f=n.childNodes[u];break}f&&(!this.settings.checkbox.tie_selection&&this._model.data[n.id].state.checked&&(f.className+=" jstree-checked"),e=w.cloneNode(!1),this._model.data[n.id].state.checkbox_disabled&&(e.className+=" jstree-checkbox-disabled"),f.insertBefore(e,f.childNodes[0]))}return i||-1===this.settings.checkbox.cascade.indexOf("undetermined")||(this._data.checkbox.uto&&clearTimeout(this._data.checkbox.uto),this._data.checkbox.uto=setTimeout(this._undetermined.bind(this),50)),n};this.show_checkboxes=function(){this._data.core.themes.checkboxes=!0;this.get_container_ul().removeClass("jstree-no-checkboxes")};this.hide_checkboxes=function(){this._data.core.themes.checkboxes=!1;this.get_container_ul().addClass("jstree-no-checkboxes")};this.toggle_checkboxes=function(){this._data.core.themes.checkboxes?this.hide_checkboxes():this.show_checkboxes()};this.is_undetermined=function(t){t=this.get_node(t);var r=this.settings.checkbox.cascade,i,u,f=this.settings.checkbox.tie_selection,o=this._data[f?"core":"checkbox"].selected,e=this._model.data;if(!t||!0===t.state[f?"selected":"checked"]||-1===r.indexOf("undetermined")||-1===r.indexOf("down")&&-1===r.indexOf("up"))return!1;if(!t.state.loaded&&!0===t.original.state.undetermined)return!0;for(i=0,u=t.children_d.length;i<u;i++)if(-1!==n.inArray(t.children_d[i],o)||!e[t.children_d[i]].state.loaded&&e[t.children_d[i]].original.state.undetermined)return!0;return!1};this.disable_checkbox=function(t){var i,u,r;if(n.vakata.is_array(t)){for(i=0,u=(t=t.slice()).length;i<u;i++)this.disable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;r=this.get_node(t,!0);t.state.checkbox_disabled||(t.state.checkbox_disabled=!0,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").addClass("jstree-checkbox-disabled"),this.trigger("disable_checkbox",{node:t}))};this.enable_checkbox=function(t){var i,u,r;if(n.vakata.is_array(t)){for(i=0,u=(t=t.slice()).length;i<u;i++)this.enable_checkbox(t[i]);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;r=this.get_node(t,!0);t.state.checkbox_disabled&&(t.state.checkbox_disabled=!1,r&&r.length&&r.children(".jstree-anchor").children(".jstree-checkbox").removeClass("jstree-checkbox-disabled"),this.trigger("enable_checkbox",{node:t}))};this.activate_node=function(t,i){return!n(i.target).hasClass("jstree-checkbox-disabled")&&(this.settings.checkbox.tie_selection&&(this.settings.checkbox.whole_node||n(i.target).hasClass("jstree-checkbox"))&&(i.ctrlKey=!0),this.settings.checkbox.tie_selection||!this.settings.checkbox.whole_node&&!n(i.target).hasClass("jstree-checkbox")?r.activate_node.call(this,t,i):!this.is_disabled(t)&&(this.is_checked(t)?this.uncheck_node(t,i):this.check_node(t,i),void this.trigger("activate_node",{node:this.get_node(t)})))};this.delete_node=function(t){if(this.settings.checkbox.tie_selection||n.vakata.is_array(t))return r.delete_node.call(this,t);var i,u,f,e=!1;if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;for((i=t.children_d.concat([])).push(t.id),u=0,f=i.length;u<f;u++)if(this._model.data[i[u]].state.checked){e=!0;break}return e&&(this._data.checkbox.selected=n.vakata.array_filter(this._data.checkbox.selected,function(t){return-1===n.inArray(t,i)})),r.delete_node.call(this,t)};this._cascade_new_checked_state=function(n,t){var c=this,r=this.settings.checkbox.tie_selection,i=this._model.data[n],u=[],e=[],o,l,f,h,n;if(!this.settings.checkbox.cascade_to_disabled&&i.state.disabled||!this.settings.checkbox.cascade_to_hidden&&i.state.hidden)f=this.get_checked_descendants(n),i.state[r?"selected":"checked"]&&f.push(i.id),u=u.concat(f);else{if(i.children)for(o=0,l=i.children.length;o<l;o++){var s=i.children[o],f=c._cascade_new_checked_state(s,t),u=u.concat(f);-1<f.indexOf(s)&&e.push(s)}h=c.get_node(i,!0);n=0<e.length&&e.length<i.children.length;i.original&&i.original.state&&i.original.state.undetermined&&(i.original.state.undetermined=n);!n&&t&&e.length===i.children.length?(i.state[r?"selected":"checked"]=t,u.push(i.id),h.children(".jstree-anchor").attr("aria-selected",!0).addClass(r?"jstree-clicked":"jstree-checked")):(i.state[r?"selected":"checked"]=!1,h.children(".jstree-anchor").attr("aria-selected",!1).removeClass(r?"jstree-clicked":"jstree-checked"))}return u};this.get_checked_descendants=function(t){var i=this,r=i.settings.checkbox.tie_selection,t=i._model.data[t];return n.vakata.array_filter(t.children_d,function(n){return i._model.data[n].state[r?"selected":"checked"]})};this.check_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.select_node(t,!1,!0,i);var r,u,f;if(n.vakata.is_array(t)){for(u=0,f=(t=t.slice()).length;u<f;u++)this.check_node(t[u],i);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;r=this.get_node(t,!0);t.state.checked||(t.state.checked=!0,this._data.checkbox.selected.push(t.id),r&&r.length&&r.children(".jstree-anchor").addClass("jstree-checked"),this.trigger("check_node",{node:t,selected:this._data.checkbox.selected,event:i}))};this.uncheck_node=function(t,i){if(this.settings.checkbox.tie_selection)return this.deselect_node(t,!1,i);var r,f,u;if(n.vakata.is_array(t)){for(r=0,f=(t=t.slice()).length;r<f;r++)this.uncheck_node(t[r],i);return!0}if(!(t=this.get_node(t))||t.id===n.jstree.root)return!1;u=this.get_node(t,!0);t.state.checked&&(t.state.checked=!1,this._data.checkbox.selected=n.vakata.array_remove_item(this._data.checkbox.selected,t.id),u.length&&u.children(".jstree-anchor").removeClass("jstree-checked"),this.trigger("uncheck_node",{node:t,selected:this._data.checkbox.selected,event:i}))};this.check_all=function(){if(this.settings.checkbox.tie_selection)return this.select_all();var r=this._data.checkbox.selected.concat([]),t,i;for(this._data.checkbox.selected=this._model.data[n.jstree.root].children_d.concat(),t=0,i=this._data.checkbox.selected.length;t<i;t++)this._model.data[this._data.checkbox.selected[t]]&&(this._model.data[this._data.checkbox.selected[t]].state.checked=!0);this.redraw(!0);this.trigger("check_all",{selected:this._data.checkbox.selected})};this.uncheck_all=function(){if(this.settings.checkbox.tie_selection)return this.deselect_all();for(var t=this._data.checkbox.selected.concat([]),n=0,i=this._data.checkbox.selected.length;n<i;n++)this._model.data[this._data.checkbox.selected[n]]&&(this._model.data[this._data.checkbox.selected[n]].state.checked=!1);this._data.checkbox.selected=[];this.element.find(".jstree-checked").removeClass("jstree-checked");this.trigger("uncheck_all",{selected:this._data.checkbox.selected,node:t})};this.is_checked=function(t){return this.settings.checkbox.tie_selection?this.is_selected(t):!(!(t=this.get_node(t))||t.id===n.jstree.root)&&t.state.checked};this.get_checked=function(t){return this.settings.checkbox.tie_selection?this.get_selected(t):t?n.map(this._data.checkbox.selected,function(n){return this.get_node(n)}.bind(this)):this._data.checkbox.selected.slice()};this.get_top_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_top_selected(t);for(var r=this.get_checked(!0),u={},f,o,i=0,e=r.length;i<e;i++)u[r[i].id]=r[i];for(i=0,e=r.length;i<e;i++)for(f=0,o=r[i].children_d.length;f<o;f++)u[r[i].children_d[f]]&&delete u[r[i].children_d[f]];for(i in r=[],u)u.hasOwnProperty(i)&&r.push(i);return t?n.map(r,function(n){return this.get_node(n)}.bind(this)):r};this.get_bottom_checked=function(t){if(this.settings.checkbox.tie_selection)return this.get_bottom_selected(t);for(var r=this.get_checked(!0),u=[],i=0,f=r.length;i<f;i++)r[i].children.length||u.push(r[i].id);return t?n.map(u,function(n){return this.get_node(n)}.bind(this)):u};this.load_node=function(t){var i,f,u;if(!n.vakata.is_array(t)&&!this.settings.checkbox.tie_selection&&(u=this.get_node(t))&&u.state.loaded)for(i=0,f=u.children_d.length;i<f;i++)this._model.data[u.children_d[i]].state.checked&&(this._data.checkbox.selected=n.vakata.array_remove_item(this._data.checkbox.selected,u.children_d[i]));return r.load_node.apply(this,arguments)};this.get_state=function(){var n=r.get_state.apply(this,arguments);return this.settings.checkbox.tie_selection||(n.checkbox=this._data.checkbox.selected.slice()),n};this.set_state=function(t,i){var u=r.set_state.apply(this,arguments),f;return u&&t.checkbox?(this.settings.checkbox.tie_selection||(this.uncheck_all(),f=this,n.each(t.checkbox,function(n,t){f.check_node(t)})),delete t.checkbox,this.set_state(t,i),!1):u};this.refresh=function(){return this.settings.checkbox.tie_selection&&(this._data.checkbox.selected=[]),r.refresh.apply(this,arguments)}},n.jstree.defaults.conditionalselect=function(){return!0},n.jstree.plugins.conditionalselect=function(n,t){this.activate_node=function(n,i){if(this.settings.conditionalselect.call(this,this.get_node(n),i))return t.activate_node.call(this,n,i)}},n.jstree.defaults.contextmenu={select_node:!0,show_at_node:!0,items:function(){return{create:{separator_before:!1,separator_after:!0,_disabled:!1,label:"Create",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.create_node(t,{},"last",function(n){try{i.edit(n)}catch(t){setTimeout(function(){i.edit(n)},0)}})}},rename:{separator_before:!1,separator_after:!1,_disabled:!1,label:"Rename",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.edit(t)}},remove:{separator_before:!1,icon:!1,separator_after:!1,_disabled:!1,label:"Delete",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.is_selected(t)?i.delete_node(i.get_selected()):i.delete_node(t)}},ccp:{separator_before:!0,icon:!1,separator_after:!1,label:"Edit",action:!1,submenu:{cut:{separator_before:!1,separator_after:!1,label:"Cut",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.is_selected(t)?i.cut(i.get_top_selected()):i.cut(t)}},copy:{separator_before:!1,icon:!1,separator_after:!1,label:"Copy",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.is_selected(t)?i.copy(i.get_top_selected()):i.copy(t)}},paste:{separator_before:!1,icon:!1,_disabled:function(t){return!n.jstree.reference(t.reference).can_paste()},separator_after:!1,label:"Paste",action:function(t){var i=n.jstree.reference(t.reference),t=i.get_node(t.reference);i.paste(t)}}}}}}},n.jstree.plugins.contextmenu=function(i,r){this.bind=function(){r.bind.call(this);var i=0,t=null,u,f;this.element.on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-contextmenu")}.bind(this)).on("contextmenu.jstree",".jstree-anchor",function(n,r){"input"!==n.target.tagName.toLowerCase()&&(n.preventDefault(),i=n.ctrlKey?+new Date:0,(r||t)&&(i=+new Date+1e4),t&&clearTimeout(t),this.is_loading(n.currentTarget)||this.show_contextmenu(n.currentTarget,n.pageX,n.pageY,n))}.bind(this)).on("click.jstree",".jstree-anchor",function(){this._data.contextmenu.visible&&(!i||250<+new Date-i)&&n.vakata.context.hide();i=0}.bind(this)).on("touchstart.jstree",".jstree-anchor",function(i){i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(u=i.originalEvent.changedTouches[0].clientX,f=i.originalEvent.changedTouches[0].clientY,t=setTimeout(function(){n(i.currentTarget).trigger("contextmenu",!0)},750))}).on("touchmove.vakata.jstree",function(i){t&&i.originalEvent&&i.originalEvent.changedTouches&&i.originalEvent.changedTouches[0]&&(10<Math.abs(u-i.originalEvent.changedTouches[0].clientX)||10<Math.abs(f-i.originalEvent.changedTouches[0].clientY))&&(clearTimeout(t),n.vakata.context.hide())}).on("touchend.vakata.jstree",function(){t&&clearTimeout(t)});n(e).on("context_hide.vakata.jstree",function(t,i){this._data.contextmenu.visible=!1;n(i.reference).removeClass("jstree-context")}.bind(this))};this.teardown=function(){this._data.contextmenu.visible&&n.vakata.context.hide();n(e).off("context_hide.vakata.jstree");r.teardown.call(this)};this.show_contextmenu=function(i,r,u,f){if(!(i=this.get_node(i))||i.id===n.jstree.root)return!1;var s=this.settings.contextmenu,h=this.get_node(i,!0).children(".jstree-anchor"),o=!1,e=!1;(s.show_at_node||r===t||u===t)&&(o=h.offset(),r=o.left,u=o.top+this._data.core.li_height);this.settings.contextmenu.select_node&&!this.is_selected(i)&&this.activate_node(i,f);e=s.items;n.vakata.is_function(e)&&(e=e.call(this,i,function(n){this._show_contextmenu(i,r,u,n)}.bind(this)));n.isPlainObject(e)&&this._show_contextmenu(i,r,u,e)};this._show_contextmenu=function(t,i,r,u){var f=this.get_node(t,!0).children(".jstree-anchor");n(e).one("context_show.vakata.jstree",function(t,i){var r="jstree-contextmenu jstree-"+this.get_theme()+"-contextmenu";n(i.element).addClass(r);f.addClass("jstree-context")}.bind(this));this._data.contextmenu.visible=!0;n.vakata.context.show(f,{x:i,y:r},u);this.trigger("show_contextmenu",{node:t,x:i,y:r})}},r={element:y=!1,reference:!1,position_x:0,position_y:0,items:[],html:"",is_visible:!1},(f=n).vakata.context={settings:{hide_onmouseleave:0,icons:!0},_trigger:function(n){f(e).triggerHandler("context_"+n+".vakata",{reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_execute:function(n){return!(!(n=r.items[n])||n._disabled&&(!f.vakata.is_function(n._disabled)||n._disabled({item:n,reference:r.reference,element:r.element}))||!n.action)&&n.action.call(null,{item:n,reference:r.reference,element:r.element,position:{x:r.position_x,y:r.position_y}})},_parse:function(n,t){if(!n)return!1;t||(r.html="",r.items=[]);var i="",u=!1,e;return t&&(i+="<ul>"),f.each(n,function(n,t){return!t||(r.items.push(t),!u&&t.separator_before&&(i+="<li class='vakata-context-separator'><a href='#' "+(f.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;<\/a><\/li>"),u=!1,i+="<li class='"+(t._class||"")+(!0===t._disabled||f.vakata.is_function(t._disabled)&&t._disabled({item:t,reference:r.reference,element:r.element})?" vakata-contextmenu-disabled ":"")+"' "+(t.shortcut?" data-shortcut='"+t.shortcut+"' ":"")+">",i+="<a href='#' rel='"+(r.items.length-1)+"' "+(t.title?"title='"+t.title+"'":"")+">",f.vakata.context.settings.icons&&(i+="<i ",t.icon&&(i+=-1!==t.icon.indexOf("/")||-1!==t.icon.indexOf(".")?" style='background:url(\""+t.icon+"\") center center no-repeat' ":" class='"+t.icon+"' "),i+="><\/i><span class='vakata-contextmenu-sep'>&#160;<\/span>"),i+=(f.vakata.is_function(t.label)?t.label({item:n,reference:r.reference,element:r.element}):t.label)+(t.shortcut?' <span class="vakata-contextmenu-shortcut vakata-contextmenu-shortcut-'+t.shortcut+'">'+(t.shortcut_label||"")+"<\/span>":"")+"<\/a>",t.submenu&&(e=f.vakata.context._parse(t.submenu,!0))&&(i+=e),i+="<\/li>",void(t.separator_after&&(i+="<li class='vakata-context-separator'><a href='#' "+(f.vakata.context.settings.icons?"":'class="vakata-context-no-icons"')+">&#160;<\/a><\/li>",u=!0)))}),i=i.replace(/<li class\='vakata-context-separator'\><\/li\>$/,""),t&&(i+="<\/ul>"),t||(r.html=i,f.vakata.context._trigger("parse")),10<i.length&&i},_show_submenu:function(n){var t,e,r,o,i,s,u,h;(n=f(n)).length&&n.children("ul").length&&(t=n.children("ul"),r=(e=n.offset().left)+n.outerWidth(),o=n.offset().top,i=t.width(),s=t.height(),u=f(window).width()+f(window).scrollLeft(),h=f(window).height()+f(window).scrollTop(),y?n[r-(i+10+n.outerWidth())<0?"addClass":"removeClass"]("vakata-context-left"):n[u<r+i&&u-r<e?"addClass":"removeClass"]("vakata-context-right"),h<o+s+10&&t.css("bottom","-1px"),n.hasClass("vakata-context-right")?e<i&&t.css("margin-right",e-i):u-r<i&&t.css("margin-left",u-r-i),t.show())},show:function(n,t,i){var h,o,u,s,c,l,a,i;switch(r.element&&r.element.length&&r.element.width(""),!0){case!t&&!n:return!1;case!!t&&!!n:r.reference=n;r.position_x=t.x;r.position_y=t.y;break;case!t&&!!n:h=(r.reference=n).offset();r.position_x=h.left+n.outerHeight();r.position_y=h.top;break;case!!t&&!n:r.position_x=t.x;r.position_y=t.y}n&&!i&&f(n).data("vakata_contextmenu")&&(i=f(n).data("vakata_contextmenu"));f.vakata.context._parse(i)&&r.element.html(r.html);r.items.length&&(r.element.appendTo(e.body),o=r.element,u=r.position_x,s=r.position_y,c=o.width(),l=o.height(),a=f(window).width()+f(window).scrollLeft(),i=f(window).height()+f(window).scrollTop(),y&&(u-=o.outerWidth()-f(n).outerWidth())<f(window).scrollLeft()+20&&(u=f(window).scrollLeft()+20),r.element.css({left:u=a<u+c+20?a-(c+20):u,top:s=i<s+l+20?i-(l+20):s}).show().find("a").first().trigger("focus").parent().addClass("vakata-context-hover"),r.is_visible=!0,f.vakata.context._trigger("show"))},hide:function(){r.is_visible&&(r.element.hide().find("ul").hide().end().find(":focus").trigger("blur").end().detach(),r.is_visible=!1,f.vakata.context._trigger("hide"))}},f(function(){y="rtl"===f(e.body).css("direction");var n=!1;r.element=f("<ul class='vakata-context'><\/ul>");r.element.on("mouseenter","li",function(t){t.stopImmediatePropagation();f.contains(this,t.relatedTarget)||(n&&clearTimeout(n),r.element.find(".vakata-context-hover").removeClass("vakata-context-hover").end(),f(this).siblings().find("ul").hide().end().end().parentsUntil(".vakata-context","li").addBack().addClass("vakata-context-hover"),f.vakata.context._show_submenu(this))}).on("mouseleave","li",function(n){f.contains(this,n.relatedTarget)||f(this).find(".vakata-context-hover").addBack().removeClass("vakata-context-hover")}).on("mouseleave",function(){var t;f(this).find(".vakata-context-hover").removeClass("vakata-context-hover");f.vakata.context.settings.hide_onmouseleave&&(n=setTimeout((t=this,function(){f.vakata.context.hide()}),f.vakata.context.settings.hide_onmouseleave))}).on("click","a",function(n){n.preventDefault();f(this).trigger("blur").parent().hasClass("vakata-context-disabled")||!1===f.vakata.context._execute(f(this).attr("rel"))||f.vakata.context.hide()}).on("keydown","a",function(n){var t=null;switch(n.which){case 13:case 32:n.type="click";n.preventDefault();f(n.currentTarget).trigger(n);break;case 37:r.is_visible&&(r.element.find(".vakata-context-hover").last().closest("li").first().find("ul").hide().find(".vakata-context-hover").removeClass("vakata-context-hover").end().end().children("a").trigger("focus"),n.stopImmediatePropagation(),n.preventDefault());break;case 38:r.is_visible&&((t=(t=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").prevAll("li:not(.vakata-context-separator)").first()).length?t:r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").last()).addClass("vakata-context-hover").children("a").trigger("focus"),n.stopImmediatePropagation(),n.preventDefault());break;case 39:r.is_visible&&(r.element.find(".vakata-context-hover").last().children("ul").show().children("li:not(.vakata-context-separator)").removeClass("vakata-context-hover").first().addClass("vakata-context-hover").children("a").trigger("focus"),n.stopImmediatePropagation(),n.preventDefault());break;case 40:r.is_visible&&((t=(t=r.element.find("ul:visible").addBack().last().children(".vakata-context-hover").removeClass("vakata-context-hover").nextAll("li:not(.vakata-context-separator)").first()).length?t:r.element.find("ul:visible").addBack().last().children("li:not(.vakata-context-separator)").first()).addClass("vakata-context-hover").children("a").trigger("focus"),n.stopImmediatePropagation(),n.preventDefault());break;case 27:f.vakata.context.hide();n.preventDefault()}}).on("keydown",function(n){n.preventDefault();var n=r.element.find(".vakata-contextmenu-shortcut-"+n.which).parent();n.parent().not(".vakata-context-disabled")&&n.trigger("click")});f(e).on("mousedown.vakata.jstree",function(n){r.is_visible&&r.element[0]!==n.target&&!f.contains(r.element[0],n.target)&&f.vakata.context.hide()}).on("context_show.vakata.jstree",function(){r.element.find("li:has(ul)").children("a").addClass("vakata-context-parent");y&&r.element.addClass("vakata-context-rtl").css("direction","rtl");r.element.find("ul").hide().end()})}),n.jstree.defaults.dnd={copy:!0,open_timeout:500,is_draggable:!0,check_while_dragging:!0,always_copy:!1,inside_pos:0,drag_selection:!0,touch:!0,large_drop_target:!1,large_drag_target:!1,use_html5:!1,blank_space_drop:!1},n.jstree.plugins.dnd=function(t,i){this.init=function(n,t){i.init.call(this,n,t);this.settings.dnd.use_html5=this.settings.dnd.use_html5&&"draggable"in e.createElement("span")};this.bind=function(){i.bind.call(this);this.element.on(this.settings.dnd.use_html5?"dragstart.jstree":"mousedown.jstree touchstart.jstree",this.settings.dnd.large_drag_target?".jstree-node":".jstree-anchor",function(t){if(this.settings.dnd.large_drag_target&&n(t.target).closest(".jstree-node")[0]!==t.currentTarget||"touchstart"===t.type&&(!this.settings.dnd.touch||"selected"===this.settings.dnd.touch&&!n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").hasClass("jstree-clicked")))return!0;var i=this.get_node(t.target),r=this.is_selected(i)&&this.settings.dnd.drag_selection?this.get_top_selected().length:1,u=1<r?r+" "+this.get_string("nodes"):this.get_text(t.currentTarget);if(this.settings.core.force_text&&(u=n.vakata.html.escape(u)),i&&(i.id||0===i.id)&&i.id!==n.jstree.root&&(1===t.which||"touchstart"===t.type||"dragstart"===t.type)&&(!0===this.settings.dnd.is_draggable||n.vakata.is_function(this.settings.dnd.is_draggable)&&this.settings.dnd.is_draggable.call(this,1<r?this.get_top_selected(!0):[i],t))){if(c={jstree:!0,origin:this,obj:this.get_node(i,!0),nodes:1<r?this.get_top_selected():[i.id]},s=t.currentTarget,!this.settings.dnd.use_html5)return this.element.trigger("mousedown.jstree"),n.vakata.dnd.start(t,c,'<div id="jstree-dnd" class="jstree-'+this.get_theme()+" jstree-"+this.get_theme()+"-"+this.get_theme_variant()+" "+(this.settings.core.themes.responsive?" jstree-dnd-responsive":"")+'"><i class="jstree-icon jstree-er"><\/i>'+u+'<ins class="jstree-copy">+<\/ins><\/div>');n.vakata.dnd._trigger("start",t,{helper:n(),element:s,data:c})}}.bind(this));this.settings.dnd.use_html5&&this.element.on("dragover.jstree",function(t){return t.preventDefault(),n.vakata.dnd._trigger("move",t,{helper:n(),element:s,data:c}),!1}).on("drop.jstree",function(t){return t.preventDefault(),n.vakata.dnd._trigger("stop",t,{helper:n(),element:s,data:c}),!1}.bind(this))};this.redraw_node=function(n){if((n=i.redraw_node.apply(this,arguments))&&this.settings.dnd.use_html5)if(this.settings.dnd.large_drag_target)n.setAttribute("draggable",!0);else{for(var r=null,t=0,u=n.childNodes.length;t<u;t++)if(n.childNodes[t]&&n.childNodes[t].className&&-1!==n.childNodes[t].className.indexOf("jstree-anchor")){r=n.childNodes[t];break}r&&r.setAttribute("draggable",!0)}return n}},n(function(){var i=!1,o=!1,r=!1,u=!1,f=n('<div id="jstree-marker">&#160;<\/div>').hide();n(e).on("dragover.vakata.jstree",function(t){s&&n.vakata.dnd._trigger("move",t,{helper:n(),element:s,data:c})}).on("drop.vakata.jstree",function(t){s&&(n.vakata.dnd._trigger("stop",t,{helper:n(),element:s,data:c}),c=s=null)}).on("dnd_start.vakata.jstree",function(n,t){r=i=!1;t&&t.data&&t.data.jstree&&f.appendTo(e.body)}).on("dnd_move.vakata.jstree",function(e,s){var ot=s.event.target!==r.target;if(u&&(s.event&&"dragover"===s.event.type&&!ot||clearTimeout(u)),s&&s.data&&s.data.jstree&&(!s.event.target.id||"jstree-marker"!==s.event.target.id)){r=s.event;var h=n.jstree.reference(s.event.target),c=!1,a=!1,d=!1,g,nt,p,v,w,tt,y,l,it,et,rt,st,b,k,ut,ht,ft;if(h&&h._data&&h._data.dnd)if(f.attr("class","jstree-"+h.get_theme()+(h.settings.core.themes.responsive?" jstree-dnd-responsive":"")),ut=s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey)),s.helper.children().attr("class","jstree-"+h.get_theme()+" jstree-"+h.get_theme()+"-"+h.get_theme_variant()+" "+(h.settings.core.themes.responsive?" jstree-dnd-responsive":"")).find(".jstree-copy").first()[ut?"show":"hide"](),(s.event.target===h.element[0]||s.event.target===h.get_container_ul()[0])&&(0===h.get_container_ul().children().length||h.settings.dnd.blank_space_drop)){for(y=!0,l=0,it=s.data.nodes.length;l<it;l++)if(!(y=y&&h.check(s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node",s.data.origin&&s.data.origin!==h?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l],n.jstree.root,"last",{dnd:!0,ref:h.get_node(n.jstree.root),pos:"i",origin:s.data.origin,is_multi:s.data.origin&&s.data.origin!==h,is_foreign:!s.data.origin})))break;if(y)return i={ins:h,par:n.jstree.root,pos:"last"},f.hide(),s.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),void(s.event.originalEvent&&s.event.originalEvent.dataTransfer&&(s.event.originalEvent.dataTransfer.dropEffect=ut?"copy":"move"))}else if((c=h.settings.dnd.large_drop_target?n(s.event.target).closest(".jstree-node").children(".jstree-anchor"):n(s.event.target).closest(".jstree-anchor"))&&c.length&&c.parent().is(".jstree-closed, .jstree-open, .jstree-leaf")&&(a=c.offset(),d=(s.event.pageY!==t?s.event:s.event.originalEvent).pageY-a.top,p=c.outerHeight(),tt=d<p/3?["b","i","a"]:p-p/3<d?["a","i","b"]:p/2<d?["i","a","b"]:["i","b","a"],n.each(tt,function(t,r){switch(r){case"b":g=a.left-6;nt=a.top;v=h.get_parent(c);w=c.parent().index();ft="jstree-below";break;case"i":b=h.settings.dnd.inside_pos;k=h.get_node(c.parent());g=a.left-2;nt=a.top+p/2+1;v=k.id;w="first"===b?0:"last"===b?k.children.length:Math.min(b,k.children.length);ft="jstree-inside";break;case"a":g=a.left-6;nt=a.top+p;v=h.get_parent(c);w=c.parent().index()+1;ft="jstree-above"}for(y=!0,l=0,it=s.data.nodes.length;l<it;l++)if(et=s.data.origin&&(s.data.origin.settings.dnd.always_copy||s.data.origin.settings.dnd.copy&&(s.event.metaKey||s.event.ctrlKey))?"copy_node":"move_node",rt=w,"move_node"==et&&"a"===r&&s.data.origin&&s.data.origin===h&&v===h.get_parent(s.data.nodes[l])&&(st=h.get_node(v),rt>n.inArray(s.data.nodes[l],st.children)&&--rt),!(y=y&&(h&&h.settings&&h.settings.dnd&&!1===h.settings.dnd.check_while_dragging||h.check(et,s.data.origin&&s.data.origin!==h?s.data.origin.get_node(s.data.nodes[l]):s.data.nodes[l],v,rt,{dnd:!0,ref:h.get_node(c.parent()),pos:r,origin:s.data.origin,is_multi:s.data.origin&&s.data.origin!==h,is_foreign:!s.data.origin})))){h&&h.last_error&&(o=h.last_error());break}var e,d;if("i"===r&&c.parent().is(".jstree-closed")&&h.settings.dnd.open_timeout&&(s.event&&"dragover"===s.event.type&&!ot||(u&&clearTimeout(u),u=setTimeout((d=c,function(){e.open_node(d)}),(e=h).settings.dnd.open_timeout))),y)return(ht=h.get_node(v,!0)).hasClass(".jstree-dnd-parent")||(n(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),ht.addClass("jstree-dnd-parent")),i={ins:h,par:v,pos:"i"!==r||"last"!==b||0!==w||h.is_loaded(k)?w:"last"},f.css({left:g+"px",top:nt+"px"}).show(),f.removeClass("jstree-above jstree-inside jstree-below").addClass(ft),s.helper.find(".jstree-icon").first().removeClass("jstree-er").addClass("jstree-ok"),s.event.originalEvent&&s.event.originalEvent.dataTransfer&&(s.event.originalEvent.dataTransfer.dropEffect=ut?"copy":"move"),o={},!(tt=!0)}),!0===tt))return;n(".jstree-dnd-parent").removeClass("jstree-dnd-parent");i=!1;s.helper.find(".jstree-icon").removeClass("jstree-ok").addClass("jstree-er");s.event.originalEvent&&s.event.originalEvent.dataTransfer;f.hide()}}).on("dnd_scroll.vakata.jstree",function(n,t){t&&t.data&&t.data.jstree&&(f.hide(),r=i=!1,t.helper.find(".jstree-icon").first().removeClass("jstree-ok").addClass("jstree-er"))}).on("dnd_stop.vakata.jstree",function(t,e){if(n(".jstree-dnd-parent").removeClass("jstree-dnd-parent"),u&&clearTimeout(u),e&&e.data&&e.data.jstree){f.hide().detach();var s,h,c=[];if(i){for(s=0,h=e.data.nodes.length;s<h;s++)c[s]=e.data.origin?e.data.origin.get_node(e.data.nodes[s]):e.data.nodes[s];i.ins[e.data.origin&&(e.data.origin.settings.dnd.always_copy||e.data.origin.settings.dnd.copy&&(e.event.metaKey||e.event.ctrlKey))?"copy_node":"move_node"](c,i.par,i.pos,!1,!1,!1,e.data.origin)}else(s=n(e.event.target).closest(".jstree")).length&&o&&o.error&&"check"===o.error&&(s=s.jstree(!0))&&s.settings.core.error.call(this,o);i=r=!1}}).on("keyup.jstree keydown.jstree",function(t,e){(e=n.vakata.dnd._get())&&e.data&&e.data.jstree&&("keyup"===t.type&&27===t.which?(u&&clearTimeout(u),u=r=o=i=!1,f.hide().detach(),n.vakata.dnd._clean()):(e.helper.find(".jstree-copy").first()[e.data.origin&&(e.data.origin.settings.dnd.always_copy||e.data.origin.settings.dnd.copy&&(t.metaKey||t.ctrlKey))?"show":"hide"](),r&&(r.metaKey=t.metaKey,r.ctrlKey=t.ctrlKey,n.vakata.dnd._trigger("move",r))))})}),i={element:!((u=n).vakata.html={div:u("<div><\/div>"),escape:function(n){return u.vakata.html.div.text(n).html()},strip:function(n){return u.vakata.html.div.empty().append(u.parseHTML(n)).text()}}),target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1},u.vakata.dnd={settings:{scroll_speed:10,scroll_proximity:20,helper_left:5,helper_top:10,threshold:5,threshold_touch:10},_trigger:function(n,i,r){(r=r===t?u.vakata.dnd._get():r).event=i;u(e).triggerHandler("dnd_"+n+".vakata",r)},_get:function(){return{data:i.data,element:i.element,helper:i.helper}},_clean:function(){i.helper&&i.helper.remove();i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1);i={element:!1,target:!1,is_down:!1,is_drag:!1,helper:!1,helper_w:0,data:!1,init_x:0,init_y:0,scroll_l:0,scroll_t:0,scroll_e:!1,scroll_i:!1,is_touch:!1};s=null;u(e).off("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag);u(e).off("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop)},_scroll:function(n){if(!i.scroll_e||!i.scroll_l&&!i.scroll_t)return i.scroll_i&&(clearInterval(i.scroll_i),i.scroll_i=!1),!1;if(!i.scroll_i)return i.scroll_i=setInterval(u.vakata.dnd._scroll,100),!1;if(!0===n)return!1;var t=i.scroll_e.scrollTop(),n=i.scroll_e.scrollLeft();i.scroll_e.scrollTop(t+i.scroll_t*u.vakata.dnd.settings.scroll_speed);i.scroll_e.scrollLeft(n+i.scroll_l*u.vakata.dnd.settings.scroll_speed);t===i.scroll_e.scrollTop()&&n===i.scroll_e.scrollLeft()||u.vakata.dnd._trigger("scroll",i.scroll_e)},start:function(n,t,r){"touchstart"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=e.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset));i.is_drag&&u.vakata.dnd.stop({});try{n.currentTarget.unselectable="on";n.currentTarget.onselectstart=function(){return!1};n.currentTarget.style&&(n.currentTarget.style.touchAction="none",n.currentTarget.style.msTouchAction="none",n.currentTarget.style.MozUserSelect="none")}catch(n){}return i.init_x=n.pageX,i.init_y=n.pageY,i.data=t,i.is_down=!0,i.element=n.currentTarget,i.target=n.target,i.is_touch="touchstart"===n.type,!1!==r&&(i.helper=u("<div id='vakata-dnd'><\/div>").html(r).css({display:"block",margin:"0",padding:"0",position:"absolute",top:"-2000px",lineHeight:"16px",zIndex:"10000"})),u(e).on("mousemove.vakata.jstree touchmove.vakata.jstree",u.vakata.dnd.drag),u(e).on("mouseup.vakata.jstree touchend.vakata.jstree",u.vakata.dnd.stop),!1},drag:function(n){if("touchmove"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=e.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_down){if(!i.is_drag){if(!(Math.abs(n.pageX-i.init_x)>(i.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold)||Math.abs(n.pageY-i.init_y)>(i.is_touch?u.vakata.dnd.settings.threshold_touch:u.vakata.dnd.settings.threshold)))return;i.helper&&(i.helper.appendTo(e.body),i.helper_w=i.helper.outerWidth());i.is_drag=!0;u(i.target).one("click.vakata",!1);u.vakata.dnd._trigger("start",n)}var t=!1,l=!1,r=!1,o=!1,f=!1,s=!1,a=!1,v=!1,h=!1,c=!1;return i.scroll_t=0,i.scroll_l=0,i.scroll_e=!1,u(u(n.target).parentsUntil("body").addBack().get().reverse()).filter(function(){return this.ownerDocument&&/^auto|scroll$/.test(u(this).css("overflow"))&&(this.scrollHeight>this.offsetHeight||this.scrollWidth>this.offsetWidth)}).each(function(){var r=u(this),t=r.offset();if(this.scrollHeight>this.offsetHeight&&(t.top+r.height()-n.pageY<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),n.pageY-t.top<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1)),this.scrollWidth>this.offsetWidth&&(t.left+r.width()-n.pageX<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),n.pageX-t.left<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1)),i.scroll_t||i.scroll_l)return i.scroll_e=u(this),!1}),i.scroll_e||(t=u(e),l=u(window),r=t.height(),o=l.height(),f=t.width(),s=l.width(),a=t.scrollTop(),v=t.scrollLeft(),o<r&&n.pageY-a<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=-1),o<r&&o-(n.pageY-a)<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_t=1),s<f&&n.pageX-v<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=-1),s<f&&s-(n.pageX-v)<u.vakata.dnd.settings.scroll_proximity&&(i.scroll_l=1),(i.scroll_t||i.scroll_l)&&(i.scroll_e=t)),i.scroll_e&&u.vakata.dnd._scroll(!0),i.helper&&(h=parseInt(n.pageY+u.vakata.dnd.settings.helper_top,10),c=parseInt(n.pageX+u.vakata.dnd.settings.helper_left,10),f&&c+i.helper_w>f&&(c=f-(i.helper_w+2)),i.helper.css({left:c+"px",top:(h=r&&r<h+25?r-50:h)+"px"})),u.vakata.dnd._trigger("move",n),!1}},stop:function(n){var t;return"touchend"===n.type&&n.originalEvent&&n.originalEvent.changedTouches&&n.originalEvent.changedTouches[0]&&(n.pageX=n.originalEvent.changedTouches[0].pageX,n.pageY=n.originalEvent.changedTouches[0].pageY,n.target=e.elementFromPoint(n.originalEvent.changedTouches[0].pageX-window.pageXOffset,n.originalEvent.changedTouches[0].pageY-window.pageYOffset)),i.is_drag?(n.target!==i.target&&u(i.target).off("click.vakata"),u.vakata.dnd._trigger("stop",n)):"touchend"===n.type&&n.target===i.target&&(t=setTimeout(function(){u(n.target).trigger("click")},100),u(n.target).one("click",function(){t&&clearTimeout(t)})),u.vakata.dnd._clean(),!1}},n.jstree.defaults.massload=null,n.jstree.plugins.massload=function(t,i){this.init=function(n,t){this._data.massload={};i.init.call(this,n,t)};this._load_nodes=function(t,r,u,f){var e=this.settings.massload,h=[],c=this._model.data,s,l,o;if(!u){for(s=0,l=t.length;s<l;s++)c[t[s]]&&(c[t[s]].state.loaded||c[t[s]].state.failed)&&!f||(h.push(t[s]),(o=this.get_node(t[s],!0))&&o.length&&o.addClass("jstree-loading").attr("aria-busy",!0));if(this._data.massload={},h.length){if(n.vakata.is_function(e))return e.call(this,h,function(n){var e,s;if(n)for(e in n)n.hasOwnProperty(e)&&(this._data.massload[e]=n[e]);for(e=0,s=t.length;e<s;e++)(o=this.get_node(t[e],!0))&&o.length&&o.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,r,u,f)}.bind(this));if("object"==typeof e&&e&&e.url)return e=n.extend(!0,{},e),n.vakata.is_function(e.url)&&(e.url=e.url.call(this,h)),n.vakata.is_function(e.data)&&(e.data=e.data.call(this,h)),n.ajax(e).done(function(n){var e,s;if(n)for(e in n)n.hasOwnProperty(e)&&(this._data.massload[e]=n[e]);for(e=0,s=t.length;e<s;e++)(o=this.get_node(t[e],!0))&&o.length&&o.removeClass("jstree-loading").attr("aria-busy",!1);i._load_nodes.call(this,t,r,u,f)}.bind(this)).fail(function(){i._load_nodes.call(this,t,r,u,f)}.bind(this))}}return i._load_nodes.call(this,t,r,u,f)};this._load_node=function(t,r){var u=this._data.massload[t.id],f=null;return u?(f=this["string"==typeof u?"_append_html_data":"_append_json_data"](t,"string"==typeof u?n(n.parseHTML(u)).filter(function(){return 3!==this.nodeType}):u,function(n){r.call(this,n)}),(u=this.get_node(t.id,!0))&&u.length&&u.removeClass("jstree-loading").attr("aria-busy",!1),delete this._data.massload[t.id],f):i._load_node.call(this,t,r)}},n.jstree.defaults.search={ajax:!1,fuzzy:!1,case_sensitive:!1,show_only_matches:!1,show_only_matches_children:!1,close_opened_onclear:!0,search_leaves_only:!1,search_callback:!1},n.jstree.plugins.search=function(i,r){this.bind=function(){r.bind.call(this);this._data.search.str="";this._data.search.dom=n();this._data.search.res=[];this._data.search.opn=[];this._data.search.som=!1;this._data.search.smc=!1;this._data.search.hdn=[];this.element.on("search.jstree",function(t,i){if(this._data.search.som&&i.res.length){for(var u=this._model.data,f=[],e,o,r=0,s=i.res.length;r<s;r++)if(u[i.res[r]]&&!u[i.res[r]].state.hidden&&(f.push(i.res[r]),f=f.concat(u[i.res[r]].parents),this._data.search.smc))for(e=0,o=u[i.res[r]].children_d.length;e<o;e++)u[u[i.res[r]].children_d[e]]&&!u[u[i.res[r]].children_d[e]].state.hidden&&f.push(u[i.res[r]].children_d[e]);f=n.vakata.array_remove_item(n.vakata.array_unique(f),n.jstree.root);this._data.search.hdn=this.hide_all(!0);this.show_node(f,!0);this.redraw(!0)}}.bind(this)).on("clear_search.jstree",function(n,t){this._data.search.som&&t.res.length&&(this.show_node(this._data.search.hdn,!0),this.redraw(!0))}.bind(this))};this.search=function(i,r,u,f,e,o){if(!1===i||""===n.vakata.trim(i.toString()))return this.clear_search();f=(f=this.get_node(f))&&(f.id||0===f.id)?f.id:null;i=i.toString();var h=this.settings.search,s=h.ajax||!1,v=this._model.data,y=null,a=[],c=[],l,p;if(this._data.search.res.length&&!e&&this.clear_search(),u===t&&(u=h.show_only_matches),o===t&&(o=h.show_only_matches_children),!r&&!1!==s)return n.vakata.is_function(s)?s.call(this,i,function(t){t&&t.d&&(t=t.d);this._load_nodes(n.vakata.is_array(t)?n.vakata.array_unique(t):[],function(){this.search(i,!0,u,f,e,o)})}.bind(this),f):((s=n.extend({},s)).data||(s.data={}),s.data.str=i,f&&(s.data.inside=f),this._data.search.lastRequest&&this._data.search.lastRequest.abort(),this._data.search.lastRequest=n.ajax(s).fail(function(){this._data.core.last_error={error:"ajax",plugin:"search",id:"search_01",reason:"Could not load search parents",data:JSON.stringify(s)};this.settings.core.error.call(this,this._data.core.last_error)}.bind(this)).done(function(t){t&&t.d&&(t=t.d);this._load_nodes(n.vakata.is_array(t)?n.vakata.array_unique(t):[],function(){this.search(i,!0,u,f,e,o)})}.bind(this)),this._data.search.lastRequest);if(e||(this._data.search.str=i,this._data.search.dom=n(),this._data.search.res=[],this._data.search.opn=[],this._data.search.som=u,this._data.search.smc=o),y=new n.vakata.search(i,!0,{caseSensitive:h.case_sensitive,fuzzy:h.fuzzy}),n.each(v[f||n.jstree.root].children_d,function(n,t){var r=v[t];r.text&&!r.state.hidden&&(!h.search_leaves_only||r.state.loaded&&0===r.children.length)&&(h.search_callback&&h.search_callback.call(this,i,r)||!h.search_callback&&y.search(r.text).isMatch)&&(a.push(t),c=c.concat(r.parents))}),a.length){for(l=0,p=(c=n.vakata.array_unique(c)).length;l<p;l++)c[l]!==n.jstree.root&&v[c[l]]&&!0===this.open_node(c[l],null,0)&&this._data.search.opn.push(c[l]);e?(this._data.search.dom=this._data.search.dom.add(n(this.element[0].querySelectorAll("#"+n.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #")))),this._data.search.res=n.vakata.array_unique(this._data.search.res.concat(a))):(this._data.search.dom=n(this.element[0].querySelectorAll("#"+n.map(a,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.res=a);this._data.search.dom.children(".jstree-anchor").addClass("jstree-search")}this.trigger("search",{nodes:this._data.search.dom,str:i,res:this._data.search.res,show_only_matches:u})};this.clear_search=function(){this.settings.search.close_opened_onclear&&this.close_node(this._data.search.opn,0);this.trigger("clear_search",{nodes:this._data.search.dom,str:this._data.search.str,res:this._data.search.res});this._data.search.res.length&&(this._data.search.dom=n(this.element[0].querySelectorAll("#"+n.map(this._data.search.res,function(t){return-1!=="0123456789".indexOf(t[0])?"\\3"+t[0]+" "+t.substr(1).replace(n.jstree.idregex,"\\$&"):t.replace(n.jstree.idregex,"\\$&")}).join(", #"))),this._data.search.dom.children(".jstree-anchor").removeClass("jstree-search"));this._data.search.str="";this._data.search.res=[];this._data.search.opn=[];this._data.search.dom=n()};this.redraw_node=function(t){if((t=r.redraw_node.apply(this,arguments))&&-1!==n.inArray(t.id,this._data.search.res)){for(var u=null,i=0,f=t.childNodes.length;i<f;i++)if(t.childNodes[i]&&t.childNodes[i].className&&-1!==t.childNodes[i].className.indexOf("jstree-anchor")){u=t.childNodes[i];break}u&&(u.className+=" jstree-search")}return t}},(b=n).vakata.search=function(n,t,i){i=i||{};!1!==(i=b.extend({},b.vakata.search.defaults,i)).fuzzy&&(i.fuzzy=!0);n=i.caseSensitive?n:n.toLowerCase();var u=i.location,o=i.distance,c=i.threshold,r=n.length,s,h,f,e;return 32<r&&(i.fuzzy=!1),i.fuzzy&&(s=1<<r-1,h=function(){for(var i={},t=0,t=0;t<r;t++)i[n.charAt(t)]=0;for(t=0;t<r;t++)i[n.charAt(t)]|=1<<r-t-1;return i}(),f=function(n,t){var n=n/r,t=Math.abs(u-t);return o?n+t/o:t?1:n}),e=function(t){if(t=i.caseSensitive?t.toString():t.toString().toLowerCase(),n===t||-1!==t.indexOf(n))return{isMatch:!0,score:0};if(!i.fuzzy)return{isMatch:!1,score:1};var a,e,tt=t.length,v=c,o=t.indexOf(n,u),p,l,w=r+tt,b,d,k,y,g,nt=1,it=[];for(-1!==o&&(v=Math.min(f(0,o),v),-1!==(o=t.lastIndexOf(n,u+r))&&(v=Math.min(f(0,o),v))),o=-1,a=0;a<r;a++){for(p=0,l=w;p<l;)f(a,u+l)<=v?p=l:w=l,l=Math.floor((w-p)/2+p);for(w=l,d=Math.max(1,u-l+1),k=Math.min(u+l,tt)+r,(y=new Array(k+2))[k+1]=(1<<a)-1,e=k;d<=e;e--)if(g=h[t.charAt(e-1)],y[e]=0===a?(y[e+1]<<1|1)&g:(y[e+1]<<1|1)&g|(b[e+1]|b[e])<<1|1|b[e+1],y[e]&s&&(nt=f(a,e-1))<=v){if(v=nt,it.push(o=e-1),!(u<o))break;d=Math.max(1,2*u-o)}if(f(a+1,u)>v)break;b=y}return{isMatch:0<=o,score:nt}},!0===t?{search:e}:e(t)},b.vakata.search.defaults={location:0,distance:100,threshold:.6,fuzzy:!1,caseSensitive:!1},n.jstree.defaults.sort=function(n,t){return this.get_text(n)>this.get_text(t)?1:-1},k=!(n.jstree.plugins.sort=function(n,t){this.bind=function(){t.bind.call(this);this.element.on("model.jstree",function(n,t){this.sort(t.parent,!0)}.bind(this)).on("rename_node.jstree create_node.jstree",function(n,t){this.sort(t.parent||t.node.parent,!1);this.redraw_node(t.parent||t.node.parent,!0)}.bind(this)).on("move_node.jstree copy_node.jstree",function(n,t){this.sort(t.parent,!1);this.redraw_node(t.parent,!0)}.bind(this))};this.sort=function(n,t){var i,r;if((n=this.get_node(n))&&n.children&&n.children.length&&(n.children.sort(this.settings.sort.bind(this)),t))for(i=0,r=n.children_d.length;i<r;i++)this.sort(n.children_d[i],!1)}}),n.jstree.defaults.state={key:"jstree",events:"changed.jstree open_node.jstree close_node.jstree check_node.jstree uncheck_node.jstree",ttl:!1,filter:!1,preserve_loaded:!1},n.jstree.plugins.state=function(t,i){this.bind=function(){i.bind.call(this);var n=function(){this.element.on(this.settings.state.events,function(){k&&clearTimeout(k);k=setTimeout(function(){this.save_state()}.bind(this),100)}.bind(this));this.trigger("state_ready")}.bind(this);this.element.on("ready.jstree",function(){this.element.one("restore_state.jstree",n);this.restore_state()||n()}.bind(this))};this.save_state=function(){var t=this.get_state();this.settings.state.preserve_loaded||delete t.core.loaded;t={state:t,ttl:this.settings.state.ttl,sec:+new Date};n.vakata.storage.set(this.settings.state.key,JSON.stringify(t))};this.restore_state=function(){var t=n.vakata.storage.get(this.settings.state.key);if(t)try{t=JSON.parse(t)}catch(i){return!1}return!(t&&t.ttl&&t.sec&&+new Date-t.sec>t.ttl)&&!!(t=(t=t&&t.state?t.state:t)&&n.vakata.is_function(this.settings.state.filter)?this.settings.state.filter.call(this,t):t)&&(this.settings.state.preserve_loaded||delete t.core.loaded,this.element.one("set_state.jstree",function(i,r){r.instance.trigger("restore_state",{state:n.extend(!0,{},t)})}),this.set_state(t),!0)};this.clear_state=function(){return n.vakata.storage.del(this.settings.state.key)}},n.vakata.storage={set:function(n,t){return window.localStorage.setItem(n,t)},get:function(n){return window.localStorage.getItem(n)},del:function(n){return window.localStorage.removeItem(n)}},n.jstree.defaults.types={"default":{}},n.jstree.defaults.types[n.jstree.root]={},n.jstree.plugins.types=function(i,r){this.init=function(i,u){var f,e;if(u&&u.types&&u.types.default)for(f in u.types)if("default"!==f&&f!==n.jstree.root&&u.types.hasOwnProperty(f))for(e in u.types.default)u.types.default.hasOwnProperty(e)&&u.types[f][e]===t&&(u.types[f][e]=u.types.default[e]);r.init.call(this,i,u);this._model.data[n.jstree.root].type=n.jstree.root};this.refresh=function(t,i){r.refresh.call(this,t,i);this._model.data[n.jstree.root].type=n.jstree.root};this.bind=function(){this.element.on("model.jstree",function(i,r){for(var f=this._model.data,e=r.nodes,s=this.settings.types,o="default",h,u=0,c=e.length;u<c;u++){if(o="default",f[e[u]].original&&f[e[u]].original.type&&s[f[e[u]].original.type]&&(o=f[e[u]].original.type),f[e[u]].data&&f[e[u]].data.jstree&&f[e[u]].data.jstree.type&&s[f[e[u]].data.jstree.type]&&(o=f[e[u]].data.jstree.type),f[e[u]].type=o,!0===f[e[u]].icon&&s[o].icon!==t&&(f[e[u]].icon=s[o].icon),s[o].li_attr!==t&&"object"==typeof s[o].li_attr)for(h in s[o].li_attr)s[o].li_attr.hasOwnProperty(h)&&"id"!==h&&(f[e[u]].li_attr[h]===t?f[e[u]].li_attr[h]=s[o].li_attr[h]:"class"===h&&(f[e[u]].li_attr.class=s[o].li_attr.class+" "+f[e[u]].li_attr.class));if(s[o].a_attr!==t&&"object"==typeof s[o].a_attr)for(h in s[o].a_attr)s[o].a_attr.hasOwnProperty(h)&&"id"!==h&&(f[e[u]].a_attr[h]===t?f[e[u]].a_attr[h]=s[o].a_attr[h]:"href"===h&&"#"===f[e[u]].a_attr[h]?f[e[u]].a_attr.href=s[o].a_attr.href:"class"===h&&(f[e[u]].a_attr.class=s[o].a_attr.class+" "+f[e[u]].a_attr.class))}f[n.jstree.root].type=n.jstree.root}.bind(this));r.bind.call(this)};this.get_json=function(t,i,u){var e,s,o=this._model.data,h=i?n.extend(!0,{},i,{no_id:!1}):{},f=r.get_json.call(this,t,h,u);if(!1===f)return!1;if(n.vakata.is_array(f))for(e=0,s=f.length;e<s;e++)f[e].type=(f[e].id||0===f[e].id)&&o[f[e].id]&&o[f[e].id].type?o[f[e].id].type:"default",i&&i.no_id&&(delete f[e].id,f[e].li_attr&&f[e].li_attr.id&&delete f[e].li_attr.id,f[e].a_attr&&f[e].a_attr.id&&delete f[e].a_attr.id);else f.type=(f.id||0===f.id)&&o[f.id]&&o[f.id].type?o[f.id].type:"default",i&&i.no_id&&(f=this._delete_ids(f));return f};this._delete_ids=function(t){if(n.vakata.is_array(t)){for(var i=0,r=t.length;i<r;i++)t[i]=this._delete_ids(t[i]);return t}return delete t.id,t.li_attr&&t.li_attr.id&&delete t.li_attr.id,t.a_attr&&t.a_attr.id&&delete t.a_attr.id,t.children&&n.vakata.is_array(t.children)&&(t.children=this._delete_ids(t.children)),t};this.check=function(i,u,f,e,o){if(!1===r.check.call(this,i,u,f,e,o))return!1;u=u&&(u.id||0===u.id)?u:this.get_node(u);f=f&&(f.id||0===f.id)?f:this.get_node(f);var s,h,l,a,c=(c=u&&(u.id||0===u.id)?o&&o.origin?o.origin:n.jstree.reference(u.id):null)&&c._model&&c._model.data?c._model.data:null;switch(i){case"create_node":case"move_node":case"copy_node":if("move_node"!==i||-1===n.inArray(u.id,f.children)){if((s=this.get_rules(f)).max_children!==t&&-1!==s.max_children&&s.max_children===f.children.length)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_01",reason:"max_children prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:!(!u||!u.id&&0!==u.id)&&u.id,par:!(!f||!f.id&&0!==f.id)&&f.id})});if(s.valid_children!==t&&-1!==s.valid_children&&-1===n.inArray(u.type||"default",s.valid_children))return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_02",reason:"valid_children prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:!(!u||!u.id&&0!==u.id)&&u.id,par:!(!f||!f.id&&0!==f.id)&&f.id})});if(c&&u.children_d&&u.parents){for(l=h=0,a=u.children_d.length;l<a;l++)h=Math.max(h,c[u.children_d[l]].parents.length);h=h-u.parents.length+1}(h<=0||h===t)&&(h=1);do{if(s.max_depth!==t&&-1!==s.max_depth&&s.max_depth<h)return!(this._data.core.last_error={error:"check",plugin:"types",id:"types_03",reason:"max_depth prevents function: "+i,data:JSON.stringify({chk:i,pos:e,obj:!(!u||!u.id&&0!==u.id)&&u.id,par:!(!f||!f.id&&0!==f.id)&&f.id})});f=this.get_node(f.parent);s=this.get_rules(f);h++}while(f)}}return!0};this.get_rules=function(n){if(!(n=this.get_node(n)))return!1;var n=this.get_type(n,!0);return n.max_depth===t&&(n.max_depth=-1),n.max_children===t&&(n.max_children=-1),n.valid_children===t&&(n.valid_children=-1),n};this.get_type=function(t,i){return!!(t=this.get_node(t))&&(i?n.extend({type:t.type},this.settings.types[t.type]):t.type)};this.set_type=function(i,r){var o=this._model.data,f,c,a,e,l,u,h,s;if(n.vakata.is_array(i)){for(c=0,a=(i=i.slice()).length;c<a;c++)this.set_type(i[c],r);return!0}if(f=this.settings.types,i=this.get_node(i),!f[r]||!i)return!1;if((h=this.get_node(i,!0))&&h.length&&(s=h.children(".jstree-anchor")),e=i.type,l=this.get_icon(i),i.type=r,!0!==l&&f[e]&&(f[e].icon===t||l!==f[e].icon)||this.set_icon(i,f[r].icon===t||f[r].icon),f[e]&&f[e].li_attr!==t&&"object"==typeof f[e].li_attr)for(u in f[e].li_attr)f[e].li_attr.hasOwnProperty(u)&&"id"!==u&&("class"===u?(o[i.id].li_attr.class=(o[i.id].li_attr.class||"").replace(f[e].li_attr[u],""),h&&h.removeClass(f[e].li_attr[u])):o[i.id].li_attr[u]===f[e].li_attr[u]&&(o[i.id].li_attr[u]=null,h&&h.removeAttr(u)));if(f[e]&&f[e].a_attr!==t&&"object"==typeof f[e].a_attr)for(u in f[e].a_attr)f[e].a_attr.hasOwnProperty(u)&&"id"!==u&&("class"===u?(o[i.id].a_attr.class=(o[i.id].a_attr.class||"").replace(f[e].a_attr[u],""),s&&s.removeClass(f[e].a_attr[u])):o[i.id].a_attr[u]===f[e].a_attr[u]&&("href"===u?(o[i.id].a_attr[u]="#",s&&s.attr("href","#")):(delete o[i.id].a_attr[u],s&&s.removeAttr(u))));if(f[r].li_attr!==t&&"object"==typeof f[r].li_attr)for(u in f[r].li_attr)f[r].li_attr.hasOwnProperty(u)&&"id"!==u&&(o[i.id].li_attr[u]===t?(o[i.id].li_attr[u]=f[r].li_attr[u],h&&("class"===u?h.addClass(f[r].li_attr[u]):h.attr(u,f[r].li_attr[u]))):"class"===u&&(o[i.id].li_attr.class=f[r].li_attr[u]+" "+o[i.id].li_attr.class,h&&h.addClass(f[r].li_attr[u])));if(f[r].a_attr!==t&&"object"==typeof f[r].a_attr)for(u in f[r].a_attr)f[r].a_attr.hasOwnProperty(u)&&"id"!==u&&(o[i.id].a_attr[u]===t?(o[i.id].a_attr[u]=f[r].a_attr[u],s&&("class"===u?s.addClass(f[r].a_attr[u]):s.attr(u,f[r].a_attr[u]))):"href"===u&&"#"===o[i.id].a_attr[u]?(o[i.id].a_attr.href=f[r].a_attr.href,s&&s.attr("href",f[r].a_attr.href)):"class"===u&&(o[i.id].a_attr.class=f[r].a_attr.class+" "+o[i.id].a_attr.class,s&&s.addClass(f[r].a_attr[u])));return!0}},n.jstree.defaults.unique={case_sensitive:!1,trim_whitespace:!1,duplicate:function(n,t){return n+" ("+t+")"}},n.jstree.plugins.unique=function(i,r){this.check=function(t,i,u,f,e){if(!1===r.check.call(this,t,i,u,f,e))return!1;if(i=i&&(i.id||0===i.id)?i:this.get_node(i),!(u=u&&(u.id||0===u.id)?u:this.get_node(u))||!u.children)return!0;for(var o="rename_node"===t?f:i.text,c=[],l=this.settings.unique.case_sensitive,a=this.settings.unique.trim_whitespace,v=this._model.data,s,h=0,y=u.children.length;h<y;h++)s=v[u.children[h]].text,l||(s=s.toLowerCase()),a&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),c.push(s);switch(l||(o=o.toLowerCase()),a&&(o=o.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),t){case"delete_node":return!0;case"rename_node":return s=i.text||"",l||(s=s.toLowerCase()),a&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),(h=-1===n.inArray(o,c)||i.text&&s===o)||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_01",reason:"Child with name "+o+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!u||!u.id&&0!==u.id)&&u.id})}),h;case"create_node":return(h=-1===n.inArray(o,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_04",reason:"Child with name "+o+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!u||!u.id&&0!==u.id)&&u.id})}),h;case"copy_node":return(h=-1===n.inArray(o,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_02",reason:"Child with name "+o+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!u||!u.id&&0!==u.id)&&u.id})}),h;case"move_node":return(h=i.parent===u.id&&(!e||!e.is_multi)||-1===n.inArray(o,c))||(this._data.core.last_error={error:"check",plugin:"unique",id:"unique_03",reason:"Child with name "+o+" already exists. Preventing: "+t,data:JSON.stringify({chk:t,pos:f,obj:!(!i||!i.id&&0!==i.id)&&i.id,par:!(!u||!u.id&&0!==u.id)&&u.id})}),h}return!0};this.create_node=function(i,u,f,e,o){if(!u||"object"==typeof u&&u.text===t){if((null===i&&(i=n.jstree.root),!(i=this.get_node(i)))||!(f=f===t?"last":f).toString().match(/^(before|after)$/)&&!o&&!this.is_loaded(i))return r.create_node.call(this,i,u,f,e,o);u=u||{};for(var v,p=this._model.data,c=this.settings.unique.case_sensitive,l=this.settings.unique.trim_whitespace,w=this.settings.unique.duplicate,s,a=v=this.get_string("New node"),y=[],h=0,b=i.children.length;h<b;h++)s=p[i.children[h]].text,c||(s=s.toLowerCase()),l&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")),y.push(s);for(h=1,s=a,c||(s=s.toLowerCase()),l&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));-1!==n.inArray(s,y);)s=a=w.call(this,v,++h).toString(),c||(s=s.toLowerCase()),l&&(s=s.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""));u.text=a}return r.create_node.call(this,i,u,f,e,o)}},v=e.createElement("DIV"),v.setAttribute("unselectable","on"),v.setAttribute("role","presentation"),v.className="jstree-wholerow",v.innerHTML="&#160;",n.jstree.plugins.wholerow=function(t,i){this.bind=function(){i.bind.call(this);this.element.on("ready.jstree set_state.jstree",function(){this.hide_dots()}.bind(this)).on("init.jstree loading.jstree ready.jstree",function(){this.get_container_ul().addClass("jstree-wholerow-ul")}.bind(this)).on("deselect_all.jstree",function(){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked")}.bind(this)).on("changed.jstree",function(n,t){this.element.find(".jstree-wholerow-clicked").removeClass("jstree-wholerow-clicked");for(var i=!1,r=0,u=t.selected.length;r<u;r++)(i=this.get_node(t.selected[r],!0))&&i.length&&i.children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("open_node.jstree",function(n,t){this.get_node(t.node,!0).find(".jstree-clicked").parent().children(".jstree-wholerow").addClass("jstree-wholerow-clicked")}.bind(this)).on("hover_node.jstree dehover_node.jstree",function(n,t){"hover_node"===n.type&&this.is_disabled(t.node)||this.get_node(t.node,!0).children(".jstree-wholerow")["hover_node"===n.type?"addClass":"removeClass"]("jstree-wholerow-hovered")}.bind(this)).on("contextmenu.jstree",".jstree-wholerow",function(t){var i;this._data.contextmenu&&(t.preventDefault(),i=n.Event("contextmenu",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey,pageX:t.pageX,pageY:t.pageY}),n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i))}.bind(this)).on("click.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=n.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}).on("dblclick.jstree",".jstree-wholerow",function(t){t.stopImmediatePropagation();var i=n.Event("dblclick",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}).on("click.jstree",".jstree-leaf > .jstree-ocl",function(t){t.stopImmediatePropagation();var i=n.Event("click",{metaKey:t.metaKey,ctrlKey:t.ctrlKey,altKey:t.altKey,shiftKey:t.shiftKey});n(t.currentTarget).closest(".jstree-node").children(".jstree-anchor").first().trigger(i).trigger("focus")}.bind(this)).on("mouseover.jstree",".jstree-wholerow, .jstree-icon",function(n){return n.stopImmediatePropagation(),this.is_disabled(n.currentTarget)||this.hover_node(n.currentTarget),!1}.bind(this)).on("mouseleave.jstree",".jstree-node",function(n){this.dehover_node(n.currentTarget)}.bind(this))};this.teardown=function(){this.settings.wholerow&&this.element.find(".jstree-wholerow").remove();i.teardown.call(this)};this.redraw_node=function(t){var r;return(t=i.redraw_node.apply(this,arguments))&&(r=v.cloneNode(!0),-1!==n.inArray(t.id,this._data.core.selected)&&(r.className+=" jstree-wholerow-clicked"),this._data.core.focused&&this._data.core.focused===t.id&&(r.className+=" jstree-wholerow-hovered"),t.insertBefore(r,t.childNodes[0])),t}},window.customElements&&Object&&Object.create){a=Object.create(HTMLElement.prototype);a.createdCallback=function(){var i={core:{},plugins:[]};for(var t in n.jstree.plugins)n.jstree.plugins.hasOwnProperty(t)&&this.attributes[t]&&(i.plugins.push(t),this.getAttribute(t)&&JSON.parse(this.getAttribute(t))&&(i[t]=JSON.parse(this.getAttribute(t))));for(t in n.jstree.defaults.core)n.jstree.defaults.core.hasOwnProperty(t)&&this.attributes[t]&&(i.core[t]=JSON.parse(this.getAttribute(t))||this.getAttribute(t));n(this).jstree(i)};try{window.customElements.define("vakata-jstree",function(){},{prototype:a})}catch(a){}}}});
/*!
 * Select2 4.0.13
 * https://select2.github.io
 *
 * Released under the MIT license
 * https://github.com/select2/select2/blob/master/LICENSE.md
 */
(function(n){typeof define=="function"&&define.amd?define(["jquery"],n):typeof module=="object"&&module.exports?module.exports=function(t,i){return i===undefined&&(i=typeof window!="undefined"?require("jquery"):require("jquery")(t)),n(i),i}:n(jQuery)})(function(n){var t=function(){var t;return n&&n.fn&&n.fn.select2&&n.fn.select2.amd&&(t=n.fn.select2.amd),function(){if(!t||!t.requirejs){t?i=t:t={};
/**
 * @license almond 0.3.3 Copyright jQuery Foundation and other contributors.
 * Released under MIT license, http://github.com/requirejs/almond/LICENSE
 */
var n,i,r;(function(t){function e(n,t){return d.call(n,t)}function l(n,t){var o,s,u,e,h,y,c,b,i,l,p,k,r=t&&t.split("/"),a=f.map,v=a&&a["*"]||{};if(n){for(n=n.split("/"),h=n.length-1,f.nodeIdCompat&&w.test(n[h])&&(n[h]=n[h].replace(w,"")),n[0].charAt(0)==="."&&r&&(k=r.slice(0,r.length-1),n=k.concat(n)),i=0;i<n.length;i++)if(p=n[i],p===".")n.splice(i,1),i-=1;else if(p==="..")if(i===0||i===1&&n[2]===".."||n[i-1]==="..")continue;else i>0&&(n.splice(i-1,2),i-=2);n=n.join("/")}if((r||v)&&a){for(o=n.split("/"),i=o.length;i>0;i-=1){if(s=o.slice(0,i).join("/"),r)for(l=r.length;l>0;l-=1)if(u=a[r.slice(0,l).join("/")],u&&(u=u[s],u)){e=u;y=i;break}if(e)break;!c&&v&&v[s]&&(c=v[s],b=i)}!e&&c&&(e=c,y=b);e&&(o.splice(0,y,e),n=o.join("/"))}return n}function b(n,i){return function(){var r=g.call(arguments,0);return typeof r[0]!="string"&&r.length===1&&r.push(null),o.apply(t,r.concat([n,i]))}}function nt(n){return function(t){return l(t,n)}}function tt(n){return function(t){u[n]=t}}function a(n){if(e(h,n)){var i=h[n];delete h[n];y[n]=!0;c.apply(t,i)}if(!e(u,n)&&!e(y,n))throw new Error("No "+n);return u[n]}function p(n){var i,t=n?n.indexOf("!"):-1;return t>-1&&(i=n.substring(0,t),n=n.substring(t+1,n.length)),[i,n]}function k(n){return n?p(n):[]}function it(n){return function(){return f&&f.config&&f.config[n]||{}}}var c,o,v,s,u={},h={},f={},y={},d=Object.prototype.hasOwnProperty,g=[].slice,w=/\.js$/;v=function(n,t){var r,u=p(n),i=u[0],f=t[1];return n=u[1],i&&(i=l(i,f),r=a(i)),i?n=r&&r.normalize?r.normalize(n,nt(f)):l(n,f):(n=l(n,f),u=p(n),i=u[0],n=u[1],i&&(r=a(i))),{f:i?i+"!"+n:n,n:n,pr:i,p:r}};s={require:function(n){return b(n)},exports:function(n){var t=u[n];return typeof t!="undefined"?t:u[n]={}},module:function(n){return{id:n,uri:"",exports:u[n],config:it(n)}}};c=function(n,i,r,f){var p,o,d,w,c,g,l=[],nt=typeof r,it;if(f=f||n,g=k(f),nt==="undefined"||nt==="function"){for(i=!i.length&&r.length?["require","exports","module"]:i,c=0;c<i.length;c+=1)if(w=v(i[c],g),o=w.f,o==="require")l[c]=s.require(n);else if(o==="exports")l[c]=s.exports(n),it=!0;else if(o==="module")p=l[c]=s.module(n);else if(e(u,o)||e(h,o)||e(y,o))l[c]=a(o);else if(w.p)w.p.load(w.n,b(f,!0),tt(o),{}),l[c]=u[o];else throw new Error(n+" missing "+o);d=r?r.apply(u[n],l):undefined;n&&(p&&p.exports!==t&&p.exports!==u[n]?u[n]=p.exports:d===t&&it||(u[n]=d))}else n&&(u[n]=r)};n=i=o=function(n,i,r,u,e){if(typeof n=="string")return s[n]?s[n](i):a(v(n,k(i)).f);if(!n.splice){if(f=n,f.deps&&o(f.deps,f.callback),!i)return;i.splice?(n=i,i=r,r=null):n=t}return i=i||function(){},typeof r=="function"&&(r=u,u=e),u?c(t,n,i,r):setTimeout(function(){c(t,n,i,r)},4),o};o.config=function(n){return o(n)};n._defined=u;r=function(n,t,i){if(typeof n!="string")throw new Error("See almond README: incorrect module build, no module name");t.splice||(i=t,t=[]);e(u,n)||e(h,n)||(h[n]=[n,t,i])};r.amd={jQuery:!0}})();t.requirejs=n;t.require=i;t.define=r}}(),t.define("almond",function(){}),t.define("jquery",[],function(){var t=n||$;return t==null&&console&&console.error&&console.error("Select2: An instance of jQuery or a jQuery-compatible library was not found. Make sure that you are including jQuery before Select2 on your web page."),t}),t.define("select2/utils",["jquery"],function(n){function u(n){var i=n.prototype,r=[],t,u;for(t in i)(u=i[t],typeof u=="function")&&t!=="constructor"&&r.push(t);return r}var t={},i,r;return t.Extend=function(n,t){function r(){this.constructor=n}var u={}.hasOwnProperty;for(var i in t)u.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},t.Decorate=function(n,t){function i(){var r=Array.prototype.unshift,u=t.prototype.constructor.length,i=n.prototype.constructor;u>0&&(r.call(arguments,n.prototype.constructor),i=t.prototype.constructor);i.apply(this,arguments)}function l(){this.constructor=i}var s=u(t),h=u(n),r,e,c,f,o;for(t.displayName=n.displayName,i.prototype=new l,r=0;r<h.length;r++)e=h[r],i.prototype[e]=n.prototype[e];for(c=function(n){var r=function(){},u;return n in i.prototype&&(r=i.prototype[n]),u=t.prototype[n],function(){var n=Array.prototype.unshift;return n.call(arguments,r),u.apply(this,arguments)}},f=0;f<s.length;f++)o=s[f],i.prototype[o]=c(o);return i},i=function(){this.listeners={}},i.prototype.on=function(n,t){this.listeners=this.listeners||{};n in this.listeners?this.listeners[n].push(t):this.listeners[n]=[t]},i.prototype.trigger=function(n){var i=Array.prototype.slice,t=i.call(arguments,1);this.listeners=this.listeners||{};t==null&&(t=[]);t.length===0&&t.push({});t[0]._type=n;n in this.listeners&&this.invoke(this.listeners[n],i.call(arguments,1));"*"in this.listeners&&this.invoke(this.listeners["*"],arguments)},i.prototype.invoke=function(n,t){for(var i=0,r=n.length;i<r;i++)n[i].apply(this,t)},t.Observable=i,t.generateChars=function(n){for(var r,t="",i=0;i<n;i++)r=Math.floor(Math.random()*36),t+=r.toString(36);return t},t.bind=function(n,t){return function(){n.apply(t,arguments)}},t._convertData=function(n){var f,r,i,u,t;for(f in n)if(r=f.split("-"),i=n,r.length!==1){for(u=0;u<r.length;u++)t=r[u],t=t.substring(0,1).toLowerCase()+t.substring(1),t in i||(i[t]={}),u==r.length-1&&(i[t]=n[f]),i=i[t];delete n[f]}return n},t.hasScroll=function(t,i){var u=n(i),f=i.style.overflowX,r=i.style.overflowY;return f===r&&(r==="hidden"||r==="visible")?!1:f==="scroll"||r==="scroll"?!0:u.innerHeight()<i.scrollHeight||u.innerWidth()<i.scrollWidth},t.escapeMarkup=function(n){var t={"\\":"&#92;","&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#47;"};return typeof n!="string"?n:String(n).replace(/[&<>"'\/\\]/g,function(n){return t[n]})},t.appendMany=function(t,i){if(n.fn.jquery.substr(0,3)==="1.7"){var r=n();n.map(i,function(n){r=r.add(n)});i=r}t.append(i)},t.__cache={},r=0,t.GetUniqueElementId=function(n){var t=n.getAttribute("data-select2-id");return t==null&&(n.id?(t=n.id,n.setAttribute("data-select2-id",t)):(n.setAttribute("data-select2-id",++r),t=r.toString())),t},t.StoreData=function(n,i,r){var u=t.GetUniqueElementId(n);t.__cache[u]||(t.__cache[u]={});t.__cache[u][i]=r},t.GetData=function(i,r){var u=t.GetUniqueElementId(i);return r?t.__cache[u]?t.__cache[u][r]!=null?t.__cache[u][r]:n(i).data(r):n(i).data(r):t.__cache[u]},t.RemoveData=function(n){var i=t.GetUniqueElementId(n);t.__cache[i]!=null&&delete t.__cache[i];n.removeAttribute("data-select2-id")},t}),t.define("select2/results",["jquery","./utils"],function(n,t){function i(n,t,r){this.$element=n;this.data=r;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<ul class="select2-results__options" role="listbox"><\/ul>');return this.options.get("multiple")&&t.attr("aria-multiselectable","true"),this.$results=t,t},i.prototype.clear=function(){this.$results.empty()},i.prototype.displayMessage=function(t){var u=this.options.get("escapeMarkup"),i,r;this.clear();this.hideLoading();i=n('<li role="alert" aria-live="assertive" class="select2-results__option"><\/li>');r=this.options.get("translations").get(t.message);i.append(u(r(t.args)));i[0].className+=" select2-results__message";this.$results.append(i)},i.prototype.hideMessages=function(){this.$results.find(".select2-results__message").remove()},i.prototype.append=function(n){var i,t,r,u;if(this.hideLoading(),i=[],n.results==null||n.results.length===0){this.$results.children().length===0&&this.trigger("results:message",{message:"noResults"});return}for(n.results=this.sort(n.results),t=0;t<n.results.length;t++)r=n.results[t],u=this.option(r),i.push(u);this.$results.append(i)},i.prototype.position=function(n,t){var i=t.find(".select2-results");i.append(n)},i.prototype.sort=function(n){var t=this.options.get("sorter");return t(n)},i.prototype.highlightFirstItem=function(){var n=this.$results.find(".select2-results__option[aria-selected]"),t=n.filter("[aria-selected=true]");t.length>0?t.first().trigger("mouseenter"):n.first().trigger("mouseenter");this.ensureHighlightVisible()},i.prototype.setClasses=function(){var i=this;this.data.current(function(r){var u=n.map(r,function(n){return n.id.toString()}),f=i.$results.find(".select2-results__option[aria-selected]");f.each(function(){var r=n(this),i=t.GetData(this,"data"),f=""+i.id;i.element!=null&&i.element.selected||i.element==null&&n.inArray(f,u)>-1?r.attr("aria-selected","true"):r.attr("aria-selected","false")})})},i.prototype.showLoading=function(n){this.hideLoading();var i=this.options.get("translations").get("searching"),r={disabled:!0,loading:!0,text:i(n)},t=this.option(r);t.className+=" loading-results";this.$results.prepend(t)},i.prototype.hideLoading=function(){this.$results.find(".loading-results").remove()},i.prototype.option=function(i){var u=document.createElement("li"),r,l,o,a,s,f,p,h,e,v,y,c;u.className="select2-results__option";r={role:"option","aria-selected":"false"};l=window.Element.prototype.matches||window.Element.prototype.msMatchesSelector||window.Element.prototype.webkitMatchesSelector;(i.element!=null&&l.call(i.element,":disabled")||i.element==null&&i.disabled)&&(delete r["aria-selected"],r["aria-disabled"]="true");i.id==null&&delete r["aria-selected"];i._resultId!=null&&(u.id=i._resultId);i.title&&(u.title=i.title);i.children&&(r.role="group",r["aria-label"]=i.text,delete r["aria-selected"]);for(o in r)a=r[o],u.setAttribute(o,a);if(i.children){for(s=n(u),f=document.createElement("strong"),f.className="select2-results__group",p=n(f),this.template(i,f),h=[],e=0;e<i.children.length;e++)v=i.children[e],y=this.option(v),h.push(y);c=n("<ul><\/ul>",{"class":"select2-results__options select2-results__options--nested"});c.append(h);s.append(f);s.append(c)}else this.template(i,u);return t.StoreData(u,"data",i),u},i.prototype.bind=function(i){var r=this,u=i.id+"-results";this.$results.attr("id",u);i.on("results:all",function(n){r.clear();r.append(n.data);i.isOpen()&&(r.setClasses(),r.highlightFirstItem())});i.on("results:append",function(n){r.append(n.data);i.isOpen()&&r.setClasses()});i.on("query",function(n){r.hideMessages();r.showLoading(n)});i.on("select",function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())});i.on("unselect",function(){i.isOpen()&&(r.setClasses(),r.options.get("scrollAfterSelect")&&r.highlightFirstItem())});i.on("open",function(){r.$results.attr("aria-expanded","true");r.$results.attr("aria-hidden","false");r.setClasses();r.ensureHighlightVisible()});i.on("close",function(){r.$results.attr("aria-expanded","false");r.$results.attr("aria-hidden","true");r.$results.removeAttr("aria-activedescendant")});i.on("results:toggle",function(){var n=r.getHighlightedResults();n.length!==0&&n.trigger("mouseup")});i.on("results:select",function(){var n=r.getHighlightedResults(),i;n.length!==0&&(i=t.GetData(n[0],"data"),n.attr("aria-selected")=="true"?r.trigger("close",{}):r.trigger("select",{data:i}))});i.on("results:previous",function(){var i=r.getHighlightedResults(),u=r.$results.find("[aria-selected]"),f=u.index(i),n,t;if(!(f<=0)){n=f-1;i.length===0&&(n=0);t=u.eq(n);t.trigger("mouseenter");var e=r.$results.offset().top,o=t.offset().top,s=r.$results.scrollTop()+(o-e);n===0?r.$results.scrollTop(0):o-e<0&&r.$results.scrollTop(s)}});i.on("results:next",function(){var e=r.getHighlightedResults(),t=r.$results.find("[aria-selected]"),o=t.index(e),i=o+1,n;if(!(i>=t.length)){n=t.eq(i);n.trigger("mouseenter");var u=r.$results.offset().top+r.$results.outerHeight(!1),f=n.offset().top+n.outerHeight(!1),s=r.$results.scrollTop()+f-u;i===0?r.$results.scrollTop(0):f>u&&r.$results.scrollTop(s)}});i.on("results:focus",function(n){n.element.addClass("select2-results__option--highlighted")});i.on("results:message",function(n){r.displayMessage(n)});if(n.fn.mousewheel)this.$results.on("mousewheel",function(n){var t=r.$results.scrollTop(),i=r.$results.get(0).scrollHeight-t+n.deltaY,u=n.deltaY>0&&t-n.deltaY<=0,f=n.deltaY<0&&i<=r.$results.height();u?(r.$results.scrollTop(0),n.preventDefault(),n.stopPropagation()):f&&(r.$results.scrollTop(r.$results.get(0).scrollHeight-r.$results.height()),n.preventDefault(),n.stopPropagation())});this.$results.on("mouseup",".select2-results__option[aria-selected]",function(i){var f=n(this),u=t.GetData(this,"data");if(f.attr("aria-selected")==="true"){r.options.get("multiple")?r.trigger("unselect",{originalEvent:i,data:u}):r.trigger("close",{});return}r.trigger("select",{originalEvent:i,data:u})});this.$results.on("mouseenter",".select2-results__option[aria-selected]",function(){var i=t.GetData(this,"data");r.getHighlightedResults().removeClass("select2-results__option--highlighted");r.trigger("results:focus",{data:i,element:n(this)})})},i.prototype.getHighlightedResults=function(){return this.$results.find(".select2-results__option--highlighted")},i.prototype.destroy=function(){this.$results.remove()},i.prototype.ensureHighlightVisible=function(){var n=this.getHighlightedResults();if(n.length!==0){var f=this.$results.find("[aria-selected]"),e=f.index(n),t=this.$results.offset().top,i=n.offset().top,r=this.$results.scrollTop()+(i-t),u=i-t;r-=n.outerHeight(!1)*2;e<=2?this.$results.scrollTop(0):(u>this.$results.outerHeight()||u<0)&&this.$results.scrollTop(r)}},i.prototype.template=function(t,i){var u=this.options.get("templateResult"),f=this.options.get("escapeMarkup"),r=u(t,i);r==null?i.style.display="none":typeof r=="string"?i.innerHTML=f(r):n(i).append(r)},i}),t.define("select2/keys",[],function(){return{BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46}}),t.define("select2/selection/base",["jquery","../utils","../keys"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,t.Observable),r.prototype.render=function(){var i=n('<span class="select2-selection" role="combobox"  aria-haspopup="true" aria-expanded="false"><\/span>');return this._tabindex=0,t.GetData(this.$element[0],"old-tabindex")!=null?this._tabindex=t.GetData(this.$element[0],"old-tabindex"):this.$element.attr("tabindex")!=null&&(this._tabindex=this.$element.attr("tabindex")),i.attr("title",this.$element.attr("title")),i.attr("tabindex",this._tabindex),i.attr("aria-disabled","false"),this.$selection=i,i},r.prototype.bind=function(n){var t=this,r=n.id+"-results";this.container=n;this.$selection.on("focus",function(n){t.trigger("focus",n)});this.$selection.on("blur",function(n){t._handleBlur(n)});this.$selection.on("keydown",function(n){t.trigger("keypress",n);n.which===i.SPACE&&n.preventDefault()});n.on("results:focus",function(n){t.$selection.attr("aria-activedescendant",n.data._resultId)});n.on("selection:update",function(n){t.update(n.data)});n.on("open",function(){t.$selection.attr("aria-expanded","true");t.$selection.attr("aria-owns",r);t._attachCloseHandler(n)});n.on("close",function(){t.$selection.attr("aria-expanded","false");t.$selection.removeAttr("aria-activedescendant");t.$selection.removeAttr("aria-owns");t.$selection.trigger("focus");t._detachCloseHandler(n)});n.on("enable",function(){t.$selection.attr("tabindex",t._tabindex);t.$selection.attr("aria-disabled","false")});n.on("disable",function(){t.$selection.attr("tabindex","-1");t.$selection.attr("aria-disabled","true")})},r.prototype._handleBlur=function(t){var i=this;window.setTimeout(function(){document.activeElement==i.$selection[0]||n.contains(i.$selection[0],document.activeElement)||i.trigger("blur",t)},1)},r.prototype._attachCloseHandler=function(i){n(document.body).on("mousedown.select2."+i.id,function(i){var r=n(i.target),u=r.closest(".select2"),f=n(".select2.select2-container--open");f.each(function(){if(this!=u[0]){var n=t.GetData(this,"element");n.select2("close")}})})},r.prototype._detachCloseHandler=function(t){n(document.body).off("mousedown.select2."+t.id)},r.prototype.position=function(n,t){var i=t.find(".selection");i.append(n)},r.prototype.destroy=function(){this._detachCloseHandler(this.container)},r.prototype.update=function(){throw new Error("The `update` method must be defined in child classes.");},r.prototype.isEnabled=function(){return!this.isDisabled()},r.prototype.isDisabled=function(){return this.options.get("disabled")},r}),t.define("select2/selection/single",["jquery","./base","../utils","../keys"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--single"),n.html('<span class="select2-selection__rendered"><\/span><span class="select2-selection__arrow" role="presentation"><b role="presentation"><\/b><\/span>'),n},r.prototype.bind=function(n){var i=this,t;r.__super__.bind.apply(this,arguments);t=n.id+"-container";this.$selection.find(".select2-selection__rendered").attr("id",t).attr("role","textbox").attr("aria-readonly","true");this.$selection.attr("aria-labelledby",t);this.$selection.on("mousedown",function(n){n.which===1&&i.trigger("toggle",{originalEvent:n})});this.$selection.on("focus",function(){});this.$selection.on("blur",function(){});n.on("focus",function(){n.isOpen()||i.$selection.trigger("focus")})},r.prototype.clear=function(){var n=this.$selection.find(".select2-selection__rendered");n.empty();n.removeAttr("title")},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n("<span><\/span>")},r.prototype.update=function(n){var r;if(n.length===0){this.clear();return}var i=n[0],t=this.$selection.find(".select2-selection__rendered"),u=this.display(i,t);t.empty().append(u);r=i.title||i.text;r?t.attr("title",r):t.removeAttr("title")},r}),t.define("select2/selection/multiple",["jquery","./base","../utils"],function(n,t,i){function r(){r.__super__.constructor.apply(this,arguments)}return i.Extend(r,t),r.prototype.render=function(){var n=r.__super__.render.call(this);return n.addClass("select2-selection--multiple"),n.html('<ul class="select2-selection__rendered"><\/ul>'),n},r.prototype.bind=function(){var t=this;r.__super__.bind.apply(this,arguments);this.$selection.on("click",function(n){t.trigger("toggle",{originalEvent:n})});this.$selection.on("click",".select2-selection__choice__remove",function(r){if(!t.isDisabled()){var u=n(this),f=u.parent(),e=i.GetData(f[0],"data");t.trigger("unselect",{originalEvent:r,data:e})}})},r.prototype.clear=function(){var n=this.$selection.find(".select2-selection__rendered");n.empty();n.removeAttr("title")},r.prototype.display=function(n,t){var i=this.options.get("templateSelection"),r=this.options.get("escapeMarkup");return r(i(n,t))},r.prototype.selectionContainer=function(){return n('<li class="select2-selection__choice"><span class="select2-selection__choice__remove" role="presentation">&times;<\/span><\/li>')},r.prototype.update=function(n){var f,r,e,o;if(this.clear(),n.length!==0){for(f=[],r=0;r<n.length;r++){var u=n[r],t=this.selectionContainer(),s=this.display(u,t);t.append(s);e=u.title||u.text;e&&t.attr("title",e);i.StoreData(t[0],"data",u);f.push(t)}o=this.$selection.find(".select2-selection__rendered");i.appendMany(o,f)}},r}),t.define("select2/selection/placeholder",["../utils"],function(){function n(n,t,i){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i)}return n.prototype.normalizePlaceholder=function(n,t){return typeof t=="string"&&(t={id:"",text:t}),t},n.prototype.createPlaceholder=function(n,t){var i=this.selectionContainer();return i.html(this.display(t)),i.addClass("select2-selection__placeholder").removeClass("select2-selection__choice"),i},n.prototype.update=function(n,t){var r=t.length==1&&t[0].id!=this.placeholder.id,u=t.length>1,i;if(u||r)return n.call(this,t);this.clear();i=this.createPlaceholder(this.placeholder);this.$selection.find(".select2-selection__rendered").append(i)},n}),t.define("select2/selection/allowClear",["jquery","../keys","../utils"],function(n,t,i){function r(){}return r.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);this.placeholder==null&&this.options.get("debug")&&window.console&&console.error&&console.error("Select2: The `allowClear` option should be used in combination with the `placeholder` option.");this.$selection.on("mousedown",".select2-selection__clear",function(n){r._handleClear(n)});t.on("keypress",function(n){r._handleKeyboardClear(n,t)})},r.prototype._handleClear=function(n,t){var e,u,o,r,f;if(!this.isDisabled()&&(e=this.$selection.find(".select2-selection__clear"),e.length!==0)){if(t.stopPropagation(),u=i.GetData(e[0],"data"),o=this.$element.val(),this.$element.val(this.placeholder.id),r={data:u},this.trigger("clear",r),r.prevented){this.$element.val(o);return}for(f=0;f<u.length;f++)if(r={data:u[f]},this.trigger("unselect",r),r.prevented){this.$element.val(o);return}this.$element.trigger("input").trigger("change");this.trigger("toggle",{})}},r.prototype._handleKeyboardClear=function(n,i,r){r.isOpen()||(i.which==t.DELETE||i.which==t.BACKSPACE)&&this._handleClear(i)},r.prototype.update=function(t,r){if(t.call(this,r),!(this.$selection.find(".select2-selection__placeholder").length>0)&&r.length!==0){var f=this.options.get("translations").get("removeAllItems"),u=n('<span class="select2-selection__clear" title="'+f()+'">&times;<\/span>');i.StoreData(u[0],"data",r);this.$selection.find(".select2-selection__rendered").prepend(u)}},r}),t.define("select2/selection/search",["jquery","../utils","../keys"],function(n,t,i){function r(n,t,i){n.call(this,t,i)}return r.prototype.render=function(t){var i=n('<li class="select2-search select2-search--inline"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /><\/li>'),r;return this.$searchContainer=i,this.$search=i.find("input"),r=t.call(this),this._transferTabIndex(),r},r.prototype.bind=function(n,r,u){var f=this,s=r.id+"-results",e,o;n.call(this,r,u);r.on("open",function(){f.$search.attr("aria-controls",s);f.$search.trigger("focus")});r.on("close",function(){f.$search.val("");f.$search.removeAttr("aria-controls");f.$search.removeAttr("aria-activedescendant");f.$search.trigger("focus")});r.on("enable",function(){f.$search.prop("disabled",!1);f._transferTabIndex()});r.on("disable",function(){f.$search.prop("disabled",!0)});r.on("focus",function(){f.$search.trigger("focus")});r.on("results:focus",function(n){n.data._resultId?f.$search.attr("aria-activedescendant",n.data._resultId):f.$search.removeAttr("aria-activedescendant")});this.$selection.on("focusin",".select2-search--inline",function(n){f.trigger("focus",n)});this.$selection.on("focusout",".select2-search--inline",function(n){f._handleBlur(n)});this.$selection.on("keydown",".select2-search--inline",function(n){var u,r,e;n.stopPropagation();f.trigger("keypress",n);f._keyUpPrevented=n.isDefaultPrevented();u=n.which;u===i.BACKSPACE&&f.$search.val()===""&&(r=f.$searchContainer.prev(".select2-selection__choice"),r.length>0&&(e=t.GetData(r[0],"data"),f.searchRemoveChoice(e),n.preventDefault()))});this.$selection.on("click",".select2-search--inline",function(n){f.$search.val()&&n.stopPropagation()});e=document.documentMode;o=e&&e<=11;this.$selection.on("input.searchcheck",".select2-search--inline",function(){if(o){f.$selection.off("input.search input.searchcheck");return}f.$selection.off("keyup.search")});this.$selection.on("keyup.search input.search",".select2-search--inline",function(n){if(o&&n.type==="input"){f.$selection.off("input.search input.searchcheck");return}var t=n.which;t!=i.SHIFT&&t!=i.CTRL&&t!=i.ALT&&t!=i.TAB&&f.handleSearch(n)})},r.prototype._transferTabIndex=function(){this.$search.attr("tabindex",this.$selection.attr("tabindex"));this.$selection.attr("tabindex","-1")},r.prototype.createPlaceholder=function(n,t){this.$search.attr("placeholder",t.text)},r.prototype.update=function(n,t){var i=this.$search[0]==document.activeElement;this.$search.attr("placeholder","");n.call(this,t);this.$selection.find(".select2-selection__rendered").append(this.$searchContainer);this.resizeSearch();i&&this.$search.trigger("focus")},r.prototype.handleSearch=function(){if(this.resizeSearch(),!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},r.prototype.searchRemoveChoice=function(n,t){this.trigger("unselect",{data:t});this.$search.val(t.text);this.handleSearch()},r.prototype.resizeSearch=function(){var n,t;this.$search.css("width","25px");n="";this.$search.attr("placeholder")!==""?n=this.$selection.find(".select2-selection__rendered").width():(t=this.$search.val().length+1,n=t*.75+"em");this.$search.css("width",n)},r}),t.define("select2/selection/eventRelay",["jquery"],function(n){function t(){}return t.prototype.bind=function(t,i,r){var u=this,f=["open","opening","close","closing","select","selecting","unselect","unselecting","clear","clearing"],e=["opening","closing","selecting","unselecting","clearing"];t.call(this,i,r);i.on("*",function(t,i){if(n.inArray(t,f)!==-1){i=i||{};var r=n.Event("select2:"+t,{params:i});(u.$element.trigger(r),n.inArray(t,e)!==-1)&&(i.prevented=r.isDefaultPrevented())}})},t}),t.define("select2/translation",["jquery","require"],function(n,t){function i(n){this.dict=n||{}}return i.prototype.all=function(){return this.dict},i.prototype.get=function(n){return this.dict[n]},i.prototype.extend=function(t){this.dict=n.extend({},t.all(),this.dict)},i._cache={},i.loadPath=function(n){if(!(n in i._cache)){var r=t(n);i._cache[n]=r}return new i(i._cache[n])},i}),t.define("select2/diacritics",[],function(){return{"":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"A","":"AA","":"AE","":"AE","":"AE","":"AO","":"AU","":"AV","":"AV","":"AY","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"B","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"C","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"D","":"DZ","":"DZ","":"Dz","":"Dz","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"E","":"F","":"F","":"F","":"F","":"F","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"G","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"H","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"I","":"J","":"J","":"J","":"J","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"K","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"L","":"LJ","":"Lj","":"M","":"M","":"M","":"M","":"M","":"M","":"M","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"N","":"NJ","":"Nj","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"O","":"OE","":"OI","":"OO","":"OU","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"P","":"Q","":"Q","":"Q","":"Q","":"Q","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"R","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"S","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"T","":"TZ","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"U","":"V","":"V","":"V","":"V","":"V","":"V","":"V","":"VY","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"W","":"X","":"X","":"X","":"X","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Y","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"Z","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"a","":"aa","":"ae","":"ae","":"ae","":"ao","":"au","":"av","":"av","":"ay","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"b","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"c","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"d","":"dz","":"dz","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"e","":"f","":"f","":"f","":"f","":"f","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"g","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"h","":"hv","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"i","":"j","":"j","":"j","":"j","":"j","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"k","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"l","":"lj","":"m","":"m","":"m","":"m","":"m","":"m","":"m","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"n","":"nj","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"o","":"oe","":"oi","":"ou","":"oo","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"p","":"q","":"q","":"q","":"q","":"q","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"r","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"s","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"t","":"tz","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"u","":"v","":"v","":"v","":"v","":"v","":"v","":"v","":"vy","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"w","":"x","":"x","":"x","":"x","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"y","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"z","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"","":"'"}}),t.define("select2/data/base",["../utils"],function(n){function t(){t.__super__.constructor.call(this)}return n.Extend(t,n.Observable),t.prototype.current=function(){throw new Error("The `current` method must be defined in child classes.");},t.prototype.query=function(){throw new Error("The `query` method must be defined in child classes.");},t.prototype.bind=function(){},t.prototype.destroy=function(){},t.prototype.generateResultId=function(t,i){var r=t.id+"-result-";return r+=n.generateChars(4),r+(i.id!=null?"-"+i.id.toString():"-"+n.generateChars(4))},t}),t.define("select2/data/select",["./base","../utils","jquery"],function(n,t,i){function r(n,t){this.$element=n;this.options=t;r.__super__.constructor.call(this)}return t.Extend(r,n),r.prototype.current=function(n){var t=[],r=this;this.$element.find(":selected").each(function(){var n=i(this),u=r.item(n);t.push(u)});n(t)},r.prototype.select=function(n){var t=this,r;if(n.selected=!0,i(n.element).is("option")){n.element.selected=!0;this.$element.trigger("input").trigger("change");return}this.$element.prop("multiple")?this.current(function(r){var f=[],u,e;for(n=[n],n.push.apply(n,r),u=0;u<n.length;u++)e=n[u].id,i.inArray(e,f)===-1&&f.push(e);t.$element.val(f);t.$element.trigger("input").trigger("change")}):(r=n.id,this.$element.val(r),this.$element.trigger("input").trigger("change"))},r.prototype.unselect=function(n){var t=this;if(this.$element.prop("multiple")){if(n.selected=!1,i(n.element).is("option")){n.element.selected=!1;this.$element.trigger("input").trigger("change");return}this.current(function(r){for(var u,f=[],e=0;e<r.length;e++)u=r[e].id,u!==n.id&&i.inArray(u,f)===-1&&f.push(u);t.$element.val(f);t.$element.trigger("input").trigger("change")})}},r.prototype.bind=function(n){var t=this;this.container=n;n.on("select",function(n){t.select(n.data)});n.on("unselect",function(n){t.unselect(n.data)})},r.prototype.destroy=function(){this.$element.find("*").each(function(){t.RemoveData(this)})},r.prototype.query=function(n,t){var r=[],u=this,f=this.$element.children();f.each(function(){var t=i(this),e,f;(t.is("option")||t.is("optgroup"))&&(e=u.item(t),f=u.matches(n,e),f!==null&&r.push(f))});t({results:r})},r.prototype.addOptions=function(n){t.appendMany(this.$element,n)},r.prototype.option=function(n){var r,f,u;return n.children?(r=document.createElement("optgroup"),r.label=n.text):(r=document.createElement("option"),r.textContent!==undefined?r.textContent=n.text:r.innerText=n.text),n.id!==undefined&&(r.value=n.id),n.disabled&&(r.disabled=!0),n.selected&&(r.selected=!0),n.title&&(r.title=n.title),f=i(r),u=this._normalizeItem(n),u.element=r,t.StoreData(r,"data",u),f},r.prototype.item=function(n){var r={},f,e,u,o,s;if(r=t.GetData(n[0],"data"),r!=null)return r;if(n.is("option"))r={id:n.val(),text:n.text(),disabled:n.prop("disabled"),selected:n.prop("selected"),title:n.prop("title")};else if(n.is("optgroup")){for(r={text:n.prop("label"),children:[],title:n.prop("title")},f=n.children("option"),e=[],u=0;u<f.length;u++)o=i(f[u]),s=this.item(o),e.push(s);r.children=e}return r=this._normalizeItem(r),r.element=n[0],t.StoreData(n[0],"data",r),r},r.prototype._normalizeItem=function(n){n!==Object(n)&&(n={id:n,text:n});n=i.extend({},{text:""},n);return n.id!=null&&(n.id=n.id.toString()),n.text!=null&&(n.text=n.text.toString()),n._resultId==null&&n.id&&this.container!=null&&(n._resultId=this.generateResultId(this.container,n)),i.extend({},{selected:!1,disabled:!1},n)},r.prototype.matches=function(n,t){var i=this.options.get("matcher");return i(n,t)},r}),t.define("select2/data/array",["./select","../utils","jquery"],function(n,t,i){function r(n,t){this._dataToConvert=t.get("data")||[];r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype.bind=function(n,t){r.__super__.bind.call(this,n,t);this.addOptions(this.convertToOptions(this._dataToConvert))},r.prototype.select=function(n){var t=this.$element.find("option").filter(function(t,i){return i.value==n.id.toString()});t.length===0&&(t=this.option(n),this.addOptions(t));r.__super__.select.call(this,n)},r.prototype.convertToOptions=function(n){function a(n){return function(){return i(this).val()==n.id}}for(var r,f,h,c=this,e=this.$element.find("option"),l=e.map(function(){return c.item(i(this)).id}).get(),o=[],u=0;u<n.length;u++){if(r=this._normalizeItem(n[u]),i.inArray(r.id,l)>=0){var s=e.filter(a(r)),v=this.item(s),y=i.extend(!0,{},r,v),p=this.option(y);s.replaceWith(p);continue}f=this.option(r);r.children&&(h=this.convertToOptions(r.children),t.appendMany(f,h));o.push(f)}return o},r}),t.define("select2/data/ajax",["./array","../utils","jquery"],function(n,t,i){function r(n,t){this.ajaxOptions=this._applyDefaults(t.get("ajax"));this.ajaxOptions.processResults!=null&&(this.processResults=this.ajaxOptions.processResults);r.__super__.constructor.call(this,n,t)}return t.Extend(r,n),r.prototype._applyDefaults=function(n){var t={data:function(n){return i.extend({},n,{q:n.term})},transport:function(n,t,r){var u=i.ajax(n);return u.then(t),u.fail(r),u}};return i.extend({},t,n,!0)},r.prototype.processResults=function(n){return n},r.prototype.query=function(n,t){function f(){var f=r.transport(r,function(r){var f=u.processResults(r,n);u.options.get("debug")&&window.console&&console.error&&(f&&f.results&&i.isArray(f.results)||console.error("Select2: The AJAX results did not return an array in the `results` key of the response."));t(f)},function(){"status"in f&&(f.status===0||f.status==="0")||u.trigger("results:message",{message:"errorLoading"})});u._request=f}var u=this,r;this._request!=null&&(i.isFunction(this._request.abort)&&this._request.abort(),this._request=null);r=i.extend({type:"GET"},this.ajaxOptions);typeof r.url=="function"&&(r.url=r.url.call(this.$element,n));typeof r.data=="function"&&(r.data=r.data.call(this.$element,n));this.ajaxOptions.delay&&n.term!=null?(this._queryTimeout&&window.clearTimeout(this._queryTimeout),this._queryTimeout=window.setTimeout(f,this.ajaxOptions.delay)):f()},r}),t.define("select2/data/tags",["jquery"],function(n){function t(t,i,r){var f=r.get("tags"),o=r.get("createTag"),e,u;if(o!==undefined&&(this.createTag=o),e=r.get("insertTag"),e!==undefined&&(this.insertTag=e),t.call(this,i,r),n.isArray(f))for(u=0;u<f.length;u++){var s=f[u],h=this._normalizeItem(s),c=this.option(h);this.$element.append(c)}}return t.prototype.query=function(n,t,i){function u(n,f){for(var o,c,e=n.results,s=0;s<e.length;s++){var h=e[s],l=h.children!=null&&!u({results:h.children},!0),a=(h.text||"").toUpperCase(),v=(t.term||"").toUpperCase(),y=a===v;if(y||l){if(f)return!1;n.data=e;i(n);return}}if(f)return!0;o=r.createTag(t);o!=null&&(c=r.option(o),c.attr("data-select2-tag",!0),r.addOptions([c]),r.insertTag(e,o));n.results=e;i(n)}var r=this;if(this._removeOldTags(),t.term==null||t.page!=null){n.call(this,t,i);return}n.call(this,t,u)},t.prototype.createTag=function(t,i){var r=n.trim(i.term);return r===""?null:{id:r,text:r}},t.prototype.insertTag=function(n,t,i){t.unshift(i)},t.prototype._removeOldTags=function(){var t=this.$element.find("option[data-select2-tag]");t.each(function(){this.selected||n(this).remove()})},t}),t.define("select2/data/tokenizer",["jquery"],function(n){function t(n,t,i){var r=i.get("tokenizer");r!==undefined&&(this.tokenizer=r);n.call(this,t,i)}return t.prototype.bind=function(n,t,i){n.call(this,t,i);this.$search=t.dropdown.$search||t.selection.$search||i.find(".select2-search__field")},t.prototype.query=function(t,i,r){function e(t){var i=u._normalizeItem(t),f=u.$element.find("option").filter(function(){return n(this).val()===i.id}),r;f.length||(r=u.option(i),r.attr("data-select2-tag",!0),u._removeOldTags(),u.addOptions([r]));o(i)}function o(n){u.trigger("select",{data:n})}var u=this,f;i.term=i.term||"";f=this.tokenizer(i,this.options,e);f.term!==i.term&&(this.$search.length&&(this.$search.val(f.term),this.$search.trigger("focus")),i.term=f.term);t.call(this,i,r)},t.prototype.tokenizer=function(t,i,r,u){for(var h=r.get("tokenSeparators")||[],e=i.term,f=0,c=this.createTag||function(n){return{id:n.term,text:n.term}},o;f<e.length;){if(o=e[f],n.inArray(o,h)===-1){f++;continue}var l=e.substr(0,f),a=n.extend({},i,{term:l}),s=c(a);if(s==null){f++;continue}u(s);e=e.substr(f+1)||"";f=0}return{term:e}},t}),t.define("select2/data/minimumInputLength",[],function(){function n(n,t,i){this.minimumInputLength=i.get("minimumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){if(t.term=t.term||"",t.term.length<this.minimumInputLength){this.trigger("results:message",{message:"inputTooShort",args:{minimum:this.minimumInputLength,input:t.term,params:t}});return}n.call(this,t,i)},n}),t.define("select2/data/maximumInputLength",[],function(){function n(n,t,i){this.maximumInputLength=i.get("maximumInputLength");n.call(this,t,i)}return n.prototype.query=function(n,t,i){if(t.term=t.term||"",this.maximumInputLength>0&&t.term.length>this.maximumInputLength){this.trigger("results:message",{message:"inputTooLong",args:{maximum:this.maximumInputLength,input:t.term,params:t}});return}n.call(this,t,i)},n}),t.define("select2/data/maximumSelectionLength",[],function(){function n(n,t,i){this.maximumSelectionLength=i.get("maximumSelectionLength");n.call(this,t,i)}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(){r._checkIfMaximumSelected()})},n.prototype.query=function(n,t,i){var r=this;this._checkIfMaximumSelected(function(){n.call(r,t,i)})},n.prototype._checkIfMaximumSelected=function(n,t){var i=this;this.current(function(n){var r=n!=null?n.length:0;if(i.maximumSelectionLength>0&&r>=i.maximumSelectionLength){i.trigger("results:message",{message:"maximumSelected",args:{maximum:i.maximumSelectionLength}});return}t&&t()})},n}),t.define("select2/dropdown",["jquery","./utils"],function(n,t){function i(n,t){this.$element=n;this.options=t;i.__super__.constructor.call(this)}return t.Extend(i,t.Observable),i.prototype.render=function(){var t=n('<span class="select2-dropdown"><span class="select2-results"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$dropdown=t,t},i.prototype.bind=function(){},i.prototype.position=function(){},i.prototype.destroy=function(){this.$dropdown.remove()},i}),t.define("select2/dropdown/search",["jquery","../utils"],function(n){function t(){}return t.prototype.render=function(t){var r=t.call(this),i=n('<span class="select2-search select2-search--dropdown"><input class="select2-search__field" type="search" tabindex="-1" autocomplete="off" autocorrect="off" autocapitalize="none" spellcheck="false" role="searchbox" aria-autocomplete="list" /><\/span>');return this.$searchContainer=i,this.$search=i.find("input"),r.prepend(i),r},t.prototype.bind=function(t,i,r){var u=this,f=i.id+"-results";t.call(this,i,r);this.$search.on("keydown",function(n){u.trigger("keypress",n);u._keyUpPrevented=n.isDefaultPrevented()});this.$search.on("input",function(){n(this).off("keyup")});this.$search.on("keyup input",function(n){u.handleSearch(n)});i.on("open",function(){u.$search.attr("tabindex",0);u.$search.attr("aria-controls",f);u.$search.trigger("focus");window.setTimeout(function(){u.$search.trigger("focus")},0)});i.on("close",function(){u.$search.attr("tabindex",-1);u.$search.removeAttr("aria-controls");u.$search.removeAttr("aria-activedescendant");u.$search.val("");u.$search.trigger("blur")});i.on("focus",function(){i.isOpen()||u.$search.trigger("focus")});i.on("results:all",function(n){if(n.query.term==null||n.query.term===""){var t=u.showSearch(n);t?u.$searchContainer.removeClass("select2-search--hide"):u.$searchContainer.addClass("select2-search--hide")}});i.on("results:focus",function(n){n.data._resultId?u.$search.attr("aria-activedescendant",n.data._resultId):u.$search.removeAttr("aria-activedescendant")})},t.prototype.handleSearch=function(){if(!this._keyUpPrevented){var n=this.$search.val();this.trigger("query",{term:n})}this._keyUpPrevented=!1},t.prototype.showSearch=function(){return!0},t}),t.define("select2/dropdown/hidePlaceholder",[],function(){function n(n,t,i,r){this.placeholder=this.normalizePlaceholder(i.get("placeholder"));n.call(this,t,i,r)}return n.prototype.append=function(n,t){t.results=this.removePlaceholder(t.results);n.call(this,t)},n.prototype.normalizePlaceholder=function(n,t){return typeof t=="string"&&(t={id:"",text:t}),t},n.prototype.removePlaceholder=function(n,t){for(var u,r=t.slice(0),i=t.length-1;i>=0;i--)u=t[i],this.placeholder.id===u.id&&r.splice(i,1);return r},n}),t.define("select2/dropdown/infiniteScroll",["jquery"],function(n){function t(n,t,i,r){this.lastParams={};n.call(this,t,i,r);this.$loadingMore=this.createLoadingMore();this.loading=!1}return t.prototype.append=function(n,t){this.$loadingMore.remove();this.loading=!1;n.call(this,t);this.showLoadingMore(t)&&(this.$results.append(this.$loadingMore),this.loadMoreIfNeeded())},t.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("query",function(n){r.lastParams=n;r.loading=!0});t.on("query:append",function(n){r.lastParams=n;r.loading=!0});this.$results.on("scroll",this.loadMoreIfNeeded.bind(this))},t.prototype.loadMoreIfNeeded=function(){var r=n.contains(document.documentElement,this.$loadingMore[0]),t,i;!this.loading&&r&&(t=this.$results.offset().top+this.$results.outerHeight(!1),i=this.$loadingMore.offset().top+this.$loadingMore.outerHeight(!1),t+50>=i&&this.loadMore())},t.prototype.loadMore=function(){this.loading=!0;var t=n.extend({},{page:1},this.lastParams);t.page++;this.trigger("query:append",t)},t.prototype.showLoadingMore=function(n,t){return t.pagination&&t.pagination.more},t.prototype.createLoadingMore=function(){var t=n('<li class="select2-results__option select2-results__option--load-more"role="option" aria-disabled="true"><\/li>'),i=this.options.get("translations").get("loadingMore");return t.html(i(this.lastParams)),t},t}),t.define("select2/dropdown/attachBody",["jquery","../utils"],function(n,t){function i(t,i,r){this.$dropdownParent=n(r.get("dropdownParent")||document.body);t.call(this,i,r)}return i.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("open",function(){r._showDropdown();r._attachPositioningHandler(t);r._bindContainerResultHandlers(t)});t.on("close",function(){r._hideDropdown();r._detachPositioningHandler(t)});this.$dropdownContainer.on("mousedown",function(n){n.stopPropagation()})},i.prototype.destroy=function(n){n.call(this);this.$dropdownContainer.remove()},i.prototype.position=function(n,t,i){t.attr("class",i.attr("class"));t.removeClass("select2");t.addClass("select2-container--open");t.css({position:"absolute",top:-999999});this.$container=i},i.prototype.render=function(t){var i=n("<span><\/span>"),r=t.call(this);return i.append(r),this.$dropdownContainer=i,i},i.prototype._hideDropdown=function(){this.$dropdownContainer.detach()},i.prototype._bindContainerResultHandlers=function(n,t){if(!this._containerResultsHandlersBound){var i=this;t.on("results:all",function(){i._positionDropdown();i._resizeDropdown()});t.on("results:append",function(){i._positionDropdown();i._resizeDropdown()});t.on("results:message",function(){i._positionDropdown();i._resizeDropdown()});t.on("select",function(){i._positionDropdown();i._resizeDropdown()});t.on("unselect",function(){i._positionDropdown();i._resizeDropdown()});this._containerResultsHandlersBound=!0}},i.prototype._attachPositioningHandler=function(i,r){var u=this,f="scroll.select2."+r.id,o="resize.select2."+r.id,s="orientationchange.select2."+r.id,e=this.$container.parents().filter(t.hasScroll);e.each(function(){t.StoreData(this,"select2-scroll-position",{x:n(this).scrollLeft(),y:n(this).scrollTop()})});e.on(f,function(){var i=t.GetData(this,"select2-scroll-position");n(this).scrollTop(i.y)});n(window).on(f+" "+o+" "+s,function(){u._positionDropdown();u._resizeDropdown()})},i.prototype._detachPositioningHandler=function(i,r){var u="scroll.select2."+r.id,f="resize.select2."+r.id,e="orientationchange.select2."+r.id,o=this.$container.parents().filter(t.hasScroll);o.off(u);n(window).off(u+" "+f+" "+e)},i.prototype._positionDropdown=function(){var s=n(window),e=this.$dropdown.hasClass("select2-dropdown--above"),v=this.$dropdown.hasClass("select2-dropdown--below"),t=null,i=this.$container.offset(),r,f;i.bottom=i.top+this.$container.outerHeight(!1);r={height:this.$container.outerHeight(!1)};r.top=i.top;r.bottom=i.top+r.height;var h={height:this.$dropdown.outerHeight(!1)},c={top:s.scrollTop(),bottom:s.scrollTop()+s.height()},l=c.top<i.top-h.height,a=c.bottom>i.bottom+h.height,o={left:i.left,top:r.bottom},u=this.$dropdownParent;u.css("position")==="static"&&(u=u.offsetParent());f={top:0,left:0};(n.contains(document.body,u[0])||u[0].isConnected)&&(f=u.offset());o.top-=f.top;o.left-=f.left;e||v||(t="below");a||!l||e?!l&&a&&e&&(t="below"):t="above";(t=="above"||e&&t!=="below")&&(o.top=r.top-f.top-h.height);t!=null&&(this.$dropdown.removeClass("select2-dropdown--below select2-dropdown--above").addClass("select2-dropdown--"+t),this.$container.removeClass("select2-container--below select2-container--above").addClass("select2-container--"+t));this.$dropdownContainer.css(o)},i.prototype._resizeDropdown=function(){var n={width:this.$container.outerWidth(!1)+"px"};this.options.get("dropdownAutoWidth")&&(n.minWidth=n.width,n.position="relative",n.width="auto");this.$dropdown.css(n)},i.prototype._showDropdown=function(){this.$dropdownContainer.appendTo(this.$dropdownParent);this._positionDropdown();this._resizeDropdown()},i}),t.define("select2/dropdown/minimumResultsForSearch",[],function(){function n(t){for(var u,i=0,r=0;r<t.length;r++)u=t[r],u.children?i+=n(u.children):i++;return i}function t(n,t,i,r){this.minimumResultsForSearch=i.get("minimumResultsForSearch");this.minimumResultsForSearch<0&&(this.minimumResultsForSearch=Infinity);n.call(this,t,i,r)}return t.prototype.showSearch=function(t,i){return n(i.data.results)<this.minimumResultsForSearch?!1:t.call(this,i)},t}),t.define("select2/dropdown/selectOnClose",["../utils"],function(n){function t(){}return t.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("close",function(n){r._handleSelectOnClose(n)})},t.prototype._handleSelectOnClose=function(t,i){var u,f,r;i&&i.originalSelect2Event!=null&&(u=i.originalSelect2Event,u._type==="select"||u._type==="unselect")||(f=this.getHighlightedResults(),f.length<1)||(r=n.GetData(f[0],"data"),r.element!=null&&r.element.selected||r.element==null&&r.selected)||this.trigger("select",{data:r})},t}),t.define("select2/dropdown/closeOnSelect",[],function(){function n(){}return n.prototype.bind=function(n,t,i){var r=this;n.call(this,t,i);t.on("select",function(n){r._selectTriggered(n)});t.on("unselect",function(n){r._selectTriggered(n)})},n.prototype._selectTriggered=function(n,t){var i=t.originalEvent;i&&(i.ctrlKey||i.metaKey)||this.trigger("close",{originalEvent:i,originalSelect2Event:t})},n}),t.define("select2/i18n/en",[],function(){return{errorLoading:function(){return"The results could not be loaded."},inputTooLong:function(n){var t=n.input.length-n.maximum,i="Please delete "+t+" character";return t!=1&&(i+="s"),i},inputTooShort:function(n){var t=n.minimum-n.input.length;return"Please enter "+t+" or more characters"},loadingMore:function(){return"Loading more results"},maximumSelected:function(n){var t="You can only select "+n.maximum+" item";return n.maximum!=1&&(t+="s"),t},noResults:function(){return"No results found"},searching:function(){return"Searching"},removeAllItems:function(){return"Remove all items"}}}),t.define("select2/defaults",["jquery","require","./results","./selection/single","./selection/multiple","./selection/placeholder","./selection/allowClear","./selection/search","./selection/eventRelay","./utils","./translation","./diacritics","./data/select","./data/array","./data/ajax","./data/tags","./data/tokenizer","./data/minimumInputLength","./data/maximumInputLength","./data/maximumSelectionLength","./dropdown","./dropdown/search","./dropdown/hidePlaceholder","./dropdown/infiniteScroll","./dropdown/attachBody","./dropdown/minimumResultsForSearch","./dropdown/selectOnClose","./dropdown/closeOnSelect","./i18n/en"],function(n,t,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et){function ot(){this.reset()}ot.prototype.apply=function(c){var ht,ct,lt,at,vt,l,ot,st;for(c=n.extend(!0,{},this.defaults,c),c.dataAdapter==null&&(c.dataAdapter=c.ajax!=null?y:c.data!=null?v:a,c.minimumInputLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,b)),c.maximumInputLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,k)),c.maximumSelectionLength>0&&(c.dataAdapter=h.Decorate(c.dataAdapter,d)),c.tags&&(c.dataAdapter=h.Decorate(c.dataAdapter,p)),(c.tokenSeparators!=null||c.tokenizer!=null)&&(c.dataAdapter=h.Decorate(c.dataAdapter,w)),c.query!=null&&(ht=t(c.amdBase+"compat/query"),c.dataAdapter=h.Decorate(c.dataAdapter,ht)),c.initSelection!=null&&(ct=t(c.amdBase+"compat/initSelection"),c.dataAdapter=h.Decorate(c.dataAdapter,ct))),c.resultsAdapter==null&&(c.resultsAdapter=i,c.ajax!=null&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,it)),c.placeholder!=null&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,tt)),c.selectOnClose&&(c.resultsAdapter=h.Decorate(c.resultsAdapter,ft))),c.dropdownAdapter==null&&(c.multiple?c.dropdownAdapter=g:(lt=h.Decorate(g,nt),c.dropdownAdapter=lt),c.minimumResultsForSearch!==0&&(c.dropdownAdapter=h.Decorate(c.dropdownAdapter,ut)),c.closeOnSelect&&(c.dropdownAdapter=h.Decorate(c.dropdownAdapter,et)),(c.dropdownCssClass!=null||c.dropdownCss!=null||c.adaptDropdownCssClass!=null)&&(at=t(c.amdBase+"compat/dropdownCss"),c.dropdownAdapter=h.Decorate(c.dropdownAdapter,at)),c.dropdownAdapter=h.Decorate(c.dropdownAdapter,rt)),c.selectionAdapter==null&&(c.selectionAdapter=c.multiple?u:r,c.placeholder!=null&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,f)),c.allowClear&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,e)),c.multiple&&(c.selectionAdapter=h.Decorate(c.selectionAdapter,o)),(c.containerCssClass!=null||c.containerCss!=null||c.adaptContainerCssClass!=null)&&(vt=t(c.amdBase+"compat/containerCss"),c.selectionAdapter=h.Decorate(c.selectionAdapter,vt)),c.selectionAdapter=h.Decorate(c.selectionAdapter,s)),c.language=this._resolveLanguage(c.language),c.language.push("en"),l=[],ot=0;ot<c.language.length;ot++)st=c.language[ot],l.indexOf(st)===-1&&l.push(st);return c.language=l,c.translations=this._processTranslations(c.language,c.debug),c};ot.prototype.reset=function(){function i(n){function t(n){return l[n]||n}return n.replace(/[^\u0000-\u007E]/g,t)}function t(r,u){var f,e,o,s,h,c;if(n.trim(r.term)==="")return u;if(u.children&&u.children.length>0){for(f=n.extend(!0,{},u),e=u.children.length-1;e>=0;e--)o=u.children[e],s=t(r,o),s==null&&f.children.splice(e,1);return f.children.length>0?f:t(r,f)}return(h=i(u.text).toUpperCase(),c=i(r.term).toUpperCase(),h.indexOf(c)>-1)?u:null}this.defaults={amdBase:"./",amdLanguageBase:"./i18n/",closeOnSelect:!0,debug:!1,dropdownAutoWidth:!1,escapeMarkup:h.escapeMarkup,language:{},matcher:t,minimumInputLength:0,maximumInputLength:0,maximumSelectionLength:0,minimumResultsForSearch:0,selectOnClose:!1,scrollAfterSelect:!1,sorter:function(n){return n},templateResult:function(n){return n.text},templateSelection:function(n){return n.text},theme:"default",width:"resolve"}};ot.prototype.applyFromElement=function(n,t){var i=n.language,r=this.defaults.language,u=t.prop("lang"),f=t.closest("[lang]").prop("lang"),e=Array.prototype.concat.call(this._resolveLanguage(u),this._resolveLanguage(i),this._resolveLanguage(r),this._resolveLanguage(f));return n.language=e,n};ot.prototype._resolveLanguage=function(t){var r,u,i,f,e;if(!t)return[];if(n.isEmptyObject(t))return[];if(n.isPlainObject(t))return[t];for(r=n.isArray(t)?t:[t],u=[],i=0;i<r.length;i++)u.push(r[i]),typeof r[i]=="string"&&r[i].indexOf("-")>0&&(f=r[i].split("-"),e=f[0],u.push(e));return u};ot.prototype._processTranslations=function(t,i){for(var u,r,e=new c,f=0;f<t.length;f++){if(u=new c,r=t[f],typeof r=="string")try{u=c.loadPath(r)}catch(o){try{r=this.defaults.amdLanguageBase+r;u=c.loadPath(r)}catch(s){i&&window.console&&console.warn&&console.warn('Select2: The language file for "'+r+'" could not be automatically loaded. A fallback will be used instead.')}}else u=n.isPlainObject(r)?new c(r):r;e.extend(u)}return e};ot.prototype.set=function(t,i){var f=n.camelCase(t),r={},u;r[f]=i;u=h._convertData(r);n.extend(!0,this.defaults,u)};return new ot}),t.define("select2/options",["require","jquery","./defaults","./utils"],function(n,t,i,r){function u(t,u){if(this.options=t,u!=null&&this.fromElement(u),u!=null&&(this.options=i.applyFromElement(this.options,u)),this.options=i.apply(this.options),u&&u.is("input")){var f=n(this.get("amdBase")+"compat/inputData");this.options.dataAdapter=r.Decorate(this.options.dataAdapter,f)}}return u.prototype.fromElement=function(n){function l(n,t){return t.toUpperCase()}var c=["select2"],f,e,s,o,u,i;for(this.options.multiple==null&&(this.options.multiple=n.prop("multiple")),this.options.disabled==null&&(this.options.disabled=n.prop("disabled")),this.options.dir==null&&(this.options.dir=n.prop("dir")?n.prop("dir"):n.closest("[dir]").prop("dir")?n.closest("[dir]").prop("dir"):"ltr"),n.prop("disabled",this.options.disabled),n.prop("multiple",this.options.multiple),r.GetData(n[0],"select2Tags")&&(this.options.debug&&window.console&&console.warn&&console.warn('Select2: The `data-select2-tags` attribute has been changed to use the `data-data` and `data-tags="true"` attributes and will be removed in future versions of Select2.'),r.StoreData(n[0],"data",r.GetData(n[0],"select2Tags")),r.StoreData(n[0],"tags",!0)),r.GetData(n[0],"ajaxUrl")&&(this.options.debug&&window.console&&console.warn&&console.warn("Select2: The `data-ajax-url` attribute has been changed to `data-ajax--url` and support for the old attribute will be removed in future versions of Select2."),n.attr("ajax--url",r.GetData(n[0],"ajaxUrl")),r.StoreData(n[0],"ajax-Url",r.GetData(n[0],"ajaxUrl"))),f={},e=0;e<n[0].attributes.length;e++)if(s=n[0].attributes[e].name,o="data-",s.substr(0,o.length)==o){var h=s.substring(o.length),a=r.GetData(n[0],h),v=h.replace(/-([a-z])/g,l);f[v]=a}t.fn.jquery&&t.fn.jquery.substr(0,2)=="1."&&n[0].dataset&&(f=t.extend(!0,{},n[0].dataset,f));u=t.extend(!0,{},r.GetData(n[0]),f);u=r._convertData(u);for(i in u)t.inArray(i,c)>-1||(t.isPlainObject(this.options[i])?t.extend(this.options[i],u[i]):this.options[i]=u[i]);return this},u.prototype.get=function(n){return this.options[n]},u.prototype.set=function(n,t){this.options[n]=t},u}),t.define("select2/core",["jquery","./options","./utils","./keys"],function(n,t,i,r){var u=function(n,r){var e,o,f,s,h,c,l;i.GetData(n[0],"select2")!=null&&i.GetData(n[0],"select2").destroy();this.$element=n;this.id=this._generateId(n);r=r||{};this.options=new t(r,n);u.__super__.constructor.call(this);e=n.attr("tabindex")||0;i.StoreData(n[0],"old-tabindex",e);n.attr("tabindex","-1");o=this.options.get("dataAdapter");this.dataAdapter=new o(n,this.options);f=this.render();this._placeContainer(f);s=this.options.get("selectionAdapter");this.selection=new s(n,this.options);this.$selection=this.selection.render();this.selection.position(this.$selection,f);h=this.options.get("dropdownAdapter");this.dropdown=new h(n,this.options);this.$dropdown=this.dropdown.render();this.dropdown.position(this.$dropdown,f);c=this.options.get("resultsAdapter");this.results=new c(n,this.options,this.dataAdapter);this.$results=this.results.render();this.results.position(this.$results,this.$dropdown);l=this;this._bindAdapters();this._registerDomEvents();this._registerDataEvents();this._registerSelectionEvents();this._registerDropdownEvents();this._registerResultsEvents();this._registerEvents();this.dataAdapter.current(function(n){l.trigger("selection:update",{data:n})});n.addClass("select2-hidden-accessible");n.attr("aria-hidden","true");this._syncAttributes();i.StoreData(n[0],"select2",this);n.data("select2",this)};return i.Extend(u,i.Observable),u.prototype._generateId=function(n){var t="";return t=n.attr("id")!=null?n.attr("id"):n.attr("name")!=null?n.attr("name")+"-"+i.generateChars(2):i.generateChars(4),t=t.replace(/(:|\.|\[|\]|,)/g,""),"select2-"+t},u.prototype._placeContainer=function(n){n.insertAfter(this.$element);var t=this._resolveWidth(this.$element,this.options.get("width"));t!=null&&n.css("width",t)},u.prototype._resolveWidth=function(n,t){var u,f,e,o,i,s,h,r,c;if(t=="resolve")return(u=this._resolveWidth(n,"style"),u!=null)?u:this._resolveWidth(n,"element");if(t=="element")return(f=n.outerWidth(!1),f<=0)?"auto":f+"px";if(t=="style"){if(e=n.attr("style"),typeof e!="string")return null;for(o=e.split(";"),i=0,s=o.length;i<s;i=i+1)if(h=o[i].replace(/\s/g,""),r=h.match(/^width:(([-+]?([0-9]*\.)?[0-9]+)(px|em|ex|%|in|cm|mm|pt|pc))/i),r!==null&&r.length>=1)return r[1];return null}return t=="computedstyle"?(c=window.getComputedStyle(n[0]),c.width):t},u.prototype._bindAdapters=function(){this.dataAdapter.bind(this,this.$container);this.selection.bind(this,this.$container);this.dropdown.bind(this,this.$container);this.results.bind(this,this.$container)},u.prototype._registerDomEvents=function(){var n=this,t;this.$element.on("change.select2",function(){n.dataAdapter.current(function(t){n.trigger("selection:update",{data:t})})});this.$element.on("focus.select2",function(t){n.trigger("focus",t)});this._syncA=i.bind(this._syncAttributes,this);this._syncS=i.bind(this._syncSubtree,this);this.$element[0].attachEvent&&this.$element[0].attachEvent("onpropertychange",this._syncA);t=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver;t!=null?(this._observer=new t(function(t){n._syncA();n._syncS(null,t)}),this._observer.observe(this.$element[0],{attributes:!0,childList:!0,subtree:!1})):this.$element[0].addEventListener&&(this.$element[0].addEventListener("DOMAttrModified",n._syncA,!1),this.$element[0].addEventListener("DOMNodeInserted",n._syncS,!1),this.$element[0].addEventListener("DOMNodeRemoved",n._syncS,!1))},u.prototype._registerDataEvents=function(){var n=this;this.dataAdapter.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerSelectionEvents=function(){var t=this,i=["toggle","focus"];this.selection.on("toggle",function(){t.toggleDropdown()});this.selection.on("focus",function(n){t.focus(n)});this.selection.on("*",function(r,u){n.inArray(r,i)===-1&&t.trigger(r,u)})},u.prototype._registerDropdownEvents=function(){var n=this;this.dropdown.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerResultsEvents=function(){var n=this;this.results.on("*",function(t,i){n.trigger(t,i)})},u.prototype._registerEvents=function(){var n=this;this.on("open",function(){n.$container.addClass("select2-container--open")});this.on("close",function(){n.$container.removeClass("select2-container--open")});this.on("enable",function(){n.$container.removeClass("select2-container--disabled")});this.on("disable",function(){n.$container.addClass("select2-container--disabled")});this.on("blur",function(){n.$container.removeClass("select2-container--focus")});this.on("query",function(t){n.isOpen()||n.trigger("open",{});this.dataAdapter.query(t,function(i){n.trigger("results:all",{data:i,query:t})})});this.on("query:append",function(t){this.dataAdapter.query(t,function(i){n.trigger("results:append",{data:i,query:t})})});this.on("keypress",function(t){var i=t.which;n.isOpen()?i===r.ESC||i===r.TAB||i===r.UP&&t.altKey?(n.close(t),t.preventDefault()):i===r.ENTER?(n.trigger("results:select",{}),t.preventDefault()):i===r.SPACE&&t.ctrlKey?(n.trigger("results:toggle",{}),t.preventDefault()):i===r.UP?(n.trigger("results:previous",{}),t.preventDefault()):i===r.DOWN&&(n.trigger("results:next",{}),t.preventDefault()):(i===r.ENTER||i===r.SPACE||i===r.DOWN&&t.altKey)&&(n.open(),t.preventDefault())})},u.prototype._syncAttributes=function(){this.options.set("disabled",this.$element.prop("disabled"));this.isDisabled()?(this.isOpen()&&this.close(),this.trigger("disable",{})):this.trigger("enable",{})},u.prototype._isChangeMutation=function(t,i){var r=!1,e=this,u,f;if(!t||!t.target||t.target.nodeName==="OPTION"||t.target.nodeName==="OPTGROUP"){if(i)if(i.addedNodes&&i.addedNodes.length>0)for(u=0;u<i.addedNodes.length;u++)f=i.addedNodes[u],f.selected&&(r=!0);else i.removedNodes&&i.removedNodes.length>0?r=!0:n.isArray(i)&&n.each(i,function(n,t){if(e._isChangeMutation(n,t))return r=!0,!1});else r=!0;return r}},u.prototype._syncSubtree=function(n,t){var i=this._isChangeMutation(n,t),r=this;i&&this.dataAdapter.current(function(n){r.trigger("selection:update",{data:n})})},u.prototype.trigger=function(n,t){var r=u.__super__.trigger,f={open:"opening",close:"closing",select:"selecting",unselect:"unselecting",clear:"clearing"},e,i;if(t===undefined&&(t={}),n in f&&(e=f[n],i={prevented:!1,name:n,args:t},r.call(this,e,i),i.prevented)){t.prevented=!0;return}r.call(this,n,t)},u.prototype.toggleDropdown=function(){this.isDisabled()||(this.isOpen()?this.close():this.open())},u.prototype.open=function(){this.isOpen()||this.isDisabled()||this.trigger("query",{})},u.prototype.close=function(n){this.isOpen()&&this.trigger("close",{originalEvent:n})},u.prototype.isEnabled=function(){return!this.isDisabled()},u.prototype.isDisabled=function(){return this.options.get("disabled")},u.prototype.isOpen=function(){return this.$container.hasClass("select2-container--open")},u.prototype.hasFocus=function(){return this.$container.hasClass("select2-container--focus")},u.prototype.focus=function(){this.hasFocus()||(this.$container.addClass("select2-container--focus"),this.trigger("focus",{}))},u.prototype.enable=function(n){this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("enable")` method has been deprecated and will be removed in later Select2 versions. Use $element.prop("disabled") instead.');(n==null||n.length===0)&&(n=[!0]);var t=!n[0];this.$element.prop("disabled",t)},u.prototype.data=function(){this.options.get("debug")&&arguments.length>0&&window.console&&console.warn&&console.warn('Select2: Data can no longer be set using `select2("data")`. You should consider setting the value instead using `$element.val()`.');var n=[];return this.dataAdapter.current(function(t){n=t}),n},u.prototype.val=function(t){if(this.options.get("debug")&&window.console&&console.warn&&console.warn('Select2: The `select2("val")` method has been deprecated and will be removed in later Select2 versions. Use $element.val() instead.'),t==null||t.length===0)return this.$element.val();var i=t[0];n.isArray(i)&&(i=n.map(i,function(n){return n.toString()}));this.$element.val(i).trigger("input").trigger("change")},u.prototype.destroy=function(){this.$container.remove();this.$element[0].detachEvent&&this.$element[0].detachEvent("onpropertychange",this._syncA);this._observer!=null?(this._observer.disconnect(),this._observer=null):this.$element[0].removeEventListener&&(this.$element[0].removeEventListener("DOMAttrModified",this._syncA,!1),this.$element[0].removeEventListener("DOMNodeInserted",this._syncS,!1),this.$element[0].removeEventListener("DOMNodeRemoved",this._syncS,!1));this._syncA=null;this._syncS=null;this.$element.off(".select2");this.$element.attr("tabindex",i.GetData(this.$element[0],"old-tabindex"));this.$element.removeClass("select2-hidden-accessible");this.$element.attr("aria-hidden","false");i.RemoveData(this.$element[0]);this.$element.removeData("select2");this.dataAdapter.destroy();this.selection.destroy();this.dropdown.destroy();this.results.destroy();this.dataAdapter=null;this.selection=null;this.dropdown=null;this.results=null},u.prototype.render=function(){var t=n('<span class="select2 select2-container"><span class="selection"><\/span><span class="dropdown-wrapper" aria-hidden="true"><\/span><\/span>');return t.attr("dir",this.options.get("dir")),this.$container=t,this.$container.addClass("select2-container--"+this.options.get("theme")),i.StoreData(t[0],"element",this.$element),t},u}),t.define("jquery-mousewheel",["jquery"],function(n){return n}),t.define("jquery.select2",["jquery","jquery-mousewheel","./select2/core","./select2/defaults","./select2/utils"],function(n,t,i,r,u){if(n.fn.select2==null){var f=["open","close","destroy"];n.fn.select2=function(t){if(t=t||{},typeof t=="object")return this.each(function(){var r=n.extend(!0,{},t),u=new i(n(this),r)}),this;if(typeof t=="string"){var r,e=Array.prototype.slice.call(arguments,1);return(this.each(function(){var n=u.GetData(this,"select2");n==null&&window.console&&console.error&&console.error("The select2('"+t+"') method was called on an element that is not using Select2.");r=n[t].apply(n,e)}),n.inArray(t,f)>-1)?this:r}throw new Error("Invalid arguments for Select2: "+t);}}return n.fn.select2.defaults==null&&(n.fn.select2.defaults=r),i}),{define:t.define,require:t.require}}(),i=t.require("jquery.select2");return n.fn.select2.amd=t,i});
/*!
  * Bootstrap v4.6.1 (https://getbootstrap.com/)
  * Copyright 2011-2021 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */
!function(n,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("jquery")):"function"==typeof define&&define.amd?define(["exports","jquery"],t):t((n="undefined"!=typeof globalThis?globalThis:n||self).bootstrap={},n.jQuery)}(this,function(n,t){"use strict";function be(n){return n&&"object"==typeof n&&"default"in n?n:{"default":n}}function eu(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}function e(n,t,i){return t&&eu(n.prototype,t),i&&eu(n,i),n}function u(){return u=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n},u.apply(this,arguments)}function di(n,t){return di=Object.setPrototypeOf||function(n,t){return n.__proto__=t,n},di(n,t)}function vu(n){return n&&"[object Function]"==={}.toString.call(n)}function l(n,t){if(1!==n.nodeType)return[];var i=n.ownerDocument.defaultView.getComputedStyle(n,null);return t?i[t]:i}function er(n){return"HTML"===n.nodeName?n:n.parentNode||n.host}function ct(n){if(!n)return document.body;switch(n.nodeName){case"HTML":case"BODY":return n.ownerDocument.body;case"#document":return n.body}var t=l(n),i=t.overflow,r=t.overflowX,u=t.overflowY;return/(auto|scroll|overlay)/.test(i+u+r)?n:ct(er(n))}function yu(n){return n&&n.referenceNode?n.referenceNode:n}function nt(n){return 11===n?or:10===n?sr:or||sr}function tt(n){var r,t,i;if(!n)return document.documentElement;for(r=nt(10)?document.body:null,t=n.offsetParent||null;t===r&&n.nextElementSibling;)t=(n=n.nextElementSibling).offsetParent;return i=t&&t.nodeName,i&&"BODY"!==i&&"HTML"!==i?-1!==["TH","TD","TABLE"].indexOf(t.nodeName)&&"static"===l(t,"position")?tt(t):t:n?n.ownerDocument.documentElement:document.documentElement}function hr(n){return null!==n.parentNode?hr(n.parentNode):n}function ui(n,t){var u,h,i,f;if(!(n&&n.nodeType&&t&&t.nodeType))return document.documentElement;var e=n.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_FOLLOWING,o=e?n:t,s=e?t:n,r=document.createRange();return(r.setStart(o,0),r.setEnd(s,0),i=r.commonAncestorContainer,n!==i&&t!==i||o.contains(s))?"BODY"===(h=(u=i).nodeName)||"HTML"!==h&&tt(u.firstElementChild)!==u?tt(i):i:(f=hr(n),f.host?ui(f.host,t):ui(n,hr(t).host))}function it(n){var f=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"top",t="top"===f?"scrollTop":"scrollLeft",i=n.nodeName,r,u;return"BODY"===i||"HTML"===i?(r=n.ownerDocument.documentElement,u=n.ownerDocument.scrollingElement||r,u[t]):n[t]}function fo(n,t){var f=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=it(t,"top"),u=it(t,"left"),i=f?-1:1;return n.top+=r*i,n.bottom+=r*i,n.left+=u*i,n.right+=u*i,n}function pu(n,t){var i="x"===t?"Left":"Top",r="Left"===i?"Right":"Bottom";return parseFloat(n["border"+i+"Width"])+parseFloat(n["border"+r+"Width"])}function wu(n,t,i,r){return Math.max(t["offset"+n],t["scroll"+n],i["client"+n],i["offset"+n],i["scroll"+n],nt(10)?parseInt(i["offset"+n])+parseInt(r["margin"+("Height"===n?"Top":"Left")])+parseInt(r["margin"+("Height"===n?"Bottom":"Right")]):0)}function bu(n){var i=n.body,t=n.documentElement,r=nt(10)&&getComputedStyle(t);return{height:wu("Height",i,t,r),width:wu("Width",i,t,r)}}function h(n){return f({},n,{right:n.left+n.width,bottom:n.top+n.height})}function cr(n){var t={},r,u,o;try{nt(10)?(t=n.getBoundingClientRect(),r=it(n,"top"),u=it(n,"left"),t.top+=r,t.left+=u,t.bottom+=r,t.right+=u):t=n.getBoundingClientRect()}catch(n){}var i={left:t.left,top:t.top,width:t.right-t.left,height:t.bottom-t.top},s="HTML"===n.nodeName?bu(n.ownerDocument):{},c=s.width||n.clientWidth||i.width,a=s.height||n.clientHeight||i.height,f=n.offsetWidth-c,e=n.offsetHeight-a;return(f||e)&&(o=l(n),f-=pu(o,"x"),e-=pu(o,"y"),i.width-=f,i.height-=e),h(i)}function lr(n,t){var v=arguments.length>2&&void 0!==arguments[2]&&arguments[2],y=nt(10),p="HTML"===t.nodeName,u=cr(n),r=cr(t),s=ct(n),f=l(t),c=parseFloat(f.borderTopWidth),a=parseFloat(f.borderLeftWidth),i,e,o;return v&&p&&(r.top=Math.max(r.top,0),r.left=Math.max(r.left,0)),i=h({top:u.top-r.top-c,left:u.left-r.left-a,width:u.width,height:u.height}),(i.marginTop=0,i.marginLeft=0,!y&&p)&&(e=parseFloat(f.marginTop),o=parseFloat(f.marginLeft),i.top-=c-e,i.bottom-=c-e,i.left-=a-o,i.right-=a-o,i.marginTop=e,i.marginLeft=o),(y&&!v?t.contains(s):t===s&&"BODY"!==s.nodeName)&&(i=fo(i,t)),i}function so(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=n.ownerDocument.documentElement,i=lr(n,t),u=Math.max(t.clientWidth,window.innerWidth||0),f=Math.max(t.clientHeight,window.innerHeight||0),e=r?0:it(t),o=r?0:it(t,"left"),s={top:e-i.top+i.marginTop,left:o-i.left+i.marginLeft,width:u,height:f};return h(s)}function ku(n){var i=n.nodeName,t;return"BODY"===i||"HTML"===i?!1:"fixed"===l(n,"position")?!0:(t=er(n),!!t&&ku(t))}function du(n){if(!n||!n.parentElement||nt())return document.documentElement;for(var t=n.parentElement;t&&"none"===l(t,"transform");)t=t.parentElement;return t||document.documentElement}function ar(n,t,i,r){var s=arguments.length>4&&void 0!==arguments[4]&&arguments[4],u={top:0,left:0},h=s?du(n):ui(n,yu(t)),e,f,o;if("viewport"===r)u=so(h,s);else if(e=void 0,"scrollParent"===r?"BODY"===(e=ct(er(t))).nodeName&&(e=n.ownerDocument.documentElement):e="window"===r?n.ownerDocument.documentElement:r,f=lr(e,h,s),"HTML"!==e.nodeName||ku(h))u=f;else{var c=bu(n.ownerDocument),l=c.height,a=c.width;u.top+=f.top-f.marginTop;u.bottom=l+f.top;u.left+=f.left-f.marginLeft;u.right=a+f.left}return o="number"==typeof(i=i||0),u.left+=o?i:i.left||0,u.top+=o?i:i.top||0,u.right-=o?i:i.right||0,u.bottom-=o?i:i.bottom||0,u}function ho(n){return n.width*n.height}function gu(n,t,i,r,u){var l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;if(-1===n.indexOf("auto"))return n;var e=ar(i,r,l,u),o={top:{width:e.width,height:t.top-e.top},right:{width:e.right-t.right,height:e.height},bottom:{width:e.width,height:e.bottom-t.bottom},left:{width:t.left-e.left,height:e.height}},s=Object.keys(o).map(function(n){return f({key:n},o[n],{area:ho(o[n])})}).sort(function(n,t){return t.area-n.area}),h=s.filter(function(n){var t=n.width,r=n.height;return t>=i.clientWidth&&r>=i.clientHeight}),a=h.length>0?h[0].key:s[0].key,c=n.split("-")[1];return a+(c?"-"+c:"")}function nf(n,t,i){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,u=r?du(t):ui(t,yu(i));return lr(i,u,r)}function tf(n){var t=n.ownerDocument.defaultView.getComputedStyle(n),i=parseFloat(t.marginTop||0)+parseFloat(t.marginBottom||0),r=parseFloat(t.marginLeft||0)+parseFloat(t.marginRight||0);return{width:n.offsetWidth+r,height:n.offsetHeight+i}}function fi(n){var t={left:"right",right:"left",bottom:"top",top:"bottom"};return n.replace(/left|right|bottom|top/g,function(n){return t[n]})}function rf(n,t,i){i=i.split("-")[0];var r=tf(n),e={width:r.width,height:r.height},u=-1!==["right","left"].indexOf(i),o=u?"top":"left",f=u?"left":"top",s=u?"height":"width",h=u?"width":"height";return e[o]=t[o]+t[s]/2-r[s]/2,e[f]=i===f?t[f]-r[h]:t[fi(f)],e}function lt(n,t){return Array.prototype.find?n.find(t):n.filter(t)[0]}function uf(n,t,i){return(void 0===i?n:n.slice(0,function(n,t,i){if(Array.prototype.findIndex)return n.findIndex(function(n){return n.name===i});var r=lt(n,function(n){return n.name===i});return n.indexOf(r)}(n,0,i))).forEach(function(n){n.function&&console.warn("`modifier.function` is deprecated, use `modifier.fn`!");var i=n.function||n.fn;n.enabled&&vu(i)&&(t.offsets.popper=h(t.offsets.popper),t.offsets.reference=h(t.offsets.reference),t=i(t,n))}),t}function co(){if(!this.state.isDestroyed){var n={instance:this,styles:{},arrowStyles:{},attributes:{},flipped:!1,offsets:{}};n.offsets.reference=nf(this.state,this.popper,this.reference,this.options.positionFixed);n.placement=gu(this.options.placement,n.offsets.reference,this.popper,this.reference,this.options.modifiers.flip.boundariesElement,this.options.modifiers.flip.padding);n.originalPlacement=n.placement;n.positionFixed=this.options.positionFixed;n.offsets.popper=rf(this.popper,n.offsets.reference,n.placement);n.offsets.popper.position=this.options.positionFixed?"fixed":"absolute";n=uf(this.modifiers,n);this.state.isCreated?this.options.onUpdate(n):(this.state.isCreated=!0,this.options.onCreate(n))}}function ff(n,t){return n.some(function(n){var i=n.name;return n.enabled&&i===t})}function vr(n){for(var i,r,u=[!1,"ms","Webkit","Moz","O"],f=n.charAt(0).toUpperCase()+n.slice(1),t=0;t<u.length;t++)if(i=u[t],r=i?""+i+f:n,"undefined"!=typeof document.body.style[r])return r;return null}function lo(){return this.state.isDestroyed=!0,ff(this.modifiers,"applyStyle")&&(this.popper.removeAttribute("x-placement"),this.popper.style.position="",this.popper.style.top="",this.popper.style.left="",this.popper.style.right="",this.popper.style.bottom="",this.popper.style.willChange="",this.popper.style[vr("transform")]=""),this.disableEventListeners(),this.options.removeOnDestroy&&this.popper.parentNode.removeChild(this.popper),this}function ef(n){var t=n.ownerDocument;return t?t.defaultView:window}function of(n,t,i,r){var f="BODY"===n.nodeName,u=f?n.ownerDocument.defaultView:n;u.addEventListener(t,i,{passive:!0});f||of(ct(u.parentNode),t,i,r);r.push(u)}function ao(n,t,i,r){i.updateBound=r;ef(n).addEventListener("resize",i.updateBound,{passive:!0});var u=ct(n);return of(u,"scroll",i.updateBound,i.scrollParents),i.scrollElement=u,i.eventsEnabled=!0,i}function vo(){this.state.eventsEnabled||(this.state=ao(this.reference,this.options,this.state,this.scheduleUpdate))}function yo(){var t,n;this.state.eventsEnabled&&(cancelAnimationFrame(this.scheduleUpdate),this.state=(t=this.reference,n=this.state,ef(t).removeEventListener("resize",n.updateBound),n.scrollParents.forEach(function(t){t.removeEventListener("scroll",n.updateBound)}),n.updateBound=null,n.scrollParents=[],n.scrollElement=null,n.eventsEnabled=!1,n))}function yr(n){return""!==n&&!isNaN(parseFloat(n))&&isFinite(n)}function pr(n,t){Object.keys(t).forEach(function(i){var r="";-1!==["width","height","top","right","bottom","left"].indexOf(i)&&yr(t[i])&&(r="px");n.style[i]=t[i]+r})}function hf(n,t,i){var u=lt(n,function(n){return n.name===t}),f=!!u&&n.some(function(n){return n.name===i&&n.enabled&&n.order<u.order}),r,e;return f||(r="`"+t+"`",e="`"+i+"`",console.warn(e+" modifier is required by "+r+" modifier in order to work, be sure to include it before "+r+"!")),f}function cf(n){var r=arguments.length>1&&void 0!==arguments[1]&&arguments[1],t=ei.indexOf(n),i=ei.slice(t+1).concat(ei.slice(0,t));return r?i.reverse():i}function re(n,t,i){if(0===n.length)return n;if(i&&"function"==typeof i)return i(n);for(var u=(new window.DOMParser).parseFromString(n,"text/html"),e=Object.keys(t),f=[].slice.call(u.body.querySelectorAll("*")),o=function(n){var i=f[n],o=i.nodeName.toLowerCase(),r,u;if(-1===e.indexOf(i.nodeName.toLowerCase()))return i.parentNode.removeChild(i),"continue";r=[].slice.call(i.attributes);u=[].concat(t["*"]||[],t[o]||[]);r.forEach(function(n){(function(n,t){var i=n.nodeName.toLowerCase();if(-1!==t.indexOf(i))return-1===ts.indexOf(i)||Boolean(is.test(n.nodeValue)||rs.test(n.nodeValue));for(var u=t.filter(function(n){return n instanceof RegExp}),r=0,f=u.length;r<f;r++)if(u[r].test(i))return!0;return!1})(n,u)||i.removeAttribute(n.nodeName)})},r=0,s=f.length;r<s;r++)o(r);return u.body.innerHTML}var i=be(t),dt="transitionend",r={TRANSITION_END:"bsTransitionEnd",getUID:function(n){do n+=~~(1e6*Math.random());while(document.getElementById(n));return n},getSelectorFromElement:function(n){var t=n.getAttribute("data-target"),i;t&&"#"!==t||(i=n.getAttribute("href"),t=i&&"#"!==i?i.trim():"");try{return document.querySelector(t)?t:null}catch(n){return null}},getTransitionDurationFromElement:function(n){if(!n)return 0;var t=i.default(n).css("transition-duration"),r=i.default(n).css("transition-delay"),u=parseFloat(t),f=parseFloat(r);return u||f?(t=t.split(",")[0],r=r.split(",")[0],1e3*(parseFloat(t)+parseFloat(r))):0},reflow:function(n){return n.offsetHeight},triggerTransitionEnd:function(n){i.default(n).trigger(dt)},supportsTransitionEnd:function(){return Boolean(dt)},isElement:function(n){return(n[0]||n).nodeType},typeCheckConfig:function(n,t,i){var u,f;for(u in i)if(Object.prototype.hasOwnProperty.call(i,u)){var o=i[u],e=t[u],s=e&&r.isElement(e)?"element":null===(f=e)||"undefined"==typeof f?""+f:{}.toString.call(f).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(o).test(s))throw new Error(n.toUpperCase()+': Option "'+u+'" provided type "'+s+'" but expected type "'+o+'".');}},findShadowRoot:function(n){if(!document.documentElement.attachShadow)return null;if("function"==typeof n.getRootNode){var t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?r.findShadowRoot(n.parentNode):null},jQueryDetection:function(){if("undefined"==typeof i.default)throw new TypeError("Bootstrap's JavaScript requires jQuery. jQuery must be included before Bootstrap's JavaScript.");var n=i.default.fn.jquery.split(" ")[0].split(".");if(n[0]<2&&n[1]<9||1===n[0]&&9===n[1]&&n[2]<1||n[0]>=4)throw new Error("Bootstrap's JavaScript requires at least jQuery v1.9.1 but less than v4.0.0");}},or,sr,sf,wr,ei,lf,at;r.jQueryDetection();i.default.fn.emulateTransitionEnd=function(n){var u=this,t=!1;return i.default(this).one(r.TRANSITION_END,function(){t=!0}),setTimeout(function(){t||r.triggerTransitionEnd(u)},n),this};i.default.event.special[r.TRANSITION_END]={bindType:dt,delegateType:dt,handle:function(n){if(i.default(n.target).is(this))return n.handleObj.handler.apply(this,arguments)}};var gi="bs.alert",ke=i.default.fn.alert,p=function(){function n(n){this._element=n}var t=n.prototype;return t.close=function(n){var t=this._element;n&&(t=this._getRootElement(n));this._triggerCloseEvent(t).isDefaultPrevented()||this._removeElement(t)},t.dispose=function(){i.default.removeData(this._element,gi);this._element=null},t._getRootElement=function(n){var u=r.getSelectorFromElement(n),t=!1;return u&&(t=document.querySelector(u)),t||(t=i.default(n).closest(".alert")[0]),t},t._triggerCloseEvent=function(n){var t=i.default.Event("close.bs.alert");return i.default(n).trigger(t),t},t._removeElement=function(n){var u=this,t;(i.default(n).removeClass("show"),i.default(n).hasClass("fade"))?(t=r.getTransitionDurationFromElement(n),i.default(n).one(r.TRANSITION_END,function(t){return u._destroyElement(n,t)}).emulateTransitionEnd(t)):this._destroyElement(n)},t._destroyElement=function(n){i.default(n).detach().trigger("closed.bs.alert").remove()},n._jQueryInterface=function(t){return this.each(function(){var u=i.default(this),r=u.data(gi);r||(r=new n(this),u.data(gi,r));"close"===t&&r[t](this)})},n._handleDismiss=function(n){return function(t){t&&t.preventDefault();n.close(this)}},e(n,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),n}();i.default(document).on("click.bs.alert.data-api",'[data-dismiss="alert"]',p._handleDismiss(new p));i.default.fn.alert=p._jQueryInterface;i.default.fn.alert.Constructor=p;i.default.fn.alert.noConflict=function(){return i.default.fn.alert=ke,p._jQueryInterface};var nr="bs.button",de=i.default.fn.button,s="active",ou='[data-toggle^="button"]',tr='input:not([type="hidden"])',su=".btn",et=function(){function n(n){this._element=n;this.shouldAvoidTriggerChange=!1}var t=n.prototype;return t.toggle=function(){var t=!0,u=!0,f=i.default(this._element).closest('[data-toggle="buttons"]')[0],n,r;f&&(n=this._element.querySelector(tr),n&&("radio"===n.type&&(n.checked&&this._element.classList.contains(s)?t=!1:(r=f.querySelector(".active"),r&&i.default(r).removeClass(s))),t&&("checkbox"!==n.type&&"radio"!==n.type||(n.checked=!this._element.classList.contains(s)),this.shouldAvoidTriggerChange||i.default(n).trigger("change")),n.focus(),u=!1));this._element.hasAttribute("disabled")||this._element.classList.contains("disabled")||(u&&this._element.setAttribute("aria-pressed",!this._element.classList.contains(s)),t&&i.default(this._element).toggleClass(s))},t.dispose=function(){i.default.removeData(this._element,nr);this._element=null},n._jQueryInterface=function(t,r){return this.each(function(){var f=i.default(this),u=f.data(nr);u||(u=new n(this),f.data(nr,u));u.shouldAvoidTriggerChange=r;"toggle"===t&&u[t]()})},e(n,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),n}();i.default(document).on("click.bs.button.data-api",ou,function(n){var t=n.target,u=t,r;if(i.default(t).hasClass("btn")||(t=i.default(t).closest(su)[0]),!t||t.hasAttribute("disabled")||t.classList.contains("disabled"))n.preventDefault();else{if(r=t.querySelector(tr),r&&(r.hasAttribute("disabled")||r.classList.contains("disabled")))return void n.preventDefault();"INPUT"!==u.tagName&&"LABEL"===t.tagName||et._jQueryInterface.call(i.default(t),"toggle","INPUT"===u.tagName)}}).on("focus.bs.button.data-api blur.bs.button.data-api",ou,function(n){var t=i.default(n.target).closest(su)[0];i.default(t).toggleClass("focus",/^focus(in)?$/.test(n.type))});i.default(window).on("load.bs.button.data-api",function(){for(var t,f,i,e,r,n=[].slice.call(document.querySelectorAll('[data-toggle="buttons"] .btn')),u=0,o=n.length;u<o;u++)t=n[u],f=t.querySelector(tr),f.checked||f.hasAttribute("checked")?t.classList.add(s):t.classList.remove(s);for(i=0,e=(n=[].slice.call(document.querySelectorAll('[data-toggle="button"]'))).length;i<e;i++)r=n[i],"true"===r.getAttribute("aria-pressed")?r.classList.add(s):r.classList.remove(s)});i.default.fn.button=et._jQueryInterface;i.default.fn.button.Constructor=et;i.default.fn.button.noConflict=function(){return i.default.fn.button=de,et._jQueryInterface};var w="carousel",gt="bs.carousel",ge=i.default.fn[w],b="active",ni="next",ti="prev",hu="slid.bs.carousel",ii=".active.carousel-item",ir={interval:5e3,keyboard:!0,slide:!1,pause:"hover",wrap:!0,touch:!0},no={interval:"(number|boolean)",keyboard:"boolean",slide:"(boolean|string)",pause:"(string|boolean)",wrap:"boolean",touch:"boolean"},cu={TOUCH:"touch",PEN:"pen"},k=function(){function t(n,t){this._items=null;this._interval=null;this._activeElement=null;this._isPaused=!1;this._isSliding=!1;this.touchTimeout=null;this.touchStartX=0;this.touchDeltaX=0;this._config=this._getConfig(t);this._element=n;this._indicatorsElement=this._element.querySelector(".carousel-indicators");this._touchSupported="ontouchstart"in document.documentElement||navigator.maxTouchPoints>0;this._pointerEvent=Boolean(window.PointerEvent||window.MSPointerEvent);this._addEventListeners()}var n=t.prototype;return n.next=function(){this._isSliding||this._slide(ni)},n.nextWhenVisible=function(){var n=i.default(this._element);!document.hidden&&n.is(":visible")&&"hidden"!==n.css("visibility")&&this.next()},n.prev=function(){this._isSliding||this._slide(ti)},n.pause=function(n){n||(this._isPaused=!0);this._element.querySelector(".carousel-item-next, .carousel-item-prev")&&(r.triggerTransitionEnd(this._element),this.cycle(!0));clearInterval(this._interval);this._interval=null},n.cycle=function(n){n||(this._isPaused=!1);this._interval&&(clearInterval(this._interval),this._interval=null);this._config.interval&&!this._isPaused&&(this._updateInterval(),this._interval=setInterval((document.visibilityState?this.nextWhenVisible:this.next).bind(this),this._config.interval))},n.to=function(n){var u=this,t,r;if(this._activeElement=this._element.querySelector(ii),t=this._getItemIndex(this._activeElement),!(n>this._items.length-1||n<0))if(this._isSliding)i.default(this._element).one(hu,function(){return u.to(n)});else{if(t===n)return this.pause(),void this.cycle();r=n>t?ni:ti;this._slide(r,this._items[n])}},n.dispose=function(){i.default(this._element).off(".bs.carousel");i.default.removeData(this._element,gt);this._items=null;this._config=null;this._element=null;this._interval=null;this._isPaused=null;this._isSliding=null;this._activeElement=null;this._indicatorsElement=null},n._getConfig=function(n){return n=u({},ir,n),r.typeCheckConfig(w,n,no),n},n._handleSwipe=function(){var t=Math.abs(this.touchDeltaX),n;t<=40||(n=t/this.touchDeltaX,this.touchDeltaX=0,n>0&&this.prev(),n<0&&this.next())},n._addEventListeners=function(){var n=this;this._config.keyboard&&i.default(this._element).on("keydown.bs.carousel",function(t){return n._keydown(t)});"hover"===this._config.pause&&i.default(this._element).on("mouseenter.bs.carousel",function(t){return n.pause(t)}).on("mouseleave.bs.carousel",function(t){return n.cycle(t)});this._config.touch&&this._addTouchEventListeners()},n._addTouchEventListeners=function(){var n=this,t,r;this._touchSupported&&(t=function(t){n._pointerEvent&&cu[t.originalEvent.pointerType.toUpperCase()]?n.touchStartX=t.originalEvent.clientX:n._pointerEvent||(n.touchStartX=t.originalEvent.touches[0].clientX)},r=function(t){n._pointerEvent&&cu[t.originalEvent.pointerType.toUpperCase()]&&(n.touchDeltaX=t.originalEvent.clientX-n.touchStartX);n._handleSwipe();"hover"===n._config.pause&&(n.pause(),n.touchTimeout&&clearTimeout(n.touchTimeout),n.touchTimeout=setTimeout(function(t){return n.cycle(t)},500+n._config.interval))},i.default(this._element.querySelectorAll(".carousel-item img")).on("dragstart.bs.carousel",function(n){return n.preventDefault()}),this._pointerEvent?(i.default(this._element).on("pointerdown.bs.carousel",function(n){return t(n)}),i.default(this._element).on("pointerup.bs.carousel",function(n){return r(n)}),this._element.classList.add("pointer-event")):(i.default(this._element).on("touchstart.bs.carousel",function(n){return t(n)}),i.default(this._element).on("touchmove.bs.carousel",function(t){return function(t){n.touchDeltaX=t.originalEvent.touches&&t.originalEvent.touches.length>1?0:t.originalEvent.touches[0].clientX-n.touchStartX}(t)}),i.default(this._element).on("touchend.bs.carousel",function(n){return r(n)})))},n._keydown=function(n){if(!/input|textarea/i.test(n.target.tagName))switch(n.which){case 37:n.preventDefault();this.prev();break;case 39:n.preventDefault();this.next()}},n._getItemIndex=function(n){return this._items=n&&n.parentNode?[].slice.call(n.parentNode.querySelectorAll(".carousel-item")):[],this._items.indexOf(n)},n._getItemByDirection=function(n,t){var u=n===ni,f=n===ti,i=this._getItemIndex(t),e=this._items.length-1,r;return(f&&0===i||u&&i===e)&&!this._config.wrap?t:(r=(i+(n===ti?-1:1))%this._items.length,-1===r?this._items[this._items.length-1]:this._items[r])},n._triggerSlideEvent=function(n,t){var u=this._getItemIndex(n),f=this._getItemIndex(this._element.querySelector(ii)),r=i.default.Event("slide.bs.carousel",{relatedTarget:n,direction:t,from:f,to:u});return i.default(this._element).trigger(r),r},n._setActiveIndicatorElement=function(n){var r,t;this._indicatorsElement&&(r=[].slice.call(this._indicatorsElement.querySelectorAll(".active")),i.default(r).removeClass(b),t=this._indicatorsElement.children[this._getItemIndex(n)],t&&i.default(t).addClass(b))},n._updateInterval=function(){var t=this._activeElement||this._element.querySelector(ii),n;t&&(n=parseInt(t.getAttribute("data-interval"),10),n?(this._config.defaultInterval=this._config.defaultInterval||this._config.interval,this._config.interval=n):this._config.interval=this._config.defaultInterval||this._config.interval)},n._slide=function(n,t){var e,o,s,c=this,f=this._element.querySelector(ii),v=this._getItemIndex(f),u=t||f&&this._getItemByDirection(n,f),y=this._getItemIndex(u),l=Boolean(this._interval),h,a;(n===ni?(e="carousel-item-left",o="carousel-item-next",s="left"):(e="carousel-item-right",o="carousel-item-prev",s="right"),u&&i.default(u).hasClass(b))?this._isSliding=!1:!this._triggerSlideEvent(u,s).isDefaultPrevented()&&f&&u&&(this._isSliding=!0,l&&this.pause(),this._setActiveIndicatorElement(u),this._activeElement=u,h=i.default.Event(hu,{relatedTarget:u,direction:s,from:v,to:y}),i.default(this._element).hasClass("slide")?(i.default(u).addClass(o),r.reflow(u),i.default(f).addClass(e),i.default(u).addClass(e),a=r.getTransitionDurationFromElement(f),i.default(f).one(r.TRANSITION_END,function(){i.default(u).removeClass(e+" "+o).addClass(b);i.default(f).removeClass("active "+o+" "+e);c._isSliding=!1;setTimeout(function(){return i.default(c._element).trigger(h)},0)}).emulateTransitionEnd(a)):(i.default(f).removeClass(b),i.default(u).addClass(b),this._isSliding=!1,i.default(this._element).trigger(h)),l&&this.cycle())},t._jQueryInterface=function(n){return this.each(function(){var r=i.default(this).data(gt),f=u({},ir,i.default(this).data()),e;if("object"==typeof n&&(f=u({},f,n)),e="string"==typeof n?n:f.slide,r||(r=new t(this,f),i.default(this).data(gt,r)),"number"==typeof n)r.to(n);else if("string"==typeof e){if("undefined"==typeof r[e])throw new TypeError('No method named "'+e+'"');r[e]()}else f.interval&&f.ride&&(r.pause(),r.cycle())})},t._dataApiClickHandler=function(n){var s=r.getSelectorFromElement(this),f,o,e;s&&(f=i.default(s)[0],f&&i.default(f).hasClass("carousel")&&(o=u({},i.default(f).data(),i.default(this).data()),e=this.getAttribute("data-slide-to"),e&&(o.interval=!1),t._jQueryInterface.call(i.default(f),o),e&&i.default(f).data(gt).to(e),n.preventDefault()))},e(t,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return ir}}]),t}();i.default(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",k._dataApiClickHandler);i.default(window).on("load.bs.carousel.data-api",function(){for(var t,r=[].slice.call(document.querySelectorAll('[data-ride="carousel"]')),n=0,u=r.length;n<u;n++)t=i.default(r[n]),k._jQueryInterface.call(t,t.data())});i.default.fn[w]=k._jQueryInterface;i.default.fn[w].Constructor=k;i.default.fn[w].noConflict=function(){return i.default.fn[w]=ge,k._jQueryInterface};var d="collapse",g="bs.collapse",to=i.default.fn[d],ot="show",rr="collapse",ri="collapsing",ur="collapsed",lu="width",au='[data-toggle="collapse"]',fr={toggle:!0,parent:""},io={toggle:"boolean",parent:"(string|element)"},st=function(){function t(n,t){this._isTransitioning=!1;this._element=n;this._config=this._getConfig(t);this._triggerArray=[].slice.call(document.querySelectorAll('[data-toggle="collapse"][href="#'+n.id+'"],[data-toggle="collapse"][data-target="#'+n.id+'"]'));for(var f=[].slice.call(document.querySelectorAll(au)),i=0,o=f.length;i<o;i++){var e=f[i],u=r.getSelectorFromElement(e),s=[].slice.call(document.querySelectorAll(u)).filter(function(t){return t===n});null!==u&&s.length>0&&(this._selector=u,this._triggerArray.push(e))}this._parent=this._config.parent?this._getParent():null;this._config.parent||this._addAriaAndCollapsedClass(this._element,this._triggerArray);this._config.toggle&&this.toggle()}var n=t.prototype;return n.toggle=function(){i.default(this._element).hasClass(ot)?this.hide():this.show()},n.show=function(){var n,e,u=this,o,f,s,h;this._isTransitioning||i.default(this._element).hasClass(ot)||(this._parent&&0===(n=[].slice.call(this._parent.querySelectorAll(".show, .collapsing")).filter(function(n){return"string"==typeof u._config.parent?n.getAttribute("data-parent")===u._config.parent:n.classList.contains(rr)})).length&&(n=null),n&&(e=i.default(n).not(this._selector).data(g))&&e._isTransitioning)||(o=i.default.Event("show.bs.collapse"),(i.default(this._element).trigger(o),o.isDefaultPrevented())||(n&&(t._jQueryInterface.call(i.default(n).not(this._selector),"hide"),e||i.default(n).data(g,null)),f=this._getDimension(),i.default(this._element).removeClass(rr).addClass(ri),this._element.style[f]=0,this._triggerArray.length&&i.default(this._triggerArray).removeClass(ur).attr("aria-expanded",!0),this.setTransitioning(!0),s="scroll"+(f[0].toUpperCase()+f.slice(1)),h=r.getTransitionDurationFromElement(this._element),i.default(this._element).one(r.TRANSITION_END,function(){i.default(u._element).removeClass(ri).addClass("collapse show");u._element.style[f]="";u.setTransitioning(!1);i.default(u._element).trigger("shown.bs.collapse")}).emulateTransitionEnd(h),this._element.style[f]=this._element[s]+"px"))},n.hide=function(){var s=this,u,n,f,t,e,o,h;if(!this._isTransitioning&&i.default(this._element).hasClass(ot)&&(u=i.default.Event("hide.bs.collapse"),i.default(this._element).trigger(u),!u.isDefaultPrevented())){if(n=this._getDimension(),this._element.style[n]=this._element.getBoundingClientRect()[n]+"px",r.reflow(this._element),i.default(this._element).addClass(ri).removeClass("collapse show"),f=this._triggerArray.length,f>0)for(t=0;t<f;t++)e=this._triggerArray[t],o=r.getSelectorFromElement(e),null!==o&&(i.default([].slice.call(document.querySelectorAll(o))).hasClass(ot)||i.default(e).addClass(ur).attr("aria-expanded",!1));this.setTransitioning(!0);this._element.style[n]="";h=r.getTransitionDurationFromElement(this._element);i.default(this._element).one(r.TRANSITION_END,function(){s.setTransitioning(!1);i.default(s._element).removeClass(ri).addClass(rr).trigger("hidden.bs.collapse")}).emulateTransitionEnd(h)}},n.setTransitioning=function(n){this._isTransitioning=n},n.dispose=function(){i.default.removeData(this._element,g);this._config=null;this._parent=null;this._element=null;this._triggerArray=null;this._isTransitioning=null},n._getConfig=function(n){return(n=u({},fr,n)).toggle=Boolean(n.toggle),r.typeCheckConfig(d,n,io),n},n._getDimension=function(){return i.default(this._element).hasClass(lu)?lu:"height"},n._getParent=function(){var n,e=this,u,f;return r.isElement(this._config.parent)?(n=this._config.parent,"undefined"!=typeof this._config.parent.jquery&&(n=this._config.parent[0])):n=document.querySelector(this._config.parent),u='[data-toggle="collapse"][data-parent="'+this._config.parent+'"]',f=[].slice.call(n.querySelectorAll(u)),i.default(f).each(function(n,i){e._addAriaAndCollapsedClass(t._getTargetFromElement(i),[i])}),n},n._addAriaAndCollapsedClass=function(n,t){var r=i.default(n).hasClass(ot);t.length&&i.default(t).toggleClass(ur,!r).attr("aria-expanded",r)},t._getTargetFromElement=function(n){var t=r.getSelectorFromElement(n);return t?document.querySelector(t):null},t._jQueryInterface=function(n){return this.each(function(){var f=i.default(this),r=f.data(g),e=u({},fr,f.data(),"object"==typeof n&&n?n:{});if(!r&&e.toggle&&"string"==typeof n&&/show|hide/.test(n)&&(e.toggle=!1),r||(r=new t(this,e),f.data(g,r)),"string"==typeof n){if("undefined"==typeof r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},e(t,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return fr}}]),t}();i.default(document).on("click.bs.collapse.data-api",au,function(n){"A"===n.currentTarget.tagName&&n.preventDefault();var t=i.default(this),u=r.getSelectorFromElement(this),f=[].slice.call(document.querySelectorAll(u));i.default(f).each(function(){var n=i.default(this),r=n.data(g)?"toggle":t.data();st._jQueryInterface.call(n,r)})});i.default.fn[d]=st._jQueryInterface;i.default.fn[d].Constructor=st;i.default.fn[d].noConflict=function(){return i.default.fn[d]=to,st._jQueryInterface};var ht="undefined"!=typeof window&&"undefined"!=typeof document&&"undefined"!=typeof navigator,ro=function(){for(var t=["Edge","Trident","Firefox"],n=0;n<t.length;n+=1)if(ht&&navigator.userAgent.indexOf(t[n])>=0)return 1;return 0}(),uo=ht&&window.Promise?function(n){var t=!1;return function(){t||(t=!0,window.Promise.resolve().then(function(){t=!1;n()}))}}:function(n){var t=!1;return function(){t||(t=!0,setTimeout(function(){t=!1;n()},ro))}};or=ht&&!(!window.MSInputMethodContext||!document.documentMode);sr=ht&&/MSIE 10/.test(navigator.userAgent);var eo=function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function");},oo=function(){function n(n,t){for(var i,r=0;r<t.length;r++)i=t[r],i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}return function(t,i,r){return i&&n(t.prototype,i),r&&n(t,r),t}}(),rt=function(n,t,i){return t in n?Object.defineProperty(n,t,{value:i,enumerable:!0,configurable:!0,writable:!0}):n[t]=i,n},f=Object.assign||function(n){for(var i,r,t=1;t<arguments.length;t++){i=arguments[t];for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(n[r]=i[r])}return n};sf=ht&&/Firefox/i.test(navigator.userAgent);wr=["auto-start","auto","auto-end","top-start","top","top-end","right-start","right","right-end","bottom-end","bottom","bottom-start","left-end","left","left-start"];ei=wr.slice(3);lf={placement:"bottom",positionFixed:!1,eventsEnabled:!0,removeOnDestroy:!1,onCreate:function(){},onUpdate:function(){},modifiers:{shift:{order:100,enabled:!0,fn:function(n){var r=n.placement,c=r.split("-")[0],u=r.split("-")[1];if(u){var e=n.offsets,i=e.reference,o=e.popper,s=-1!==["bottom","top"].indexOf(c),t=s?"left":"top",h=s?"width":"height",l={start:rt({},t,i[t]),end:rt({},t,i[t]+i[h]-o[h])};n.offsets.popper=f({},o,l[u])}return n}},offset:{order:200,enabled:!0,fn:function(n,t){var r,f=t.offset,o=n.placement,e=n.offsets,i=e.popper,s=e.reference,u=o.split("-")[0];return r=yr(+f)?[+f,0]:function(n,t,i,r){var s=[0,0],c=-1!==["right","left"].indexOf(r),u=n.split(/(\+|\-)/).map(function(n){return n.trim()}),f=u.indexOf(lt(u,function(n){return-1!==n.search(/,|\s/)})),o,e;return u[f]&&-1===u[f].indexOf(",")&&console.warn("Offsets separated by white space(s) are deprecated, use a comma (,) instead."),o=/\s*,\s*|\s+/,e=-1!==f?[u.slice(0,f).concat([u[f].split(o)[0]]),[u[f].split(o)[1]].concat(u.slice(f+1))]:[u],e=e.map(function(n,r){var f=(1===r?!c:c)?"height":"width",u=!1;return n.reduce(function(n,t){return""===n[n.length-1]&&-1!==["+","-"].indexOf(t)?(n[n.length-1]=t,u=!0,n):u?(n[n.length-1]+=t,u=!1,n):n.concat(t)},[]).map(function(n){return function(n,t,i,r){var e=n.match(/((?:\-|\+)?\d*\.?\d*)(.*)/),f=+e[1],u=e[2];return f?0===u.indexOf("%")?h("%p"===u?i:r)[t]/100*f:"vh"===u||"vw"===u?("vh"===u?Math.max(document.documentElement.clientHeight,window.innerHeight||0):Math.max(document.documentElement.clientWidth,window.innerWidth||0))/100*f:f:n}(n,f,t,i)})}),e.forEach(function(n,t){n.forEach(function(i,r){yr(i)&&(s[t]+=i*("-"===n[r-1]?-1:1))})}),s}(f,i,s,u),"left"===u?(i.top+=r[0],i.left-=r[1]):"right"===u?(i.top+=r[0],i.left+=r[1]):"top"===u?(i.left+=r[0],i.top-=r[1]):"bottom"===u&&(i.left+=r[0],i.top+=r[1]),n.popper=i,n},offset:0},preventOverflow:{order:300,enabled:!0,fn:function(n,t){var e=t.boundariesElement||tt(n.instance.popper),u;n.instance.reference===e&&(e=tt(e));var o=vr("transform"),r=n.instance.popper.style,s=r.top,h=r.left,c=r[o];r.top="";r.left="";r[o]="";u=ar(n.instance.popper,n.instance.reference,t.padding,e,n.positionFixed);r.top=s;r.left=h;r[o]=c;t.boundaries=u;var l=t.priority,i=n.offsets.popper,a={primary:function(n){var r=i[n];return i[n]<u[n]&&!t.escapeWithReference&&(r=Math.max(i[n],u[n])),rt({},n,r)},secondary:function(n){var r="right"===n?"left":"top",f=i[r];return i[n]>u[n]&&!t.escapeWithReference&&(f=Math.min(i[r],u[n]-("right"===n?i.width:i.height))),rt({},r,f)}};return l.forEach(function(n){var t=-1!==["left","top"].indexOf(n)?"primary":"secondary";i=f({},i,a[t](n))}),n.offsets.popper=i,n},priority:["left","right","top","bottom"],padding:5,boundariesElement:"scrollParent"},keepTogether:{order:400,enabled:!0,fn:function(n){var o=n.offsets,u=o.popper,i=o.reference,s=n.placement.split("-")[0],r=Math.floor,f=-1!==["top","bottom"].indexOf(s),e=f?"right":"bottom",t=f?"left":"top",h=f?"width":"height";return u[e]<r(i[t])&&(n.offsets.popper[t]=r(i[t])-u[h]),u[t]>r(i[e])&&(n.offsets.popper[t]=r(i[e])),n}},arrow:{order:500,enabled:!0,fn:function(n,t){var c,r;if(!hf(n.instance.modifiers,"arrow","keepTogether"))return n;if(r=t.element,"string"==typeof r){if(!(r=n.instance.popper.querySelector(r)))return n}else if(!n.instance.popper.contains(r))return console.warn("WARNING: `arrow.element` must be child of its popper element!"),n;var b=n.placement.split("-")[0],p=n.offsets,e=p.popper,u=p.reference,o=-1!==["left","right"].indexOf(b),a=o?"height":"width",v=o?"Top":"Left",i=v.toLowerCase(),k=o?"left":"top",s=o?"bottom":"right",f=tf(r)[a];u[s]-f<e[i]&&(n.offsets.popper[i]-=e[i]-(u[s]-f));u[i]+f>e[s]&&(n.offsets.popper[i]+=u[i]+f-e[s]);n.offsets.popper=h(n.offsets.popper);var d=u[i]+u[a]/2-f/2,w=l(n.instance.popper),g=parseFloat(w["margin"+v]),nt=parseFloat(w["border"+v+"Width"]),y=d-n.offsets.popper[i]-g-nt;return y=Math.max(Math.min(e[a]-f,y),0),n.arrowElement=r,n.offsets.arrow=(rt(c={},i,Math.round(y)),rt(c,k,""),c),n},element:"[x-arrow]"},flip:{order:600,enabled:!0,fn:function(n,t){if(ff(n.instance.modifiers,"inner")||n.flipped&&n.placement===n.originalPlacement)return n;var e=ar(n.instance.popper,n.instance.reference,t.padding,t.boundariesElement,n.positionFixed),i=n.placement.split("-")[0],o=fi(i),r=n.placement.split("-")[1]||"",u=[];switch(t.behavior){case"flip":u=[i,o];break;case"clockwise":u=cf(i);break;case"counterclockwise":u=cf(i,!0);break;default:u=t.behavior}return u.forEach(function(s,h){if(i!==s||u.length===h+1)return n;i=n.placement.split("-")[0];o=fi(i);var l=n.offsets.popper,v=n.offsets.reference,c=Math.floor,k="left"===i&&c(l.right)>c(v.left)||"right"===i&&c(l.left)<c(v.right)||"top"===i&&c(l.bottom)>c(v.top)||"bottom"===i&&c(l.top)<c(v.bottom),y=c(l.left)<c(e.left),p=c(l.right)>c(e.right),w=c(l.top)<c(e.top),b=c(l.bottom)>c(e.bottom),d="left"===i&&y||"right"===i&&p||"top"===i&&w||"bottom"===i&&b,a=-1!==["top","bottom"].indexOf(i),nt=!!t.flipVariations&&(a&&"start"===r&&y||a&&"end"===r&&p||!a&&"start"===r&&w||!a&&"end"===r&&b),tt=!!t.flipVariationsByContent&&(a&&"start"===r&&p||a&&"end"===r&&y||!a&&"start"===r&&b||!a&&"end"===r&&w),g=nt||tt;(k||d||g)&&(n.flipped=!0,(k||d)&&(i=u[h+1]),g&&(r=function(n){return"end"===n?"start":"start"===n?"end":n}(r)),n.placement=i+(r?"-"+r:""),n.offsets.popper=f({},n.offsets.popper,rf(n.instance.popper,n.offsets.reference,n.placement)),n=uf(n.instance.modifiers,n,"flip"))}),n},behavior:"flip",padding:5,boundariesElement:"viewport",flipVariations:!1,flipVariationsByContent:!1},inner:{order:700,enabled:!1,fn:function(n){var r=n.placement,t=r.split("-")[0],u=n.offsets,i=u.popper,e=u.reference,f=-1!==["left","right"].indexOf(t),o=-1===["top","left"].indexOf(t);return i[f?"left":"top"]=e[t]-(o?i[f?"width":"height"]:0),n.placement=fi(r),n.offsets.popper=h(i),n}},hide:{order:800,enabled:!0,fn:function(n){if(!hf(n.instance.modifiers,"hide","preventOverflow"))return n;var t=n.offsets.reference,i=lt(n.instance.modifiers,function(n){return"preventOverflow"===n.name}).boundaries;if(t.bottom<i.top||t.left>i.right||t.top>i.bottom||t.right<i.left){if(!0===n.hide)return n;n.hide=!0;n.attributes["x-out-of-boundaries"]=""}else{if(!1===n.hide)return n;n.hide=!1;n.attributes["x-out-of-boundaries"]=!1}return n}},computeStyle:{order:850,enabled:!0,fn:function(n,t){var w=t.x,b=t.y,k=n.offsets.popper,s=lt(n.instance.modifiers,function(n){return"applyStyle"===n.name}).gpuAcceleration,v,y,p;void 0!==s&&console.warn("WARNING: `gpuAcceleration` option moved to `computeStyle` modifier and will not be supported in future versions of Popper.js!");var h,c,d=void 0!==s?s:t.gpuAcceleration,u=tt(n.instance.popper),l=cr(u),i={position:k.position},r=function(n,t){var u=n.offsets,i=u.popper,l=u.reference,r=Math.round,a=Math.floor,f=function(n){return n},e=r(l.width),o=r(i.width),v=-1!==["left","right"].indexOf(n.placement),s=-1!==n.placement.indexOf("-"),h=t?v||s||e%2==o%2?r:a:f,c=t?r:f;return{left:h(e%2==1&&o%2==1&&!s&&t?i.left-1:i.left),top:c(i.top),bottom:c(i.bottom),right:h(i.right)}}(n,window.devicePixelRatio<2||!sf),e="bottom"===w?"top":"bottom",o="right"===b?"left":"right",a=vr("transform");return(c="bottom"===e?"HTML"===u.nodeName?-u.clientHeight+r.bottom:-l.height+r.bottom:r.top,h="right"===o?"HTML"===u.nodeName?-u.clientWidth+r.right:-l.width+r.right:r.left,d&&a)?(i[a]="translate3d("+h+"px, "+c+"px, 0)",i[e]=0,i[o]=0,i.willChange="transform"):(v="bottom"===e?-1:1,y="right"===o?-1:1,i[e]=c*v,i[o]=h*y,i.willChange=e+", "+o),p={"x-placement":n.placement},n.attributes=f({},p,n.attributes),n.styles=f({},i,n.styles),n.arrowStyles=f({},n.offsets.arrow,n.arrowStyles),n},gpuAcceleration:!0,x:"bottom",y:"right"},applyStyle:{order:900,enabled:!0,fn:function(n){var i,t;return pr(n.instance.popper,n.styles),i=n.instance.popper,t=n.attributes,Object.keys(t).forEach(function(n){!1!==t[n]?i.setAttribute(n,t[n]):i.removeAttribute(n)}),n.arrowElement&&Object.keys(n.arrowStyles).length&&pr(n.arrowElement,n.arrowStyles),n},onLoad:function(n,t,i,r,u){var f=nf(u,t,n,i.positionFixed),e=gu(i.placement,f,t,n,i.modifiers.flip.boundariesElement,i.modifiers.flip.padding);return t.setAttribute("x-placement",e),pr(t,{position:i.positionFixed?"fixed":"absolute"}),i},gpuAcceleration:void 0}}};at=function(){function n(t,i){var r=this,u=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},e;eo(this,n);this.scheduleUpdate=function(){return requestAnimationFrame(r.update)};this.update=uo(this.update.bind(this));this.options=f({},n.Defaults,u);this.state={isDestroyed:!1,isCreated:!1,scrollParents:[]};this.reference=t&&t.jquery?t[0]:t;this.popper=i&&i.jquery?i[0]:i;this.options.modifiers={};Object.keys(f({},n.Defaults.modifiers,u.modifiers)).forEach(function(t){r.options.modifiers[t]=f({},n.Defaults.modifiers[t]||{},u.modifiers?u.modifiers[t]:{})});this.modifiers=Object.keys(this.options.modifiers).map(function(n){return f({name:n},r.options.modifiers[n])}).sort(function(n,t){return n.order-t.order});this.modifiers.forEach(function(n){n.enabled&&vu(n.onLoad)&&n.onLoad(r.reference,r.popper,r.options,n,r.state)});this.update();e=this.options.eventsEnabled;e&&this.enableEventListeners();this.state.eventsEnabled=e}return oo(n,[{key:"update",value:function(){return co.call(this)}},{key:"destroy",value:function(){return lo.call(this)}},{key:"enableEventListeners",value:function(){return vo.call(this)}},{key:"disableEventListeners",value:function(){return yo.call(this)}}]),n}();at.Utils=("undefined"!=typeof window?window:global).PopperUtils;at.placements=wr;at.Defaults=lf;var oi=at,ut="dropdown",si="bs.dropdown",po=i.default.fn[ut],wo=new RegExp("38|40|27"),hi="disabled",o="show",af="dropdown-menu-right",vf="hide.bs.dropdown",yf="hidden.bs.dropdown",br="click.bs.dropdown.data-api",pf="keydown.bs.dropdown.data-api",ci='[data-toggle="dropdown"]',kr=".dropdown-menu",bo={offset:0,flip:!0,boundary:"scrollParent",reference:"toggle",display:"dynamic",popperConfig:null},ko={offset:"(number|string|function)",flip:"boolean",boundary:"(string|element)",reference:"(string|element)",display:"string",popperConfig:"(null|object)"},c=function(){function n(n,t){this._element=n;this._popper=null;this._config=this._getConfig(t);this._menu=this._getMenuElement();this._inNavbar=this._detectNavbar();this._addEventListeners()}var t=n.prototype;return t.toggle=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(hi)){var t=i.default(this._menu).hasClass(o);n._clearMenus();t||this.show(!0)}},t.show=function(t){var f;if(void 0===t&&(t=!1),!(this._element.disabled||i.default(this._element).hasClass(hi)||i.default(this._menu).hasClass(o))){var e={relatedTarget:this._element},s=i.default.Event("show.bs.dropdown",e),u=n._getParentFromElement(this._element);if(i.default(u).trigger(s),!s.isDefaultPrevented()){if(!this._inNavbar&&t){if("undefined"==typeof oi)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");f=this._element;"parent"===this._config.reference?f=u:r.isElement(this._config.reference)&&(f=this._config.reference,"undefined"!=typeof this._config.reference.jquery&&(f=this._config.reference[0]));"scrollParent"!==this._config.boundary&&i.default(u).addClass("position-static");this._popper=new oi(f,this._menu,this._getPopperConfig())}"ontouchstart"in document.documentElement&&0===i.default(u).closest(".navbar-nav").length&&i.default(document.body).children().on("mouseover",null,i.default.noop);this._element.focus();this._element.setAttribute("aria-expanded",!0);i.default(this._menu).toggleClass(o);i.default(u).toggleClass(o).trigger(i.default.Event("shown.bs.dropdown",e))}}},t.hide=function(){if(!this._element.disabled&&!i.default(this._element).hasClass(hi)&&i.default(this._menu).hasClass(o)){var t={relatedTarget:this._element},r=i.default.Event(vf,t),u=n._getParentFromElement(this._element);i.default(u).trigger(r);r.isDefaultPrevented()||(this._popper&&this._popper.destroy(),i.default(this._menu).toggleClass(o),i.default(u).toggleClass(o).trigger(i.default.Event(yf,t)))}},t.dispose=function(){i.default.removeData(this._element,si);i.default(this._element).off(".bs.dropdown");this._element=null;this._menu=null;null!==this._popper&&(this._popper.destroy(),this._popper=null)},t.update=function(){this._inNavbar=this._detectNavbar();null!==this._popper&&this._popper.scheduleUpdate()},t._addEventListeners=function(){var n=this;i.default(this._element).on("click.bs.dropdown",function(t){t.preventDefault();t.stopPropagation();n.toggle()})},t._getConfig=function(n){return n=u({},this.constructor.Default,i.default(this._element).data(),n),r.typeCheckConfig(ut,n,this.constructor.DefaultType),n},t._getMenuElement=function(){if(!this._menu){var t=n._getParentFromElement(this._element);t&&(this._menu=t.querySelector(kr))}return this._menu},t._getPlacement=function(){var t=i.default(this._element.parentNode),n="bottom-start";return t.hasClass("dropup")?n=i.default(this._menu).hasClass(af)?"top-end":"top-start":t.hasClass("dropright")?n="right-start":t.hasClass("dropleft")?n="left-start":i.default(this._menu).hasClass(af)&&(n="bottom-end"),n},t._detectNavbar=function(){return i.default(this._element).closest(".navbar").length>0},t._getOffset=function(){var t=this,n={};return"function"==typeof this._config.offset?n.fn=function(n){return n.offsets=u({},n.offsets,t._config.offset(n.offsets,t._element)),n}:n.offset=this._config.offset,n},t._getPopperConfig=function(){var n={placement:this._getPlacement(),modifiers:{offset:this._getOffset(),flip:{enabled:this._config.flip},preventOverflow:{boundariesElement:this._config.boundary}}};return"static"===this._config.display&&(n.modifiers.applyStyle={enabled:!1}),u({},n,this._config.popperConfig)},n._jQueryInterface=function(t){return this.each(function(){var r=i.default(this).data(si);if(r||(r=new n(this,"object"==typeof t?t:null),i.default(this).data(si,r)),"string"==typeof t){if("undefined"==typeof r[t])throw new TypeError('No method named "'+t+'"');r[t]()}})},n._clearMenus=function(t){var c,h;if(!t||3!==t.which&&("keyup"!==t.type||9===t.which))for(var u=[].slice.call(document.querySelectorAll(ci)),r=0,l=u.length;r<l;r++){var f=n._getParentFromElement(u[r]),e=i.default(u[r]).data(si),s={relatedTarget:u[r]};(t&&"click"===t.type&&(s.clickEvent=t),e)&&(c=e._menu,!i.default(f).hasClass(o)||t&&("click"===t.type&&/input|textarea/i.test(t.target.tagName)||"keyup"===t.type&&9===t.which)&&i.default.contains(f,t.target)||(h=i.default.Event(vf,s),i.default(f).trigger(h),h.isDefaultPrevented()||("ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),u[r].setAttribute("aria-expanded","false"),e._popper&&e._popper.destroy(),i.default(c).removeClass(o),i.default(f).removeClass(o).trigger(i.default.Event(yf,s)))))}},n._getParentFromElement=function(n){var t,i=r.getSelectorFromElement(n);return i&&(t=document.querySelector(i)),t||n.parentNode},n._dataApiKeydownHandler=function(t){var f,e,u,r;if(!(/input|textarea/i.test(t.target.tagName)?32===t.which||27!==t.which&&(40!==t.which&&38!==t.which||i.default(t.target).closest(kr).length):!wo.test(t.which))&&!this.disabled&&!i.default(this).hasClass(hi)&&(f=n._getParentFromElement(this),e=i.default(f).hasClass(o),e||27!==t.which)){if(t.preventDefault(),t.stopPropagation(),!e||27===t.which||32===t.which)return 27===t.which&&i.default(f.querySelector(ci)).trigger("focus"),void i.default(this).trigger("click");u=[].slice.call(f.querySelectorAll(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)")).filter(function(n){return i.default(n).is(":visible")});0!==u.length&&(r=u.indexOf(t.target),38===t.which&&r>0&&r--,40===t.which&&r<u.length-1&&r++,r<0&&(r=0),u[r].focus())}},e(n,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return bo}},{key:"DefaultType",get:function(){return ko}}]),n}();i.default(document).on(pf,ci,c._dataApiKeydownHandler).on(pf,kr,c._dataApiKeydownHandler).on(br+" keyup.bs.dropdown.data-api",c._clearMenus).on(br,ci,function(n){n.preventDefault();n.stopPropagation();c._jQueryInterface.call(i.default(this),"toggle")}).on(br,".dropdown form",function(n){n.stopPropagation()});i.default.fn[ut]=c._jQueryInterface;i.default.fn[ut].Constructor=c;i.default.fn[ut].noConflict=function(){return i.default.fn[ut]=po,c._jQueryInterface};var li="bs.modal",go=i.default.fn.modal,wf="modal-open",ft="fade",ai="show",bf="modal-static",kf="hidden.bs.modal",df="show.bs.modal",vi="focusin.bs.modal",gf="resize.bs.modal",dr="click.dismiss.bs.modal",ne="keydown.dismiss.bs.modal",te="mousedown.dismiss.bs.modal",ie=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",gr={backdrop:!0,keyboard:!0,focus:!0,show:!0},ns={backdrop:"(boolean|string)",keyboard:"boolean",focus:"boolean",show:"boolean"},vt=function(){function t(n,t){this._config=this._getConfig(t);this._element=n;this._dialog=n.querySelector(".modal-dialog");this._backdrop=null;this._isShown=!1;this._isBodyOverflowing=!1;this._ignoreBackdropClick=!1;this._isTransitioning=!1;this._scrollbarWidth=0}var n=t.prototype;return n.toggle=function(n){return this._isShown?this.hide():this.show(n)},n.show=function(n){var t=this,r;this._isShown||this._isTransitioning||(r=i.default.Event(df,{relatedTarget:n}),i.default(this._element).trigger(r),r.isDefaultPrevented()||(this._isShown=!0,i.default(this._element).hasClass(ft)&&(this._isTransitioning=!0),this._checkScrollbar(),this._setScrollbar(),this._adjustDialog(),this._setEscapeEvent(),this._setResizeEvent(),i.default(this._element).on(dr,'[data-dismiss="modal"]',function(n){return t.hide(n)}),i.default(this._dialog).on(te,function(){i.default(t._element).one("mouseup.dismiss.bs.modal",function(n){i.default(n.target).is(t._element)&&(t._ignoreBackdropClick=!0)})}),this._showBackdrop(function(){return t._showElement(n)})))},n.hide=function(n){var e=this,t,u,f;(n&&n.preventDefault(),this._isShown&&!this._isTransitioning)&&(t=i.default.Event("hide.bs.modal"),(i.default(this._element).trigger(t),this._isShown&&!t.isDefaultPrevented())&&(this._isShown=!1,u=i.default(this._element).hasClass(ft),(u&&(this._isTransitioning=!0),this._setEscapeEvent(),this._setResizeEvent(),i.default(document).off(vi),i.default(this._element).removeClass(ai),i.default(this._element).off(dr),i.default(this._dialog).off(te),u)?(f=r.getTransitionDurationFromElement(this._element),i.default(this._element).one(r.TRANSITION_END,function(n){return e._hideModal(n)}).emulateTransitionEnd(f)):this._hideModal()))},n.dispose=function(){[window,this._element,this._dialog].forEach(function(n){return i.default(n).off(".bs.modal")});i.default(document).off(vi);i.default.removeData(this._element,li);this._config=null;this._element=null;this._dialog=null;this._backdrop=null;this._isShown=null;this._isBodyOverflowing=null;this._ignoreBackdropClick=null;this._isTransitioning=null;this._scrollbarWidth=null},n.handleUpdate=function(){this._adjustDialog()},n._getConfig=function(n){return n=u({},gr,n),r.typeCheckConfig("modal",n,ns),n},n._triggerBackdropTransition=function(){var n=this,f=i.default.Event("hidePrevented.bs.modal"),t,u;(i.default(this._element).trigger(f),f.isDefaultPrevented())||(t=this._element.scrollHeight>document.documentElement.clientHeight,t||(this._element.style.overflowY="hidden"),this._element.classList.add(bf),u=r.getTransitionDurationFromElement(this._dialog),i.default(this._element).off(r.TRANSITION_END),i.default(this._element).one(r.TRANSITION_END,function(){n._element.classList.remove(bf);t||i.default(n._element).one(r.TRANSITION_END,function(){n._element.style.overflowY=""}).emulateTransitionEnd(n._element,u)}).emulateTransitionEnd(u),this._element.focus())},n._showElement=function(n){var t=this,f=i.default(this._element).hasClass(ft),e=this._dialog?this._dialog.querySelector(".modal-body"):null,o,u,s;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE||document.body.appendChild(this._element);this._element.style.display="block";this._element.removeAttribute("aria-hidden");this._element.setAttribute("aria-modal",!0);this._element.setAttribute("role","dialog");i.default(this._dialog).hasClass("modal-dialog-scrollable")&&e?e.scrollTop=0:this._element.scrollTop=0;f&&r.reflow(this._element);i.default(this._element).addClass(ai);this._config.focus&&this._enforceFocus();o=i.default.Event("shown.bs.modal",{relatedTarget:n});u=function(){t._config.focus&&t._element.focus();t._isTransitioning=!1;i.default(t._element).trigger(o)};f?(s=r.getTransitionDurationFromElement(this._dialog),i.default(this._dialog).one(r.TRANSITION_END,u).emulateTransitionEnd(s)):u()},n._enforceFocus=function(){var n=this;i.default(document).off(vi).on(vi,function(t){document!==t.target&&n._element!==t.target&&0===i.default(n._element).has(t.target).length&&n._element.focus()})},n._setEscapeEvent=function(){var n=this;this._isShown?i.default(this._element).on(ne,function(t){n._config.keyboard&&27===t.which?(t.preventDefault(),n.hide()):n._config.keyboard||27!==t.which||n._triggerBackdropTransition()}):this._isShown||i.default(this._element).off(ne)},n._setResizeEvent=function(){var n=this;this._isShown?i.default(window).on(gf,function(t){return n.handleUpdate(t)}):i.default(window).off(gf)},n._hideModal=function(){var n=this;this._element.style.display="none";this._element.setAttribute("aria-hidden",!0);this._element.removeAttribute("aria-modal");this._element.removeAttribute("role");this._isTransitioning=!1;this._showBackdrop(function(){i.default(document.body).removeClass(wf);n._resetAdjustments();n._resetScrollbar();i.default(n._element).trigger(kf)})},n._removeBackdrop=function(){this._backdrop&&(i.default(this._backdrop).remove(),this._backdrop=null)},n._showBackdrop=function(n){var t=this,u=i.default(this._element).hasClass(ft)?ft:"",e,f,o;if(this._isShown&&this._config.backdrop){if(this._backdrop=document.createElement("div"),this._backdrop.className="modal-backdrop",u&&this._backdrop.classList.add(u),i.default(this._backdrop).appendTo(document.body),i.default(this._element).on(dr,function(n){t._ignoreBackdropClick?t._ignoreBackdropClick=!1:n.target===n.currentTarget&&("static"===t._config.backdrop?t._triggerBackdropTransition():t.hide())}),u&&r.reflow(this._backdrop),i.default(this._backdrop).addClass(ai),!n)return;if(!u)return void n();e=r.getTransitionDurationFromElement(this._backdrop);i.default(this._backdrop).one(r.TRANSITION_END,n).emulateTransitionEnd(e)}else!this._isShown&&this._backdrop?(i.default(this._backdrop).removeClass(ai),f=function(){t._removeBackdrop();n&&n()},i.default(this._element).hasClass(ft)?(o=r.getTransitionDurationFromElement(this._backdrop),i.default(this._backdrop).one(r.TRANSITION_END,f).emulateTransitionEnd(o)):f()):n&&n()},n._adjustDialog=function(){var n=this._element.scrollHeight>document.documentElement.clientHeight;!this._isBodyOverflowing&&n&&(this._element.style.paddingLeft=this._scrollbarWidth+"px");this._isBodyOverflowing&&!n&&(this._element.style.paddingRight=this._scrollbarWidth+"px")},n._resetAdjustments=function(){this._element.style.paddingLeft="";this._element.style.paddingRight=""},n._checkScrollbar=function(){var n=document.body.getBoundingClientRect();this._isBodyOverflowing=Math.round(n.left+n.right)<window.innerWidth;this._scrollbarWidth=this._getScrollbarWidth()},n._setScrollbar=function(){var n=this,t,r,u,f;this._isBodyOverflowing&&(t=[].slice.call(document.querySelectorAll(ie)),r=[].slice.call(document.querySelectorAll(".sticky-top")),i.default(t).each(function(t,r){var u=r.style.paddingRight,f=i.default(r).css("padding-right");i.default(r).data("padding-right",u).css("padding-right",parseFloat(f)+n._scrollbarWidth+"px")}),i.default(r).each(function(t,r){var u=r.style.marginRight,f=i.default(r).css("margin-right");i.default(r).data("margin-right",u).css("margin-right",parseFloat(f)-n._scrollbarWidth+"px")}),u=document.body.style.paddingRight,f=i.default(document.body).css("padding-right"),i.default(document.body).data("padding-right",u).css("padding-right",parseFloat(f)+this._scrollbarWidth+"px"));i.default(document.body).addClass(wf)},n._resetScrollbar=function(){var r=[].slice.call(document.querySelectorAll(ie)),n,t;i.default(r).each(function(n,t){var r=i.default(t).data("padding-right");i.default(t).removeData("padding-right");t.style.paddingRight=r||""});n=[].slice.call(document.querySelectorAll(".sticky-top"));i.default(n).each(function(n,t){var r=i.default(t).data("margin-right");"undefined"!=typeof r&&i.default(t).css("margin-right",r).removeData("margin-right")});t=i.default(document.body).data("padding-right");i.default(document.body).removeData("padding-right");document.body.style.paddingRight=t||""},n._getScrollbarWidth=function(){var n=document.createElement("div"),t;return n.className="modal-scrollbar-measure",document.body.appendChild(n),t=n.getBoundingClientRect().width-n.clientWidth,document.body.removeChild(n),t},t._jQueryInterface=function(n,r){return this.each(function(){var f=i.default(this).data(li),e=u({},gr,i.default(this).data(),"object"==typeof n&&n?n:{});if(f||(f=new t(this,e),i.default(this).data(li,f)),"string"==typeof n){if("undefined"==typeof f[n])throw new TypeError('No method named "'+n+'"');f[n](r)}else e.show&&f.show(r)})},e(t,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return gr}}]),t}();i.default(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(n){var t,f=this,e=r.getSelectorFromElement(this),o,s;e&&(t=document.querySelector(e));o=i.default(t).data(li)?"toggle":u({},i.default(t).data(),i.default(this).data());"A"!==this.tagName&&"AREA"!==this.tagName||n.preventDefault();s=i.default(t).one(df,function(n){n.isDefaultPrevented()||s.one(kf,function(){i.default(f).is(":visible")&&f.focus()})});vt._jQueryInterface.call(i.default(t),o,this)});i.default.fn.modal=vt._jQueryInterface;i.default.fn.modal.Constructor=vt;i.default.fn.modal.noConflict=function(){return i.default.fn.modal=go,vt._jQueryInterface};var ts=["background","cite","href","itemtype","longdesc","poster","src","xlink:href"],is=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^#&/:?]*(?:[#/?]|$))/i,rs=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[\d+/a-z]+=*$/i;var ue="tooltip",nu="bs.tooltip",us=i.default.fn.tooltip,fs=new RegExp("(^|\\s)bs-tooltip\\S+","g"),es=["sanitize","whiteList","sanitizeFn"],yi="fade",pi="show",yt="show",tu="out",wi="hover",fe="focus",os={AUTO:"auto",TOP:"top",RIGHT:"right",BOTTOM:"bottom",LEFT:"left"},ss={animation:!0,template:'<div class="tooltip" role="tooltip"><div class="arrow"><\/div><div class="tooltip-inner"><\/div><\/div>',trigger:"hover focus",title:"",delay:0,html:!1,selector:!1,placement:"top",offset:0,container:!1,fallbackPlacement:"flip",boundary:"scrollParent",customClass:"",sanitize:!0,sanitizeFn:null,whiteList:{"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],div:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},popperConfig:null},hs={animation:"boolean",template:"string",title:"(string|element|function)",trigger:"string",delay:"(number|object)",html:"boolean",selector:"(string|boolean)",placement:"(string|function)",offset:"(number|string|function)",container:"(string|element|boolean)",fallbackPlacement:"(string|array)",boundary:"(string|element)",customClass:"(string|function)",sanitize:"boolean",sanitizeFn:"(null|function)",whiteList:"object",popperConfig:"(null|object)"},cs={HIDE:"hide.bs.tooltip",HIDDEN:"hidden.bs.tooltip",SHOW:"show.bs.tooltip",SHOWN:"shown.bs.tooltip",INSERTED:"inserted.bs.tooltip",CLICK:"click.bs.tooltip",FOCUSIN:"focusin.bs.tooltip",FOCUSOUT:"focusout.bs.tooltip",MOUSEENTER:"mouseenter.bs.tooltip",MOUSELEAVE:"mouseleave.bs.tooltip"},a=function(){function t(n,t){if("undefined"==typeof oi)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");this._isEnabled=!0;this._timeout=0;this._hoverState="";this._activeTrigger={};this._popper=null;this.element=n;this.config=this._getConfig(t);this.tip=null;this._setListeners()}var n=t.prototype;return n.enable=function(){this._isEnabled=!0},n.disable=function(){this._isEnabled=!1},n.toggleEnabled=function(){this._isEnabled=!this._isEnabled},n.toggle=function(n){if(this._isEnabled)if(n){var r=this.constructor.DATA_KEY,t=i.default(n.currentTarget).data(r);t||(t=new this.constructor(n.currentTarget,this._getDelegateConfig()),i.default(n.currentTarget).data(r,t));t._activeTrigger.click=!t._activeTrigger.click;t._isWithActiveTrigger()?t._enter(null,t):t._leave(null,t)}else{if(i.default(this.getTipElement()).hasClass(pi))return void this._leave(null,this);this._enter(null,this)}},n.dispose=function(){clearTimeout(this._timeout);i.default.removeData(this.element,this.constructor.DATA_KEY);i.default(this.element).off(this.constructor.EVENT_KEY);i.default(this.element).closest(".modal").off("hide.bs.modal",this._hideModalHandler);this.tip&&i.default(this.tip).remove();this._isEnabled=null;this._timeout=null;this._hoverState=null;this._activeTrigger=null;this._popper&&this._popper.destroy();this._popper=null;this.element=null;this.config=null;this.tip=null},n.show=function(){var t=this,u,f,h,n,e,c,o,l,s,a;if("none"===i.default(this.element).css("display"))throw new Error("Please use show on visible elements");if(u=i.default.Event(this.constructor.Event.SHOW),this.isWithContent()&&this._isEnabled){if(i.default(this.element).trigger(u),f=r.findShadowRoot(this.element),h=i.default.contains(null!==f?f:this.element.ownerDocument.documentElement,this.element),u.isDefaultPrevented()||!h)return;n=this.getTipElement();e=r.getUID(this.constructor.NAME);n.setAttribute("id",e);this.element.setAttribute("aria-describedby",e);this.setContent();this.config.animation&&i.default(n).addClass(yi);c="function"==typeof this.config.placement?this.config.placement.call(this,n,this.element):this.config.placement;o=this._getAttachment(c);this.addAttachmentClass(o);l=this._getContainer();i.default(n).data(this.constructor.DATA_KEY,this);i.default.contains(this.element.ownerDocument.documentElement,this.tip)||i.default(n).appendTo(l);i.default(this.element).trigger(this.constructor.Event.INSERTED);this._popper=new oi(this.element,n,this._getPopperConfig(o));i.default(n).addClass(pi);i.default(n).addClass(this.config.customClass);"ontouchstart"in document.documentElement&&i.default(document.body).children().on("mouseover",null,i.default.noop);s=function(){t.config.animation&&t._fixTransition();var n=t._hoverState;t._hoverState=null;i.default(t.element).trigger(t.constructor.Event.SHOWN);n===tu&&t._leave(null,t)};i.default(this.tip).hasClass(yi)?(a=r.getTransitionDurationFromElement(this.tip),i.default(this.tip).one(r.TRANSITION_END,s).emulateTransitionEnd(a)):s()}},n.hide=function(n){var t=this,u=this.getTipElement(),f=i.default.Event(this.constructor.Event.HIDE),e=function(){t._hoverState!==yt&&u.parentNode&&u.parentNode.removeChild(u);t._cleanTipClass();t.element.removeAttribute("aria-describedby");i.default(t.element).trigger(t.constructor.Event.HIDDEN);null!==t._popper&&t._popper.destroy();n&&n()},o;(i.default(this.element).trigger(f),f.isDefaultPrevented())||((i.default(u).removeClass(pi),"ontouchstart"in document.documentElement&&i.default(document.body).children().off("mouseover",null,i.default.noop),this._activeTrigger.click=!1,this._activeTrigger.focus=!1,this._activeTrigger.hover=!1,i.default(this.tip).hasClass(yi))?(o=r.getTransitionDurationFromElement(u),i.default(u).one(r.TRANSITION_END,e).emulateTransitionEnd(o)):e(),this._hoverState="")},n.update=function(){null!==this._popper&&this._popper.scheduleUpdate()},n.isWithContent=function(){return Boolean(this.getTitle())},n.addAttachmentClass=function(n){i.default(this.getTipElement()).addClass("bs-tooltip-"+n)},n.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},n.setContent=function(){var n=this.getTipElement();this.setElementContent(i.default(n.querySelectorAll(".tooltip-inner")),this.getTitle());i.default(n).removeClass("fade show")},n.setElementContent=function(n,t){"object"!=typeof t||!t.nodeType&&!t.jquery?this.config.html?(this.config.sanitize&&(t=re(t,this.config.whiteList,this.config.sanitizeFn)),n.html(t)):n.text(t):this.config.html?i.default(t).parent().is(n)||n.empty().append(t):n.text(i.default(t).text())},n.getTitle=function(){var n=this.element.getAttribute("data-original-title");return n||(n="function"==typeof this.config.title?this.config.title.call(this.element):this.config.title),n},n._getPopperConfig=function(n){var t=this;return u({},{placement:n,modifiers:{offset:this._getOffset(),flip:{behavior:this.config.fallbackPlacement},arrow:{element:".arrow"},preventOverflow:{boundariesElement:this.config.boundary}},onCreate:function(n){n.originalPlacement!==n.placement&&t._handlePopperPlacementChange(n)},onUpdate:function(n){return t._handlePopperPlacementChange(n)}},this.config.popperConfig)},n._getOffset=function(){var t=this,n={};return"function"==typeof this.config.offset?n.fn=function(n){return n.offsets=u({},n.offsets,t.config.offset(n.offsets,t.element)),n}:n.offset=this.config.offset,n},n._getContainer=function(){return!1===this.config.container?document.body:r.isElement(this.config.container)?i.default(this.config.container):i.default(document).find(this.config.container)},n._getAttachment=function(n){return os[n.toUpperCase()]},n._setListeners=function(){var n=this;this.config.trigger.split(" ").forEach(function(t){if("click"===t)i.default(n.element).on(n.constructor.Event.CLICK,n.config.selector,function(t){return n.toggle(t)});else if("manual"!==t){var r=t===wi?n.constructor.Event.MOUSEENTER:n.constructor.Event.FOCUSIN,u=t===wi?n.constructor.Event.MOUSELEAVE:n.constructor.Event.FOCUSOUT;i.default(n.element).on(r,n.config.selector,function(t){return n._enter(t)}).on(u,n.config.selector,function(t){return n._leave(t)})}});this._hideModalHandler=function(){n.element&&n.hide()};i.default(this.element).closest(".modal").on("hide.bs.modal",this._hideModalHandler);this.config.selector?this.config=u({},this.config,{trigger:"manual",selector:""}):this._fixTitle()},n._fixTitle=function(){var n=typeof this.element.getAttribute("data-original-title");(this.element.getAttribute("title")||"string"!==n)&&(this.element.setAttribute("data-original-title",this.element.getAttribute("title")||""),this.element.setAttribute("title",""))},n._enter=function(n,t){var r=this.constructor.DATA_KEY;(t=t||i.default(n.currentTarget).data(r))||(t=new this.constructor(n.currentTarget,this._getDelegateConfig()),i.default(n.currentTarget).data(r,t));n&&(t._activeTrigger["focusin"===n.type?fe:wi]=!0);i.default(t.getTipElement()).hasClass(pi)||t._hoverState===yt?t._hoverState=yt:(clearTimeout(t._timeout),t._hoverState=yt,t.config.delay&&t.config.delay.show?t._timeout=setTimeout(function(){t._hoverState===yt&&t.show()},t.config.delay.show):t.show())},n._leave=function(n,t){var r=this.constructor.DATA_KEY;(t=t||i.default(n.currentTarget).data(r))||(t=new this.constructor(n.currentTarget,this._getDelegateConfig()),i.default(n.currentTarget).data(r,t));n&&(t._activeTrigger["focusout"===n.type?fe:wi]=!1);t._isWithActiveTrigger()||(clearTimeout(t._timeout),t._hoverState=tu,t.config.delay&&t.config.delay.hide?t._timeout=setTimeout(function(){t._hoverState===tu&&t.hide()},t.config.delay.hide):t.hide())},n._isWithActiveTrigger=function(){for(var n in this._activeTrigger)if(this._activeTrigger[n])return!0;return!1},n._getConfig=function(n){var t=i.default(this.element).data();return Object.keys(t).forEach(function(n){-1!==es.indexOf(n)&&delete t[n]}),"number"==typeof(n=u({},this.constructor.Default,t,"object"==typeof n&&n?n:{})).delay&&(n.delay={show:n.delay,hide:n.delay}),"number"==typeof n.title&&(n.title=n.title.toString()),"number"==typeof n.content&&(n.content=n.content.toString()),r.typeCheckConfig(ue,n,this.constructor.DefaultType),n.sanitize&&(n.template=re(n.template,n.whiteList,n.sanitizeFn)),n},n._getDelegateConfig=function(){var t={},n;if(this.config)for(n in this.config)this.constructor.Default[n]!==this.config[n]&&(t[n]=this.config[n]);return t},n._cleanTipClass=function(){var t=i.default(this.getTipElement()),n=t.attr("class").match(fs);null!==n&&n.length&&t.removeClass(n.join(""))},n._handlePopperPlacementChange=function(n){this.tip=n.instance.popper;this._cleanTipClass();this.addAttachmentClass(this._getAttachment(n.placement))},n._fixTransition=function(){var n=this.getTipElement(),t=this.config.animation;null===n.getAttribute("x-placement")&&(i.default(n).removeClass(yi),this.config.animation=!1,this.hide(),this.show(),this.config.animation=t)},t._jQueryInterface=function(n){return this.each(function(){var u=i.default(this),r=u.data(nu),f="object"==typeof n&&n;if((r||!/dispose|hide/.test(n))&&(r||(r=new t(this,f),u.data(nu,r)),"string"==typeof n)){if("undefined"==typeof r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},e(t,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return ss}},{key:"NAME",get:function(){return ue}},{key:"DATA_KEY",get:function(){return nu}},{key:"Event",get:function(){return cs}},{key:"EVENT_KEY",get:function(){return".bs.tooltip"}},{key:"DefaultType",get:function(){return hs}}]),t}();i.default.fn.tooltip=a._jQueryInterface;i.default.fn.tooltip.Constructor=a;i.default.fn.tooltip.noConflict=function(){return i.default.fn.tooltip=us,a._jQueryInterface};var iu="bs.popover",ls=i.default.fn.popover,as=new RegExp("(^|\\s)bs-popover\\S+","g"),vs=u({},a.Default,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"><\/div><h3 class="popover-header"><\/h3><div class="popover-body"><\/div><\/div>'}),ys=u({},a.DefaultType,{content:"(string|element|function)"}),ps={HIDE:"hide.bs.popover",HIDDEN:"hidden.bs.popover",SHOW:"show.bs.popover",SHOWN:"shown.bs.popover",INSERTED:"inserted.bs.popover",CLICK:"click.bs.popover",FOCUSIN:"focusin.bs.popover",FOCUSOUT:"focusout.bs.popover",MOUSEENTER:"mouseenter.bs.popover",MOUSELEAVE:"mouseleave.bs.popover"},bi=function(n){function r(){return n.apply(this,arguments)||this}var u,f,t;return f=n,(u=r).prototype=Object.create(f.prototype),u.prototype.constructor=u,di(u,f),t=r.prototype,t.isWithContent=function(){return this.getTitle()||this._getContent()},t.addAttachmentClass=function(n){i.default(this.getTipElement()).addClass("bs-popover-"+n)},t.getTipElement=function(){return this.tip=this.tip||i.default(this.config.template)[0],this.tip},t.setContent=function(){var t=i.default(this.getTipElement()),n;this.setElementContent(t.find(".popover-header"),this.getTitle());n=this._getContent();"function"==typeof n&&(n=n.call(this.element));this.setElementContent(t.find(".popover-body"),n);t.removeClass("fade show")},t._getContent=function(){return this.element.getAttribute("data-content")||this.config.content},t._cleanTipClass=function(){var t=i.default(this.getTipElement()),n=t.attr("class").match(as);null!==n&&n.length>0&&t.removeClass(n.join(""))},r._jQueryInterface=function(n){return this.each(function(){var t=i.default(this).data(iu),u="object"==typeof n?n:null;if((t||!/dispose|hide/.test(n))&&(t||(t=new r(this,u),i.default(this).data(iu,t)),"string"==typeof n)){if("undefined"==typeof t[n])throw new TypeError('No method named "'+n+'"');t[n]()}})},e(r,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return vs}},{key:"NAME",get:function(){return"popover"}},{key:"DATA_KEY",get:function(){return iu}},{key:"Event",get:function(){return ps}},{key:"EVENT_KEY",get:function(){return".bs.popover"}},{key:"DefaultType",get:function(){return ys}}]),r}(a);i.default.fn.popover=bi._jQueryInterface;i.default.fn.popover.Constructor=bi;i.default.fn.popover.noConflict=function(){return i.default.fn.popover=ls,bi._jQueryInterface};var v="scrollspy",ru="bs.scrollspy",ws=i.default.fn[v],y="active",ee="position",oe=".nav, .list-group",se={offset:10,method:"auto",target:""},bs={offset:"number",method:"string",target:"(string|element)"},pt=function(){function t(n,t){var r=this;this._element=n;this._scrollElement="BODY"===n.tagName?window:n;this._config=this._getConfig(t);this._selector=this._config.target+" .nav-link,"+this._config.target+" .list-group-item,"+this._config.target+" .dropdown-item";this._offsets=[];this._targets=[];this._activeTarget=null;this._scrollHeight=0;i.default(this._scrollElement).on("scroll.bs.scrollspy",function(n){return r._process(n)});this.refresh();this._process()}var n=t.prototype;return n.refresh=function(){var n=this,u=this._scrollElement===this._scrollElement.window?"offset":ee,t="auto"===this._config.method?u:this._config.method,f=t===ee?this._getScrollTop():0;this._offsets=[];this._targets=[];this._scrollHeight=this._getScrollHeight();[].slice.call(document.querySelectorAll(this._selector)).map(function(n){var u,e=r.getSelectorFromElement(n),o;return(e&&(u=document.querySelector(e)),u)&&(o=u.getBoundingClientRect(),o.width||o.height)?[i.default(u)[t]().top+f,e]:null}).filter(function(n){return n}).sort(function(n,t){return n[0]-t[0]}).forEach(function(t){n._offsets.push(t[0]);n._targets.push(t[1])})},n.dispose=function(){i.default.removeData(this._element,ru);i.default(this._scrollElement).off(".bs.scrollspy");this._element=null;this._scrollElement=null;this._config=null;this._selector=null;this._offsets=null;this._targets=null;this._activeTarget=null;this._scrollHeight=null},n._getConfig=function(n){if("string"!=typeof(n=u({},se,"object"==typeof n&&n?n:{})).target&&r.isElement(n.target)){var t=i.default(n.target).attr("id");t||(t=r.getUID(v),i.default(n.target).attr("id",t));n.target="#"+t}return r.typeCheckConfig(v,n,bs),n},n._getScrollTop=function(){return this._scrollElement===window?this._scrollElement.pageYOffset:this._scrollElement.scrollTop},n._getScrollHeight=function(){return this._scrollElement.scrollHeight||Math.max(document.body.scrollHeight,document.documentElement.scrollHeight)},n._getOffsetHeight=function(){return this._scrollElement===window?window.innerHeight:this._scrollElement.getBoundingClientRect().height},n._process=function(){var t=this._getScrollTop()+this._config.offset,r=this._getScrollHeight(),u=this._config.offset+r-this._getOffsetHeight(),i,n;if(this._scrollHeight!==r&&this.refresh(),t>=u)i=this._targets[this._targets.length-1],this._activeTarget!==i&&this._activate(i);else{if(this._activeTarget&&t<this._offsets[0]&&this._offsets[0]>0)return this._activeTarget=null,void this._clear();for(n=this._offsets.length;n--;)this._activeTarget!==this._targets[n]&&t>=this._offsets[n]&&("undefined"==typeof this._offsets[n+1]||t<this._offsets[n+1])&&this._activate(this._targets[n])}},n._activate=function(n){this._activeTarget=n;this._clear();var r=this._selector.split(",").map(function(t){return t+'[data-target="'+n+'"],'+t+'[href="'+n+'"]'}),t=i.default([].slice.call(document.querySelectorAll(r.join(","))));t.hasClass("dropdown-item")?(t.closest(".dropdown").find(".dropdown-toggle").addClass(y),t.addClass(y)):(t.addClass(y),t.parents(oe).prev(".nav-link, .list-group-item").addClass(y),t.parents(oe).prev(".nav-item").children(".nav-link").addClass(y));i.default(this._scrollElement).trigger("activate.bs.scrollspy",{relatedTarget:n})},n._clear=function(){[].slice.call(document.querySelectorAll(this._selector)).filter(function(n){return n.classList.contains(y)}).forEach(function(n){return n.classList.remove(y)})},t._jQueryInterface=function(n){return this.each(function(){var r=i.default(this).data(ru);if(r||(r=new t(this,"object"==typeof n&&n),i.default(this).data(ru,r)),"string"==typeof n){if("undefined"==typeof r[n])throw new TypeError('No method named "'+n+'"');r[n]()}})},e(t,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"Default",get:function(){return se}}]),t}();i.default(window).on("load.bs.scrollspy.data-api",function(){for(var r,n=[].slice.call(document.querySelectorAll('[data-spy="scroll"]')),t=n.length;t--;)r=i.default(n[t]),pt._jQueryInterface.call(r,r.data())});i.default.fn[v]=pt._jQueryInterface;i.default.fn[v].Constructor=pt;i.default.fn[v].noConflict=function(){return i.default.fn[v]=ws,pt._jQueryInterface};var uu="bs.tab",ks=i.default.fn.tab,wt="active",he="fade",ce="show",le=".active",ae="> li > .active",bt=function(){function n(n){this._element=n}var t=n.prototype;return t.show=function(){var h=this,u,n,t,f,c,e,o,s;this._element.parentNode&&this._element.parentNode.nodeType===Node.ELEMENT_NODE&&i.default(this._element).hasClass(wt)||i.default(this._element).hasClass("disabled")||(t=i.default(this._element).closest(".nav, .list-group")[0],f=r.getSelectorFromElement(this._element),t&&(c="UL"===t.nodeName||"OL"===t.nodeName?ae:le,n=(n=i.default.makeArray(i.default(t).find(c)))[n.length-1]),e=i.default.Event("hide.bs.tab",{relatedTarget:this._element}),o=i.default.Event("show.bs.tab",{relatedTarget:n}),(n&&i.default(n).trigger(e),i.default(this._element).trigger(o),o.isDefaultPrevented()||e.isDefaultPrevented())||(f&&(u=document.querySelector(f)),this._activate(this._element,t),s=function(){var t=i.default.Event("hidden.bs.tab",{relatedTarget:h._element}),r=i.default.Event("shown.bs.tab",{relatedTarget:n});i.default(n).trigger(t);i.default(h._element).trigger(r)},u?this._activate(u,u.parentNode,s):s()))},t.dispose=function(){i.default.removeData(this._element,uu);this._element=null},t._activate=function(n,t,u){var s=this,f=(!t||"UL"!==t.nodeName&&"OL"!==t.nodeName?i.default(t).children(le):i.default(t).find(ae))[0],h=u&&f&&i.default(f).hasClass(he),e=function(){return s._transitionComplete(n,f,u)},o;f&&h?(o=r.getTransitionDurationFromElement(f),i.default(f).removeClass(ce).one(r.TRANSITION_END,e).emulateTransitionEnd(o)):e()},t._transitionComplete=function(n,t,u){var e,f,o,s;t&&(i.default(t).removeClass(wt),e=i.default(t.parentNode).find("> .dropdown-menu .active")[0],e&&i.default(e).removeClass(wt),"tab"===t.getAttribute("role")&&t.setAttribute("aria-selected",!1));i.default(n).addClass(wt);"tab"===n.getAttribute("role")&&n.setAttribute("aria-selected",!0);r.reflow(n);n.classList.contains(he)&&n.classList.add(ce);f=n.parentNode;(f&&"LI"===f.nodeName&&(f=f.parentNode),f&&i.default(f).hasClass("dropdown-menu"))&&(o=i.default(n).closest(".dropdown")[0],o&&(s=[].slice.call(o.querySelectorAll(".dropdown-toggle")),i.default(s).addClass(wt)),n.setAttribute("aria-expanded",!0));u&&u()},n._jQueryInterface=function(t){return this.each(function(){var u=i.default(this),r=u.data(uu);if(r||(r=new n(this),u.data(uu,r)),"string"==typeof t){if("undefined"==typeof r[t])throw new TypeError('No method named "'+t+'"');r[t]()}})},e(n,null,[{key:"VERSION",get:function(){return"4.6.1"}}]),n}();i.default(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"], [data-toggle="list"]',function(n){n.preventDefault();bt._jQueryInterface.call(i.default(this),"show")});i.default.fn.tab=bt._jQueryInterface;i.default.fn.tab.Constructor=bt;i.default.fn.tab.noConflict=function(){return i.default.fn.tab=ks,bt._jQueryInterface};var fu="bs.toast",ds=i.default.fn.toast,ve="hide",kt="show",ye="showing",pe="click.dismiss.bs.toast",we={animation:!0,autohide:!0,delay:500},gs={animation:"boolean",autohide:"boolean",delay:"number"},ki=function(){function t(n,t){this._element=n;this._config=this._getConfig(t);this._timeout=null;this._setListeners()}var n=t.prototype;return n.show=function(){var n=this,u=i.default.Event("show.bs.toast"),t,f;(i.default(this._element).trigger(u),u.isDefaultPrevented())||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),t=function(){n._element.classList.remove(ye);n._element.classList.add(kt);i.default(n._element).trigger("shown.bs.toast");n._config.autohide&&(n._timeout=setTimeout(function(){n.hide()},n._config.delay))},(this._element.classList.remove(ve),r.reflow(this._element),this._element.classList.add(ye),this._config.animation)?(f=r.getTransitionDurationFromElement(this._element),i.default(this._element).one(r.TRANSITION_END,t).emulateTransitionEnd(f)):t())},n.hide=function(){if(this._element.classList.contains(kt)){var n=i.default.Event("hide.bs.toast");i.default(this._element).trigger(n);n.isDefaultPrevented()||this._close()}},n.dispose=function(){this._clearTimeout();this._element.classList.contains(kt)&&this._element.classList.remove(kt);i.default(this._element).off(pe);i.default.removeData(this._element,fu);this._element=null;this._config=null},n._getConfig=function(n){return n=u({},we,i.default(this._element).data(),"object"==typeof n&&n?n:{}),r.typeCheckConfig("toast",n,this.constructor.DefaultType),n},n._setListeners=function(){var n=this;i.default(this._element).on(pe,'[data-dismiss="toast"]',function(){return n.hide()})},n._close=function(){var n=this,t=function(){n._element.classList.add(ve);i.default(n._element).trigger("hidden.bs.toast")},u;(this._element.classList.remove(kt),this._config.animation)?(u=r.getTransitionDurationFromElement(this._element),i.default(this._element).one(r.TRANSITION_END,t).emulateTransitionEnd(u)):t()},n._clearTimeout=function(){clearTimeout(this._timeout);this._timeout=null},t._jQueryInterface=function(n){return this.each(function(){var u=i.default(this),r=u.data(fu);if(r||(r=new t(this,"object"==typeof n&&n),u.data(fu,r)),"string"==typeof n){if("undefined"==typeof r[n])throw new TypeError('No method named "'+n+'"');r[n](this)}})},e(t,null,[{key:"VERSION",get:function(){return"4.6.1"}},{key:"DefaultType",get:function(){return gs}},{key:"Default",get:function(){return we}}]),t}();i.default.fn.toast=ki._jQueryInterface;i.default.fn.toast.Constructor=ki;i.default.fn.toast.noConflict=function(){return i.default.fn.toast=ds,ki._jQueryInterface};n.Alert=p;n.Button=et;n.Carousel=k;n.Collapse=st;n.Dropdown=c;n.Modal=vt;n.Popover=bi;n.Scrollspy=pt;n.Tab=bt;n.Toast=ki;n.Tooltip=a;n.Util=r;Object.defineProperty(n,"__esModule",{value:!0})});
/*!
   Copyright 2008-2021 SpryMedia Ltd.
 This source file is free software, available under the following license:
   MIT license - http://datatables.net/license
 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 For details please refer to: http://www.datatables.net
 DataTables 1.11.4
 2008-2021 SpryMedia Ltd - datatables.net/license
*/
$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(n,t,i){var f,r,u;for(n instanceof String&&(n=String(n)),f=n.length,r=0;r<f;r++)if(u=n[r],t.call(i,u,r,n))return{i:r,v:u};return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,t,i){return n==Array.prototype||n==Object.prototype?n:(n[t]=i.value,n)};$jscomp.getGlobal=function(n){var t,i;for(n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],t=0;t<n.length;++t)if(i=n[t],i&&i.Math==Math)return i;throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp$lookupPolyfilledValue=function(n,t){var i=$jscomp.propertyToPolyfillSymbol[t];return null==i?n[t]:(i=n[i],void 0!==i?i:n[t])};$jscomp.polyfill=function(n,t,i,r){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(n,t,i,r):$jscomp.polyfillUnisolated(n,t,i,r))};$jscomp.polyfillUnisolated=function(n,t,i,r){for(i=$jscomp.global,n=n.split("."),r=0;r<n.length-1;r++){var u=n[r];if(!(u in i))return;i=i[u]}n=n[n.length-1];r=i[n];t=t(r);t!=r&&null!=t&&$jscomp.defineProperty(i,n,{configurable:!0,writable:!0,value:t})};$jscomp.polyfillIsolated=function(n,t,i,r){var u=n.split("."),f,e;for(n=1===u.length,r=u[0],r=!n&&(r in $jscomp.polyfills)?$jscomp.polyfills:$jscomp.global,f=0;f<u.length-1;f++){if(e=u[f],!(e in r))return;r=r[e]}u=u[u.length-1];i=$jscomp.IS_SYMBOL_NATIVE&&"es6"===i?r[u]:null;t=t(i);null!=t&&(n?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:t}):t!==i&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):$jscomp.POLYFILL_PREFIX+u,u=$jscomp.propertyToPolyfillSymbol[u],$jscomp.defineProperty(r,u,{configurable:!0,writable:!0,value:t})))};$jscomp.polyfill("Array.prototype.find",function(n){return n?n:function(n,t){return $jscomp.findInternal(this,n,t).v}},"es6","es3"),function(n){"function"==typeof define&&define.amd?define(["jquery"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i||(i="undefined"!=typeof window?require("jquery"):require("jquery")(t)),n(i,t,t.document)}:window.DataTable=n(jQuery,window,document)}(function(n,t,i,r){function at(t){var i,r,u={};n.each(t,function(n){(i=n.match(/^([^A-Z]+?)([A-Z])/))&&-1!=="a aa ai ao as b fn i m o s ".indexOf(i[1]+" ")&&(r=n.replace(i[0],i[2].toLowerCase()),u[r]=n,"o"===i[1]&&at(t[n]))});t._hungarianMap=u}function nt(t,i,u){t._hungarianMap||at(t);var f;n.each(i,function(e){f=t._hungarianMap[e];f!==r&&(u||i[f]===r)&&("o"===f.charAt(0)?(i[f]||(i[f]={}),n.extend(!0,i[f],i[e]),nt(t[f],i[f],u)):i[f]=i[e])})}function tr(n){var t=u.defaults.oLanguage,i=t.sDecimal,r;i&&dr(i);n&&(r=n.sZeroRecords,!n.sEmptyTable&&r&&"No data available in table"===t.sEmptyTable&&k(n,n,"sZeroRecords","sEmptyTable"),!n.sLoadingRecords&&r&&"Loading..."===t.sLoadingRecords&&k(n,n,"sZeroRecords","sLoadingRecords"),n.sInfoThousands&&(n.sThousands=n.sInfoThousands),(n=n.sDecimal)&&i!==n&&dr(n))}function lu(n){if(p(n,"ordering","bSort"),p(n,"orderMulti","bSortMulti"),p(n,"orderClasses","bSortClasses"),p(n,"orderCellsTop","bSortCellsTop"),p(n,"order","aaSorting"),p(n,"orderFixed","aaSortingFixed"),p(n,"paging","bPaginate"),p(n,"pagingType","sPaginationType"),p(n,"pageLength","iDisplayLength"),p(n,"searching","bFilter"),"boolean"==typeof n.sScrollX&&(n.sScrollX=n.sScrollX?"100%":""),"boolean"==typeof n.scrollX&&(n.scrollX=n.scrollX?"100%":""),n=n.aoSearchCols)for(var t=0,i=n.length;t<i;t++)n[t]&&nt(u.models.oSearch,n[t])}function au(n){p(n,"orderable","bSortable");p(n,"orderData","aDataSort");p(n,"orderSequence","asSorting");p(n,"orderDataType","sortDataType");var t=n.aDataSort;"number"!=typeof t||Array.isArray(t)||(n.aDataSort=[t])}function vu(i){var r;if(!u.__browser){r={};u.__browser=r;var e=n("<div/>").css({position:"fixed",top:0,left:-1*n(t).scrollLeft(),height:1,width:1,overflow:"hidden"}).append(n("<div/>").css({position:"absolute",top:1,left:1,width:100,overflow:"scroll"}).append(n("<div/>").css({width:"100%",height:10}))).appendTo("body"),f=e.children(),o=f.children();r.barWidth=f[0].offsetWidth-f[0].clientWidth;r.bScrollOversize=100===o[0].offsetWidth&&100!==f[0].clientWidth;r.bScrollbarLeft=1!==Math.round(o.offset().left);r.bBounding=e[0].getBoundingClientRect().width?!0:!1;e.remove()}n.extend(i.oBrowser,u.__browser);i.oScroll.iBarWidth=u.__browser.barWidth}function yu(n,t,i,u,f,e){var s=!1,o;for(i!==r&&(o=i,s=!0);u!==f;)n.hasOwnProperty(u)&&(o=s?t(o,n[u],u,n):n[u],s=!0,u+=e);return o}function ir(t,r){var f=u.defaults.column,e=t.aoColumns.length;f=n.extend({},u.models.oColumn,f,{nTh:r?r:i.createElement("th"),sTitle:f.sTitle?f.sTitle:r?r.innerHTML:"",aDataSort:f.aDataSort?f.aDataSort:[e],mData:f.mData?f.mData:e,idx:e});t.aoColumns.push(f);f=t.aoPreSearchCols;f[e]=n.extend({},u.models.oSearch,f[e]);fi(t,e,n(r).data())}function fi(t,i,f){var e,s,h;i=t.aoColumns[i];e=t.oClasses;s=n(i.nTh);i.sWidthOrig||(i.sWidthOrig=s.attr("width")||null,h=(s.attr("style")||"").match(/width:\s*(\d+[pxem%]+)/),h&&(i.sWidthOrig=h[1]));f!==r&&null!==f&&(au(f),nt(u.defaults.column,f,!0),f.mDataProp===r||f.mData||(f.mData=f.mDataProp),f.sType&&(i._sManualType=f.sType),f.className&&!f.sClass&&(f.sClass=f.className),f.sClass&&s.addClass(f.sClass),n.extend(i,f),k(i,f,"sWidth","sWidthOrig"),f.iDataSort!==r&&(i.aDataSort=[f.iDataSort]),k(i,f,"aDataSort"));var o=i.mData,l=lt(o),c=i.mRender?lt(i.mRender):null;f=function(n){return"string"==typeof n&&-1!==n.indexOf("@")};i._bAttrSrc=n.isPlainObject(o)&&(f(o.sort)||f(o.type)||f(o.filter));i._setter=null;i.fnGetData=function(n,t,i){var u=l(n,t,r,i);return c&&t?c(u,t,n,i):u};i.fnSetData=function(n,t,i){return ut(o)(n,t,i)};"number"!=typeof o&&(t._rowReadObject=!0);t.oFeatures.bSort||(i.bSortable=!1,s.addClass(e.sSortableNone));t=-1!==n.inArray("asc",i.asSorting);f=-1!==n.inArray("desc",i.asSorting);i.bSortable&&(t||f)?t&&!f?(i.sSortingClass=e.sSortableAsc,i.sSortingClassJUI=e.sSortJUIAscAllowed):!t&&f?(i.sSortingClass=e.sSortableDesc,i.sSortingClassJUI=e.sSortJUIDescAllowed):(i.sSortingClass=e.sSortable,i.sSortingClassJUI=e.sSortJUI):(i.sSortingClass=e.sSortableNone,i.sSortingClassJUI="")}function vt(n){var t,i,r;if(!1!==n.oFeatures.bAutoWidth)for(t=n.aoColumns,lr(n),i=0,r=t.length;i<r;i++)t[i].nTh.style.width=t[i].sWidth;t=n.oScroll;""===t.sY&&""===t.sX||yi(n);o(n,null,"column-sizing",[n])}function yt(n,t){return n=ei(n,"bVisible"),"number"==typeof n[t]?n[t]:null}function pt(t,i){return t=ei(t,"bVisible"),i=n.inArray(i,t),-1!==i?i:null}function et(t){var i=0;return n.each(t.aoColumns,function(t,r){r.bVisible&&"none"!==n(r.nTh).css("display")&&i++}),i}function ei(t,i){var r=[];return n.map(t.aoColumns,function(n,t){n[i]&&r.push(t)}),r}function rr(n){for(var c=n.aoColumns,p=n.aoData,h=u.ext.type.detect,a,v,s=0,t,f,e,i,o,l=c.length;s<l;s++)if(t=c[s],f=[],!t.sType&&t._sManualType)t.sType=t._sManualType;else if(!t.sType){for(e=0,a=h.length;e<a;e++){for(i=0,v=p.length;i<v;i++){if(f[i]===r&&(f[i]=y(n,i,s,"type")),o=h[e](f[i],n),!o&&e!==h.length-1)break;if("html"===o&&!g(f[i]))break}if(o){t.sType=o;break}}t.sType||(t.sType="string")}}function pu(t,i,u,f){var s,a,v,l=t.aoColumns,h,e,o,c;if(i)for(s=i.length-1;0<=s;s--)for(h=i[s],e=h.targets!==r?h.targets:h.aTargets,Array.isArray(e)||(e=[e]),o=0,a=e.length;o<a;o++)if("number"==typeof e[o]&&0<=e[o]){for(;l.length<=e[o];)ir(t);f(e[o],h)}else if("number"==typeof e[o]&&0>e[o])f(l.length+e[o],h);else if("string"==typeof e[o])for(c=0,v=l.length;c<v;c++)("_all"==e[o]||n(l[c].nTh).hasClass(e[o]))&&f(c,h);if(u)for(s=0,t=u.length;s<t;s++)f(s,u[s])}function it(t,i,f,e){var o=t.aoData.length,s=n.extend(!0,{},u.models.oRow,{src:f?"dom":"data",idx:o});s._aData=i;t.aoData.push(s);for(var c=t.aoColumns,h=0,l=c.length;h<l;h++)c[h].sType=null;return t.aiDisplayMaster.push(o),i=t.rowIdFn(i),i!==r&&(t.aIds[i]=s),!f&&t.oFeatures.bDeferRender||or(t,o,f,e),o}function oi(t,i){var r;return i instanceof n||(i=n(i)),i.map(function(n,i){return r=er(t,i),it(t,r.data,i,r.cells)})}function y(n,t,i,f){"search"===f?f="filter":"order"===f&&(f="sort");var c=n.iDraw,o=n.aoColumns[i],h=n.aoData[t]._aData,s=o.sDefaultContent,e=o.fnGetData(h,f,{settings:n,row:t,col:i});if(e===r)return n.iDrawError!=c&&null===s&&(tt(n,0,"Requested unknown parameter "+("function"==typeof o.mData?"{function}":"'"+o.mData+"'")+" for row "+t+", column "+i,4),n.iDrawError=c),s;if((e===h||null===e)&&null!==s&&f!==r)e=s;else if("function"==typeof e)return e.call(h);return null===e&&"display"===f?"":("filter"===f&&(n=u.ext.type.search,n[o.sType]&&(e=n[o.sType](e))),e)}function wu(n,t,i,r){n.aoColumns[i].fnSetData(n.aoData[t]._aData,r,{settings:n,row:t,col:i})}function ur(t){return n.map(t.match(/(\\.|[^\.])+/g)||[""],function(n){return n.replace(/\\\./g,".")})}function fr(n){return b(n.aoData,"_aData")}function si(n){n.aoData.length=0;n.aiDisplayMaster.length=0;n.aiDisplay.length=0;n.aIds={}}function hi(n,t,i){for(var f=-1,u=0,e=n.length;u<e;u++)n[u]==t?f=u:n[u]>t&&n[u]--;-1!=f&&i===r&&n.splice(f,1)}function wt(n,t,i,u){var f=n.aoData[t],s,e=function(i,r){for(;i.childNodes.length;)i.removeChild(i.firstChild);i.innerHTML=y(n,t,r,"display")},o;if("dom"!==i&&(i&&"auto"!==i||"dom"!==f.src)){if(o=f.anCells,o)if(u!==r)e(o[u],u);else for(i=0,s=o.length;i<s;i++)e(o[i],i)}else f._aData=er(n,f,u,u===r?r:f._aData).data;if(f._aSortData=null,f._aFilterData=null,e=n.aoColumns,u!==r)e[u].sType=null;else{for(i=0,s=e.length;i<s;i++)e[i].sType=null;sr(n,f)}}function er(n,t,i,u){var o=[],f=t.firstChild,e,h=0,c,y=n.aoColumns,v=n._rowReadObject,l,a,s;if(u=u!==r?u:v?{}:[],l=function(n,t){if("string"==typeof n){var i=n.indexOf("@");-1!==i&&(i=n.substring(i+1),ut(n)(u,t.getAttribute(i)))}},a=function(n){(i===r||i===h)&&(e=y[h],c=n.innerHTML.trim(),e&&e._bAttrSrc?(ut(e.mData._)(u,c),l(e.mData.sort,n),l(e.mData.type,n),l(e.mData.filter,n)):v?(e._setter||(e._setter=ut(e.mData)),e._setter(u,c)):u[h]=c);h++},f)for(;f;)s=f.nodeName.toUpperCase(),("TD"==s||"TH"==s)&&(a(f),o.push(f)),f=f.nextSibling;else for(o=t.anCells,f=0,s=o.length;f<s;f++)a(o[f]);return(t=t.firstChild?t:t.nTr)&&(t=t.getAttribute("id"))&&ut(n.rowId)(u,t),{data:u,cells:o}}function or(t,r,u,f){var e=t.aoData[r],a=e._aData,l=[],v,p,c,h,s;if(null===e.nTr){for(c=u||i.createElement("tr"),e.nTr=c,e.anCells=l,c._DT_RowIndex=r,sr(t,e),h=0,v=t.aoColumns.length;h<v;h++)s=t.aoColumns[h],e=(p=u?!1:!0)?i.createElement(s.sCellType):f[h],e._DT_CellIndex={row:r,column:h},l.push(e),!p&&(!s.mRender&&s.mData===h||n.isPlainObject(s.mData)&&s.mData._===h+".display")||(e.innerHTML=y(t,r,h,"display")),s.sClass&&(e.className+=" "+s.sClass),s.bVisible&&!u?c.appendChild(e):!s.bVisible&&u&&e.parentNode.removeChild(e),s.fnCreatedCell&&s.fnCreatedCell.call(t.oInstance,e,y(t,r,h),a,r,h);o(t,"aoRowCreatedCallback",null,[c,a,r,l])}}function sr(t,i){var u=i.nTr,r=i._aData;u&&((t=t.rowIdFn(r))&&(u.id=t),r.DT_RowClass&&(t=r.DT_RowClass.split(" "),i.__rowc=i.__rowc?ki(i.__rowc.concat(t)):t,n(u).removeClass(i.__rowc.join(" ")).addClass(r.DT_RowClass)),r.DT_RowAttr&&n(u).attr(r.DT_RowAttr),r.DT_RowData&&n(u).data(r.DT_RowData))}function bu(t){var f,c,e=t.nTHead,l=t.nTFoot,o=0===n("th, td",e).length,s=t.oClasses,h=t.aoColumns,r,i,u;for(o&&(c=n("<tr/>").appendTo(e)),r=0,f=h.length;r<f;r++)i=h[r],u=n(i.nTh).addClass(i.sClass),o&&u.appendTo(c),t.oFeatures.bSort&&(u.addClass(i.sSortingClass),!1!==i.bSortable&&(u.attr("tabindex",t.iTabIndex).attr("aria-controls",t.sTableId),vr(t,i.nTh,r))),i.sTitle!=u[0].innerHTML&&u.html(i.sTitle),kr(t,"header")(t,u,i,s);if(o&&kt(t.aoHeader,e),n(e).children("tr").children("th, td").addClass(s.sHeaderTH),n(l).children("tr").children("th, td").addClass(s.sFooterTH),null!==l)for(t=t.aoFooter[0],r=0,f=t.length;r<f;r++)i=h[r],i.nTf=t[r].cell,i.sClass&&n(i.nTf).addClass(i.sClass)}function bt(t,i,u){var l,e,o=[],c=[],s=t.aoColumns.length,f,h;if(i){for(u===r&&(u=!1),f=0,l=i.length;f<l;f++){for(o[f]=i[f].slice(),o[f].nTr=i[f].nTr,e=s-1;0<=e;e--)t.aoColumns[e].bVisible||u||o[f].splice(e,1);c.push([])}for(f=0,l=o.length;f<l;f++){if(t=o[f].nTr)for(;e=t.firstChild;)t.removeChild(e);for(e=0,i=o[f].length;e<i;e++)if(h=s=1,c[f][e]===r){for(t.appendChild(o[f][e].cell),c[f][e]=1;o[f+s]!==r&&o[f][e].cell==o[f+s][e].cell;)c[f+s][e]=1,s++;for(;o[f][e+h]!==r&&o[f][e].cell==o[f][e+h].cell;){for(u=0;u<s;u++)c[f+u][e+h]=1;h++}n(o[f][e].cell).attr("rowspan",s).attr("colspan",h)}}}}function rt(t,i){var s="ssp"==a(t),u=t.iInitDisplayStart,e,c,v,y;if(u!==r&&-1!==u&&(t._iDisplayStart=s?u:u>=t.fnRecordsDisplay()?0:u,t.iInitDisplayStart=-1),s=o(t,"aoPreDrawCallback","preDraw",[t]),-1!==n.inArray(!1,s))w(t,!1);else{s=[];e=0;u=t.asStripeClasses;var p=u.length,f=t.oLanguage,h="ssp"==a(t),l=t.aiDisplay,b=t._iDisplayStart,k=t.fnDisplayEnd();if(t.bDrawing=!0,t.bDeferLoading)t.bDeferLoading=!1,t.iDraw++,w(t,!1);else if(h){if(!t.bDestroying&&!i){du(t);return}}else t.iDraw++;if(0!==l.length)for(i=h?t.aoData.length:k,f=h?0:b;f<i;f++)h=l[f],c=t.aoData[h],null===c.nTr&&or(t,h),v=c.nTr,0!==p&&(y=u[e%p],c._sRowStripe!=y&&(n(v).removeClass(c._sRowStripe).addClass(y),c._sRowStripe=y)),o(t,"aoRowCallback",null,[v,c._aData,e,f,h]),s.push(v),e++;else e=f.sZeroRecords,1==t.iDraw&&"ajax"==a(t)?e=f.sLoadingRecords:f.sEmptyTable&&0===t.fnRecordsTotal()&&(e=f.sEmptyTable),s[0]=n("<tr/>",{"class":p?u[0]:""}).append(n("<td />",{valign:"top",colSpan:et(t),"class":t.oClasses.sRowEmpty}).html(e))[0];o(t,"aoHeaderCallback","header",[n(t.nTHead).children("tr")[0],fr(t),b,k,l]);o(t,"aoFooterCallback","footer",[n(t.nTFoot).children("tr")[0],fr(t),b,k,l]);u=n(t.nTBody);u.children().detach();u.append(n(s));o(t,"aoDrawCallback","draw",[t]);t.bSorted=!1;t.bFiltered=!1;t.bDrawing=!1}}function ft(n,t){var i=n.oFeatures,r=i.bFilter;i.bSort&&df(n);r?gt(n,n.oPreviousSearch):n.aiDisplay=n.aiDisplayMaster.slice();!0!==t&&(n._iDisplayStart=0);n._drawHold=t;rt(n);n._drawHold=!1}function ku(t){var v=t.oClasses,y=n(t.nTable),l,h,a,e,r,i,o,f,s,c;for(y=n("<div/>").insertBefore(y),l=t.oFeatures,h=n("<div/>",{id:t.sTableId+"_wrapper","class":v.sWrapper+(t.nTFoot?"":" "+v.sNoFooter)}),t.nHolding=y[0],t.nTableWrapper=h[0],t.nTableReinsertBefore=t.nTable.nextSibling,a=t.sDom.split(""),c=0;c<a.length;c++){if(e=null,r=a[c],"<"==r){if(i=n("<div/>")[0],o=a[c+1],"'"==o||'"'==o){for(f="",s=2;a[c+s]!=o;)f+=a[c+s],s++;"H"==f?f=v.sJUIHeader:"F"==f&&(f=v.sJUIFooter);-1!=f.indexOf(".")?(o=f.split("."),i.id=o[0].substr(1,o[0].length-1),i.className=o[1]):"#"==f.charAt(0)?i.id=f.substr(1,f.length-1):i.className=f;c+=s}h.append(i);h=n(i)}else if(">"==r)h=h.parent();else if("l"==r&&l.bPaginate&&l.bLengthChange)e=af(t);else if("f"==r&&l.bFilter)e=tf(t);else if("r"==r&&l.bProcessing)e=yf(t);else if("t"==r)e=pf(t);else if("i"==r&&l.bInfo)e=hf(t);else if("p"==r&&l.bPaginate)e=vf(t);else if(0!==u.ext.feature.length)for(i=u.ext.feature,s=0,o=i.length;s<o;s++)if(r==i[s].cFeature){e=i[s].fnInit(t);break}e&&(i=t.aanFeatures,i[r]||(i[r]=[]),i[r].push(e),h.append(e))}y.replaceWith(h);t.nHolding=null}function kt(t,i){var u,s,h,r,c,e,o,f,l,a;for(i=n(i).children("tr"),t.splice(0,t.length),r=0,h=i.length;r<h;r++)t.push([]);for(r=0,h=i.length;r<h;r++)for(c=i[r],u=c.firstChild;u;){if("TD"==u.nodeName.toUpperCase()||"TH"==u.nodeName.toUpperCase()){for(e=1*u.getAttribute("colspan"),o=1*u.getAttribute("rowspan"),e=e&&0!==e&&1!==e?e:1,o=o&&0!==o&&1!==o?o:1,f=0,s=t[r];s[f];)f++;for(l=f,a=1===e?!0:!1,s=0;s<e;s++)for(f=0;f<o;f++)t[r+f][l+s]={cell:u,unique:a},t[r+f].nTr=c}u=u.nextSibling}}function ci(n,t,i){var u=[],f,r,e;for(i||(i=n.aoHeader,t&&(i=[],kt(i,t))),t=0,f=i.length;t<f;t++)for(r=0,e=i[t].length;r<e;r++)!i[t][r].unique||u[r]&&n.bSortCellsTop||(u[r]=i[t][r].cell);return u}function li(t,i,r){var e,c,s,f;o(t,"aoServerParams","serverParams",[i]);i&&Array.isArray(i)&&(e={},c=/(.*?)\[\]$/,n.each(i,function(n,t){(n=t.name.match(c))?(n=n[0],e[n]||(e[n]=[]),e[n].push(t.value)):e[t.name]=t.value}),i=e);var u=t.ajax,l=t.oInstance,h=function(n){var i=t.jqXHR?t.jqXHR.status:null;(null===n||"number"==typeof i&&204==i)&&(n={},dt(t,n,[]));(i=n.error||n.sError)&&tt(t,0,i);t.json=n;o(t,null,"xhr",[t,n,t.jqXHR]);r(n)};n.isPlainObject(u)&&u.data&&(s=u.data,f="function"==typeof s?s(i,t):s,i="function"==typeof s&&f?f:n.extend(!0,i,f),delete u.data);f={data:i,success:h,dataType:"json",cache:!1,type:t.sServerMethod,error:function(i,r,u){u=o(t,null,"xhr",[t,null,t.jqXHR]);-1===n.inArray(!0,u)&&("parsererror"==r?tt(t,0,"Invalid JSON response",1):4===i.readyState&&tt(t,0,"Ajax error",7));w(t,!1)}};t.oAjaxData=i;o(t,null,"preXhr",[t,i]);t.fnServerData?t.fnServerData.call(l,t.sAjaxSource,n.map(i,function(n,t){return{name:t,value:n}}),h,t):t.sAjaxSource||"string"==typeof u?t.jqXHR=n.ajax(n.extend(f,{url:u||t.sAjaxSource})):"function"==typeof u?t.jqXHR=u.call(l,i,h,t):(t.jqXHR=n.ajax(n.extend(f,u)),u.data=s)}function du(n){n.iDraw++;w(n,!0);li(n,gu(n),function(t){nf(n,t)})}function gu(t){var e=t.aoColumns,v=e.length,o=t.oFeatures,l=t.oPreviousSearch,p=t.aoPreSearchCols,a=[],y=ot(t),r=t._iDisplayStart,s=!1!==o.bPaginate?t._iDisplayLength:-1,i=function(n,t){a.push({name:n,value:t})},h,f,c;for(i("sEcho",t.iDraw),i("iColumns",v),i("sColumns",b(e,"sName").join(",")),i("iDisplayStart",r),i("iDisplayLength",s),h={draw:t.iDraw,columns:[],order:[],start:r,length:s,search:{value:l.sSearch,regex:l.bRegex}},r=0;r<v;r++)f=e[r],c=p[r],s="function"==typeof f.mData?"function":f.mData,h.columns.push({data:s,name:f.sName,searchable:f.bSearchable,orderable:f.bSortable,search:{value:c.sSearch,regex:c.bRegex}}),i("mDataProp_"+r,s),o.bFilter&&(i("sSearch_"+r,c.sSearch),i("bRegex_"+r,c.bRegex),i("bSearchable_"+r,f.bSearchable)),o.bSort&&i("bSortable_"+r,f.bSortable);return o.bFilter&&(i("sSearch",l.sSearch),i("bRegex",l.bRegex)),o.bSort&&(n.each(y,function(n,t){h.order.push({column:t.col,dir:t.dir});i("iSortCol_"+n,t.col);i("sSortDir_"+n,t.dir)}),i("iSortingCols",y.length)),e=u.ext.legacy.ajax,null===e?t.sAjaxSource?a:h:e?a:h}function nf(n,t){var u=function(n,i){return t[n]!==r?t[n]:t[i]},f=dt(n,t),i=u("sEcho","draw"),e=u("iTotalRecords","recordsTotal");if(u=u("iTotalDisplayRecords","recordsFiltered"),i!==r){if(1*i<n.iDraw)return;n.iDraw=1*i}for(f||(f=[]),si(n),n._iRecordsTotal=parseInt(e,10),n._iRecordsDisplay=parseInt(u,10),i=0,e=f.length;i<e;i++)it(n,f[i]);n.aiDisplay=n.aiDisplayMaster.slice();rt(n,!0);n._bInitComplete||ai(n,t);w(n,!1)}function dt(t,i,u){if(t=n.isPlainObject(t.ajax)&&t.ajax.dataSrc!==r?t.ajax.dataSrc:t.sAjaxDataProp,!u)return"data"===t?i.aaData||i[t]:""!==t?lt(t)(i):i;ut(t)(i,u)}function tf(t){var u=t.oClasses,h=t.sTableId,c=t.oLanguage,r=t.oPreviousSearch,e=t.aanFeatures,l='<input type="search" class="'+u.sFilterInput+'"/>',f=c.sSearch,o,s;f=f.match(/_INPUT_/)?f.replace("_INPUT_",l):f+l;u=n("<div/>",{id:e.f?null:h+"_filter","class":u.sFilter}).append(n("<label/>").append(f));o=function(n){var i=this.value?this.value:"";r.return&&"Enter"!==n.key||i==r.sSearch||(gt(t,{sSearch:i,bRegex:r.bRegex,bSmart:r.bSmart,bCaseInsensitive:r.bCaseInsensitive,"return":r.return}),t._iDisplayStart=0,rt(t))};e=null!==t.searchDelay?t.searchDelay:"ssp"===a(t)?400:0;s=n("input",u).val(r.sSearch).attr("placeholder",c.sSearchPlaceholder).on("keyup.DT search.DT input.DT paste.DT cut.DT",e?ru(o,e):o).on("mouseup",function(n){setTimeout(function(){o.call(s[0],n)},10)}).on("keypress.DT",function(n){if(13==n.keyCode)return!1}).attr("aria-controls",h);n(t.nTable).on("search.dt.DT",function(n,u){if(t===u)try{s[0]!==i.activeElement&&s.val(r.sSearch)}catch(f){}});return u[0]}function gt(n,t,i){var u=n.oPreviousSearch,f=n.aoPreSearchCols,e=function(n){u.sSearch=n.sSearch;u.bRegex=n.bRegex;u.bSmart=n.bSmart;u.bCaseInsensitive=n.bCaseInsensitive;u.return=n.return},s=function(n){return n.bEscapeRegex!==r?!n.bEscapeRegex:n.bRegex};if(rr(n),"ssp"!=a(n)){for(ff(n,t.sSearch,i,s(t),t.bSmart,t.bCaseInsensitive,t.return),e(t),t=0;t<f.length;t++)uf(n,f[t].sSearch,t,s(f[t]),f[t].bSmart,f[t].bCaseInsensitive);rf(n)}else e(t);n.bFiltered=!0;o(n,null,"search",[n])}function rf(t){for(var s=u.ext.search,i=t.aiDisplay,e,r,o=0,c=s.length;o<c;o++){for(var h=[],f=0,l=i.length;f<l;f++)r=i[f],e=t.aoData[r],s[o](t,e._aFilterData,r,e._aData,f)&&h.push(r);i.length=0;n.merge(i,h)}}function uf(n,t,i,r,u,f){if(""!==t){var o=[],e=n.aiDisplay;for(r=hr(t,r,u,f),u=0;u<e.length;u++)t=n.aoData[e[u]]._aFilterData[i],r.test(t)&&o.push(e[u]);n.aiDisplay=o}}function ff(n,t,i,r,f,e){var o,s,h;if(f=hr(t,r,f,e),o=n.oPreviousSearch.sSearch,s=n.aiDisplayMaster,e=[],0!==u.ext.search.length&&(i=!0),h=ef(n),0>=t.length)n.aiDisplay=s.slice();else{for((h||i||r||o.length>t.length||0!==t.indexOf(o)||n.bSorted)&&(n.aiDisplay=s.slice()),t=n.aiDisplay,i=0;i<t.length;i++)f.test(n.aoData[t[i]]._sFilterRow)&&e.push(t[i]);n.aiDisplay=e}}function hr(t,i,r,u){return t=i?t:iu(t),r&&(t="^(?=.*?"+n.map(t.match(/"[^"]+"|[^ ]+/g)||[""],function(n){if('"'===n.charAt(0)){var t=n.match(/^"(.*)"$/);n=t?t[1]:n}return n.replace('"',"")}).join(")(?=.*?")+").*$"),new RegExp(t,u?"i":"")}function ef(n){for(var e=n.aoColumns,s,i=!1,r=0,u,f,t,o=n.aoData.length;r<o;r++)if(u=n.aoData[r],!u._aFilterData){for(f=[],i=0,s=e.length;i<s;i++)t=e[i],t.bSearchable?(t=y(n,r,i,"filter"),null===t&&(t=""),"string"!=typeof t&&t.toString&&(t=t.toString())):t="",t.indexOf&&-1!==t.indexOf("&")&&(di.innerHTML=t,t=we?di.textContent:di.innerText),t.replace&&(t=t.replace(/[\r\n\u2028]/g,"")),f.push(t);u._aFilterData=f;u._sFilterRow=f.join("  ");i=!0}return i}function of(n){return{search:n.sSearch,smart:n.bSmart,regex:n.bRegex,caseInsensitive:n.bCaseInsensitive}}function sf(n){return{sSearch:n.search,bSmart:n.smart,bRegex:n.regex,bCaseInsensitive:n.caseInsensitive}}function hf(t){var i=t.sTableId,r=t.aanFeatures.i,u=n("<div/>",{"class":t.oClasses.sInfo,id:r?null:i+"_info"});return r||(t.aoDrawCallback.push({fn:cf,sName:"information"}),u.attr("role","status").attr("aria-live","polite"),n(t.nTable).attr("aria-describedby",i+"_info")),u[0]}function cf(t){var f=t.aanFeatures.i;if(0!==f.length){var i=t.oLanguage,o=t._iDisplayStart+1,s=t.fnDisplayEnd(),e=t.fnRecordsTotal(),u=t.fnRecordsDisplay(),r=u?i.sInfo:i.sInfoEmpty;u!==e&&(r+=" "+i.sInfoFiltered);r+=i.sInfoPostFix;r=lf(t,r);i=i.fnInfoCallback;null!==i&&(r=i.call(t.oInstance,t,o,s,e,u,r));n(f).html(r)}}function lf(n,t){var i=n.fnFormatNumber,u=n._iDisplayStart+1,r=n._iDisplayLength,f=n.fnRecordsDisplay(),e=-1===r;return t.replace(/_START_/g,i.call(n,u)).replace(/_END_/g,i.call(n,n.fnDisplayEnd())).replace(/_MAX_/g,i.call(n,n.fnRecordsTotal())).replace(/_TOTAL_/g,i.call(n,f)).replace(/_PAGE_/g,i.call(n,e?1:Math.ceil(u/r))).replace(/_PAGES_/g,i.call(n,e?1:Math.ceil(f/r)))}function ni(n){var f=n.iInitDisplayStart,i=n.aoColumns,u=n.oFeatures,e=n.bDeferLoading,t,r;if(n.bInitialised){for(ku(n),bu(n),bt(n,n.aoHeader),bt(n,n.aoFooter),w(n,!0),u.bAutoWidth&&lr(n),t=0,u=i.length;t<u;t++)r=i[t],r.sWidth&&(r.nTh.style.width=h(r.sWidth));o(n,null,"preInit",[n]);ft(n);i=a(n);("ssp"!=i||e)&&("ajax"==i?li(n,[],function(i){var r=dt(n,i);for(t=0;t<r.length;t++)it(n,r[t]);n.iInitDisplayStart=f;ft(n);w(n,!1);ai(n,i)},n):(w(n,!1),ai(n)))}else setTimeout(function(){ni(n)},200)}function ai(n,t){n._bInitComplete=!0;(t||n.oInit.aaData)&&vt(n);o(n,null,"plugin-init",[n,t]);o(n,"aoInitComplete","init",[n,t])}function cr(n,t){t=parseInt(t,10);n._iDisplayLength=t;br(n);o(n,null,"length",[n,t])}function af(t){var o=t.oClasses,e=t.sTableId,i=t.aLengthMenu,f=Array.isArray(i[0]),s=f?i[0]:i,r,h,u;for(i=f?i[1]:i,f=n("<select/>",{name:e+"_length","aria-controls":e,"class":o.sLengthSelect}),r=0,h=s.length;r<h;r++)f[0][r]=new Option("number"==typeof i[r]?t.fnFormatNumber(i[r]):i[r],s[r]);u=n("<div><label/><\/div>").addClass(o.sLength);t.aanFeatures.l||(u[0].id=e+"_length");u.children().append(t.oLanguage.sLengthMenu.replace("_MENU_",f[0].outerHTML));n("select",u).val(t._iDisplayLength).on("change.DT",function(){cr(t,n(this).val());rt(t)});n(t.nTable).on("length.dt.DT",function(i,r,f){t===r&&n("select",u).val(f)});return u[0]}function vf(t){var i=t.sPaginationType,r=u.ext.pager[i],e="function"==typeof r,o=function(n){rt(n)},f;return i=n("<div/>").addClass(t.oClasses.sPaging+i)[0],f=t.aanFeatures,e||r.fnInit(t,i,o),f.p||(i.id=t.sTableId+"_paginate",t.aoDrawCallback.push({fn:function(n){var h;if(e){var u=n._iDisplayStart,i=n._iDisplayLength,s=n.fnRecordsDisplay(),t=-1===i;for(u=t?0:Math.ceil(u/i),i=t?1:Math.ceil(s/i),s=r(u,i),t=0,h=f.p.length;t<h;t++)kr(n,"pageButton")(n,f.p[t],t,s,u,i)}else r.fnUpdate(n,o)},sName:"pagination"})),i}function vi(n,t,i){var r=n._iDisplayStart,u=n._iDisplayLength,f=n.fnRecordsDisplay();return 0===f||-1===u?r=0:"number"==typeof t?(r=t*u,r>f&&(r=0)):"first"==t?r=0:"previous"==t?(r=0<=u?r-u:0,0>r&&(r=0)):"next"==t?r+u<f&&(r+=u):"last"==t?r=Math.floor((f-1)/u)*u:tt(n,0,"Unknown paging action: "+t,5),t=n._iDisplayStart!==r,n._iDisplayStart=r,t&&(o(n,null,"page",[n]),i&&rt(n)),t}function yf(t){return n("<div/>",{id:t.aanFeatures.r?null:t.sTableId+"_processing","class":t.oClasses.sProcessing}).html(t.oLanguage.sProcessing).insertBefore(t.nTable)[0]}function w(t,i){t.oFeatures.bProcessing&&n(t.aanFeatures.r).css("display",i?"block":"none");o(t,null,"processing",[t,i])}function pf(t){var i=n(t.nTable),f=t.oScroll,c,l;if(""===f.sX&&""===f.sY)return t.nTable;var u=f.sX,a=f.sY,r=t.oClasses,s=i.children("caption"),v=s.length?s[0]._captionSide:null,e=n(i[0].cloneNode(!1)),y=n(i[0].cloneNode(!1)),o=i.children("tfoot");if(o.length||(o=null),e=n("<div/>",{"class":r.sScrollWrapper}).append(n("<div/>",{"class":r.sScrollHead}).css({overflow:"hidden",position:"relative",border:0,width:u?u?h(u):null:"100%"}).append(n("<div/>",{"class":r.sScrollHeadInner}).css({"box-sizing":"content-box",width:f.sXInner||"100%"}).append(e.removeAttr("id").css("margin-left",0).append("top"===v?s:null).append(i.children("thead"))))).append(n("<div/>",{"class":r.sScrollBody}).css({position:"relative",overflow:"auto",width:u?h(u):null}).append(i)),o&&e.append(n("<div/>",{"class":r.sScrollFoot}).css({overflow:"hidden",border:0,width:u?u?h(u):null:"100%"}).append(n("<div/>",{"class":r.sScrollFootInner}).append(y.removeAttr("id").css("margin-left",0).append("bottom"===v?s:null).append(i.children("tfoot"))))),i=e.children(),c=i[0],r=i[1],l=o?i[2]:null,u)n(r).on("scroll.DT",function(n){n=this.scrollLeft;c.scrollLeft=n;o&&(l.scrollLeft=n)});return n(r).css("max-height",a),f.bCollapse||n(r).css("height",a),t.nScrollHead=c,t.nScrollBody=r,t.nScrollFoot=l,t.aoDrawCallback.push({fn:yi,sName:"scrolling"}),e[0]}function yi(i){var e=i.oScroll,s=e.sX,y=e.sXInner,w=e.sY,a,v,nt;e=e.iBarWidth;var o=n(i.nScrollHead),wt=o[0].style,u=o.children("div"),ot=u[0].style,bt=u.children("table");u=i.nScrollBody;var p=n(u),it=u.style,rt=n(i.nScrollFoot).children("div"),kt=rt.children("table"),k=n(i.nTHead),f=n(i.nTable),st=f[0],g=st.style,c=i.nTFoot?n(i.nTFoot):null,ht=i.oBrowser,ut=ht.bScrollOversize;b(i.aoColumns,"nTh");var ft=[],et=[],ct=[],lt=[],at,pt=function(n){n=n.style;n.paddingTop="0";n.paddingBottom="0";n.borderTopWidth="0";n.borderBottomWidth="0";n.height=0},l=u.scrollHeight>u.clientHeight;i.scrollBarVis!==l&&i.scrollBarVis!==r?(i.scrollBarVis=l,vt(i)):(i.scrollBarVis=l,f.children("thead, tfoot").remove(),c&&(a=c.clone().prependTo(f),v=c.find("tr"),a=a.find("tr")),nt=k.clone().prependTo(f),k=k.find("tr"),l=nt.find("tr"),nt.find("th, td").removeAttr("tabindex"),s||(it.width="100%",o[0].style.width="100%"),n.each(ci(i,nt),function(n,t){at=yt(i,n);t.style.width=i.aoColumns[at].sWidth}),c&&d(function(n){n.style.width=""},a),o=f.outerWidth(),""===s?(g.width="100%",ut&&(f.find("tbody").height()>u.offsetHeight||"scroll"==p.css("overflow-y"))&&(g.width=h(f.outerWidth()-e)),o=f.outerWidth()):""!==y&&(g.width=h(y),o=f.outerWidth()),d(pt,l),d(function(i){var r=t.getComputedStyle?t.getComputedStyle(i).width:h(n(i).width());ct.push(i.innerHTML);ft.push(r)},l),d(function(n,t){n.style.width=ft[t]},k),n(l).height(0),c&&(d(pt,a),d(function(t){lt.push(t.innerHTML);et.push(h(n(t).css("width")))},a),d(function(n,t){n.style.width=et[t]},v),n(a).height(0)),d(function(n,t){n.innerHTML='<div class="dataTables_sizing">'+ct[t]+"<\/div>";n.childNodes[0].style.height="0";n.childNodes[0].style.overflow="hidden";n.style.width=ft[t]},l),c&&d(function(n,t){n.innerHTML='<div class="dataTables_sizing">'+lt[t]+"<\/div>";n.childNodes[0].style.height="0";n.childNodes[0].style.overflow="hidden";n.style.width=et[t]},a),Math.round(f.outerWidth())<Math.round(o)?(v=u.scrollHeight>u.offsetHeight||"scroll"==p.css("overflow-y")?o+e:o,ut&&(u.scrollHeight>u.offsetHeight||"scroll"==p.css("overflow-y"))&&(g.width=h(v-e)),""!==s&&""===y||tt(i,1,"Possible column misalignment",6)):v="100%",it.width=h(v),wt.width=h(v),c&&(i.nScrollFoot.style.width=h(v)),!w&&ut&&(it.height=h(st.offsetHeight+e)),s=f.outerWidth(),bt[0].style.width=h(s),ot.width=h(s),y=f.height()>u.clientHeight||"scroll"==p.css("overflow-y"),w="padding"+(ht.bScrollbarLeft?"Left":"Right"),ot[w]=y?e+"px":"0px",c&&(kt[0].style.width=h(s),rt[0].style.width=h(s),rt[0].style[w]=y?e+"px":"0px"),f.children("colgroup").insertBefore(f.children("thead")),p.trigger("scroll"),(i.bSorted||i.bFiltered)&&!i._drawHold&&(u.scrollTop=0))}function d(n,t,i){for(var e=0,u=0,o=t.length,r,f;u<o;){for(r=t[u].firstChild,f=i?i[u].firstChild:null;r;)1===r.nodeType&&(i?n(r,f,e):n(r,e),e++),r=r.nextSibling,f=i?f.nextSibling:null;u++}}function lr(i){var s=i.nTable,a=i.aoColumns,v=i.oScroll,y=v.sY,p=v.sX,b=v.sXInner,u=a.length,o=ei(i,"bVisible"),c=n("th",i.nTHead),l=s.getAttribute("width"),e=s.parentNode,w=!1,r,k=i.oBrowser,f,d;for(v=k.bScrollOversize,(r=s.style.width)&&-1!==r.indexOf("%")&&(l=r),r=0;r<o.length;r++)f=a[o[r]],null!==f.sWidth&&(f.sWidth=wf(f.sWidthOrig,e),w=!0);if(!v&&(w||p||y||u!=et(i)||u!=c.length)){for(u=n(s).clone().css("visibility","hidden").removeAttr("id"),u.find("tbody tr").remove(),d=n("<tr/>").appendTo(u.find("tbody")),u.find("thead, tfoot").remove(),u.append(n(i.nTHead).clone()).append(n(i.nTFoot).clone()),u.find("tfoot th, tfoot td").css("width",""),c=ci(i,u.find("thead")[0]),r=0;r<o.length;r++)f=a[o[r]],c[r].style.width=null!==f.sWidthOrig&&""!==f.sWidthOrig?h(f.sWidthOrig):"",f.sWidthOrig&&p&&n(c[r]).append(n("<div/>").css({width:f.sWidthOrig,margin:0,padding:0,border:0,height:1}));if(i.aoData.length)for(r=0;r<o.length;r++)w=o[r],f=a[w],n(bf(i,w)).clone(!1).append(f.sContentPadding).appendTo(d);for(n("[name]",u).removeAttr("name"),f=n("<div/>").css(p||y?{position:"absolute",top:0,left:0,height:1,right:0,overflow:"hidden"}:{}).append(u).appendTo(e),p&&b?u.width(b):p?(u.css("width","auto"),u.removeAttr("width"),u.width()<e.clientWidth&&l&&u.width(e.clientWidth)):y?u.width(e.clientWidth):l&&u.width(l),r=y=0;r<o.length;r++)e=n(c[r]),b=e.outerWidth()-e.width(),e=k.bBounding?Math.ceil(c[r].getBoundingClientRect().width):e.outerWidth(),y+=e,a[o[r]].sWidth=h(e-b);s.style.width=h(y);f.remove()}else for(r=0;r<u;r++)o=yt(i,r),null!==o&&(a[o].sWidth=h(c.eq(r).width()));l&&(s.style.width=h(l));(l||p)&&!i._reszEvt&&(s=function(){n(t).on("resize.DT-"+i.sInstance,ru(function(){vt(i)}))},v?setTimeout(s,1e3):s(),i._reszEvt=!0)}function wf(t,r){return t?(t=n("<div/>").css("width",h(t)).appendTo(r||i.body),r=t[0].offsetWidth,t.remove(),r):0}function bf(t,i){var r=kf(t,i),u;return 0>r?null:(u=t.aoData[r],u.nTr?u.anCells[i]:n("<td/>").html(y(t,r,i,"display"))[0])}function kf(n,t){for(var i,u=-1,f=-1,r=0,e=n.aoData.length;r<e;r++)i=y(n,r,t,"display")+"",i=i.replace(be,""),i=i.replace(/&nbsp;/g," "),i.length>u&&(u=i.length,f=r);return f}function h(n){return null===n?"0px":"number"==typeof n?0>n?"0px":n+"px":n.match(/\d$/)?n+"px":n}function ot(t){var a=[],h=t.aoColumns,i=t.aaSortingFixed,o=n.isPlainObject(i),f=[],e=function(t){t.length&&!Array.isArray(t[0])?f.push(t):n.merge(f,t)},c,s,l;for(Array.isArray(i)&&e(i),o&&i.pre&&e(i.pre),e(t.aaSorting),o&&i.post&&e(i.post),t=0;t<f.length;t++)for(c=f[t][0],e=h[c].aDataSort,i=0,o=e.length;i<o;i++)s=e[i],l=h[s].sType||"string",f[t]._idx===r&&(f[t]._idx=n.inArray(f[t][1],h[s].asSorting)),a.push({src:c,col:s,dir:f[t][1],index:f[t]._idx,type:l,formatter:u.ext.type.order[l+"-pre"]});return a}function df(n){var f,r=[],h=u.ext.type.order,e=n.aoData,c=0,o=n.aiDisplayMaster,t,i,s;for(rr(n),t=ot(n),i=0,f=t.length;i<f;i++)s=t[i],s.formatter&&c++,ne(n,s.col);if("ssp"!=a(n)&&0!==t.length){for(i=0,f=o.length;i<f;i++)r[o[i]]=i;c===t.length?o.sort(function(n,i){for(var h=t.length,c=e[n]._aSortData,l=e[i]._aSortData,o=0;o<h;o++){var s=t[o],u=c[s.col],f=l[s.col];if(u=u<f?-1:u>f?1:0,0!==u)return"asc"===s.dir?u:-u}return u=r[n],f=r[i],u<f?-1:u>f?1:0}):o.sort(function(n,i){for(var c=t.length,l=e[n]._aSortData,a=e[i]._aSortData,o=0;o<c;o++){var u=t[o],f=l[u.col],s=a[u.col];if(u=h[u.type+"-"+u.dir]||h["string-"+u.dir],f=u(f,s),0!==f)return f}return f=r[n],s=r[i],f<s?-1:f>s?1:0})}n.bSorted=!0}function gf(n){var e=n.aoColumns,r=ot(n),i,o;for(n=n.oLanguage.oAria,i=0,o=e.length;i<o;i++){var t=e[i],u=t.asSorting,s=t.ariaTitle||t.sTitle.replace(/<.*?>/g,""),f=t.nTh;f.removeAttribute("aria-sort");t.bSortable&&(0<r.length&&r[0].col==i?(f.setAttribute("aria-sort","asc"==r[0].dir?"ascending":"descending"),t=u[r[0].index+1]||u[0]):t=u[0],s+="asc"===t?n.sSortAscending:n.sSortDescending);f.setAttribute("aria-label",s)}}function ar(t,i,u,f){var e=t.aaSorting,o=t.aoColumns[i].asSorting,s=function(t,i){var u=t._idx;return u===r&&(u=n.inArray(t[1],o)),u+1<o.length?u+1:i?null:0};"number"==typeof e[0]&&(e=t.aaSorting=[e]);u&&t.oFeatures.bSortMulti?(u=n.inArray(i,b(e,"0")),-1!==u?(i=s(e[u],!0),null===i&&1===e.length&&(i=0),null===i?e.splice(u,1):(e[u][1]=o[i],e[u]._idx=i)):(e.push([i,o[0],0]),e[e.length-1]._idx=0)):e.length&&e[0][0]==i?(i=s(e[0]),e.length=1,e[0][1]=o[i],e[0]._idx=i):(e.length=0,e.push([i,o[0]]),e[0]._idx=0);ft(t);"function"==typeof f&&f(t)}function vr(n,t,i,r){var u=n.aoColumns[i];wr(t,{},function(t){!1!==u.bSortable&&(n.oFeatures.bProcessing?(w(n,!0),setTimeout(function(){ar(n,i,t.shiftKey,r);"ssp"!==a(n)&&w(n,!1)},0)):ar(n,i,t.shiftKey,r))})}function pi(t){var e=t.aLastSort,o=t.oClasses.sSortColumn,f=ot(t),i=t.oFeatures,r,u;if(i.bSort&&i.bSortClasses){for(i=0,r=e.length;i<r;i++)u=e[i].src,n(b(t.aoData,"anCells",u)).removeClass(o+(2>i?i+1:3));for(i=0,r=f.length;i<r;i++)u=f[i].src,n(b(t.aoData,"anCells",u)).addClass(o+(2>i?i+1:3))}t.aLastSort=f}function ne(n,t){var i=n.aoColumns[t],f=u.ext.order[i.sSortDataType],o;f&&(o=f.call(n.oInstance,n,t,pt(n,t)));for(var e,s=u.ext.type.order[i.sType+"-pre"],r=0,h=n.aoData.length;r<h;r++)(i=n.aoData[r],i._aSortData||(i._aSortData=[]),!i._aSortData[t]||f)&&(e=f?o[r]:y(n,r,t,"sort"),i._aSortData[t]=s?s(e):e)}function st(t){if(!t._bLoadingState){var i={time:+new Date,start:t._iDisplayStart,length:t._iDisplayLength,order:n.extend(!0,[],t.aaSorting),search:of(t.oPreviousSearch),columns:n.map(t.aoColumns,function(n,i){return{visible:n.bVisible,search:of(t.aoPreSearchCols[i])}})};t.oSavedState=i;o(t,"aoStateSaveParams","stateSaveParams",[t,i]);t.oFeatures.bStateSave&&!t.bDestroying&&t.fnStateSaveCallback.call(t.oInstance,t,i)}}function te(n,t,i){if(n.oFeatures.bStateSave)return t=n.fnStateLoadCallback.call(n.oInstance,n,function(t){yr(n,t,i)}),t!==r&&yr(n,t,i),!0;i()}function yr(t,i,f){var l,c=t.aoColumns,s,e,h;if(t._bLoadingState=!0,s=t._bInitComplete?new u.Api(t):null,i&&i.time)if(e=o(t,"aoStateLoadParams","stateLoadParams",[t,i]),-1!==n.inArray(!1,e))t._bLoadingState=!1;else if(e=t.iStateDuration,0<e&&i.time<+new Date-1e3*e)t._bLoadingState=!1;else if(i.columns&&c.length!==i.columns.length)t._bLoadingState=!1;else{if(t.oLoadedState=n.extend(!0,{},i),i.start!==r&&(null===s?(t._iDisplayStart=i.start,t.iInitDisplayStart=i.start):vi(t,i.start/i.length)),i.length!==r&&(t._iDisplayLength=i.length),i.order!==r&&(t.aaSorting=[],n.each(i.order,function(n,i){t.aaSorting.push(i[0]>=c.length?[0,i[1]]:i)})),i.search!==r&&n.extend(t.oPreviousSearch,sf(i.search)),i.columns){for(e=0,l=i.columns.length;e<l;e++)h=i.columns[e],h.visible!==r&&(s?s.column(e).visible(h.visible,!1):c[e].bVisible=h.visible),h.search!==r&&n.extend(t.aoPreSearchCols[e],sf(h.search));s&&s.columns.adjust()}t._bLoadingState=!1;o(t,"aoStateLoaded","stateLoaded",[t,i])}else t._bLoadingState=!1;f()}function wi(t){var i=u.settings;return t=n.inArray(t,b(i,"nTable")),-1!==t?i[t]:null}function tt(n,i,r,f){if(r="DataTables warning: "+(n?"table id="+n.sTableId+" - ":"")+r,f&&(r+=". For more information about this error, please see http://datatables.net/tn/"+f),i)t.console&&console.log&&console.log(r);else if(i=u.ext,i=i.sErrMode||i.errMode,n&&o(n,null,"error",[n,f,r]),"alert"==i)alert(r);else{if("throw"==i)throw Error(r);"function"==typeof i&&i(n,f,r)}}function k(t,i,u,f){Array.isArray(u)?n.each(u,function(n,r){Array.isArray(r)?k(t,i,r[0],r[1]):k(t,i,r)}):(f===r&&(f=u),i[u]!==r&&(t[f]=i[u]))}function pr(t,i,r){var u,f;for(u in i)i.hasOwnProperty(u)&&(f=i[u],n.isPlainObject(f)?(n.isPlainObject(t[u])||(t[u]={}),n.extend(!0,t[u],f)):t[u]=r&&"data"!==u&&"aaData"!==u&&Array.isArray(f)?f.slice():f);return t}function wr(t,i,r){n(t).on("click.DT",i,function(i){n(t).trigger("blur");r(i)}).on("keypress.DT",i,function(n){13===n.which&&(n.preventDefault(),r(n))}).on("selectstart.DT",function(){return!1})}function v(n,t,i,r){i&&n[t].push({fn:i,sName:r})}function o(t,i,r,u){var f=[];return i&&(f=n.map(t[i].slice().reverse(),function(n){return n.fn.apply(t.oInstance,u)})),null!==r&&(i=n.Event(r+".dt"),n(t.nTable).trigger(i,u),f.push(i.result)),f}function br(n){var t=n._iDisplayStart,r=n.fnDisplayEnd(),i=n._iDisplayLength;t>=r&&(t=r-i);t-=t%i;(-1===i||0>t)&&(t=0);n._iDisplayStart=t}function kr(t,i){t=t.renderer;var r=u.ext.renderer[i];return n.isPlainObject(t)&&t[i]?r[t[i]]||r._:"string"==typeof t?r[t]||r._:r._}function a(n){return n.oFeatures.bServerSide?"ssp":n.ajax||n.sAjaxSource?"ajax":"dom"}function ti(n,t){var i=cu.numbers_length,r=Math.floor(i/2);return t<=i?n=ht(0,t):n<=r?(n=ht(0,i-2),n.push("ellipsis"),n.push(t-1)):(n>=t-1-r?n=ht(t-(i-2),t):(n=ht(n-r+2,n+r-1),n.push("ellipsis"),n.push(t-1)),n.splice(0,0,"ellipsis"),n.splice(0,0,0)),n.DT_el="span",n}function dr(t){n.each({num:function(n){return ui(n,t)},"num-fmt":function(n){return ui(n,t,nu)},"html-num":function(n){return ui(n,t,bi)},"html-num-fmt":function(n){return ui(n,t,bi,nu)}},function(n,i){c.type.order[n+t+"-pre"]=i;n.match(/^html\-/)&&(c.type.search[n+t]=c.type.search.html)})}function ie(n){return function(){var t=[wi(this[u.ext.iApiIndex])].concat(Array.prototype.slice.call(arguments));return u.ext.internal[n].apply(this,t)}}var u=function(t,i){var s;if(this instanceof u)return n(t).DataTable(i);i=t;this.$=function(n,t){return this.api(!0).$(n,t)};this._=function(n,t){return this.api(!0).rows(n,t).data()};this.api=function(n){return n?new e(wi(this[c.iApiIndex])):new e(this)};this.fnAddData=function(t,i){var u=this.api(!0);return t=Array.isArray(t)&&(Array.isArray(t[0])||n.isPlainObject(t[0]))?u.rows.add(t):u.row.add(t),(i===r||i)&&u.draw(),t.flatten().toArray()};this.fnAdjustColumnSizing=function(n){var t=this.api(!0).columns.adjust(),i=t.settings()[0],u=i.oScroll;n===r||n?t.draw(!1):(""!==u.sX||""!==u.sY)&&yi(i)};this.fnClearTable=function(n){var t=this.api(!0).clear();(n===r||n)&&t.draw()};this.fnClose=function(n){this.api(!0).row(n).child.hide()};this.fnDeleteRow=function(n,t,i){var e=this.api(!0),u,f;return n=e.rows(n),u=n.settings()[0],f=u.aoData[n[0][0]],n.remove(),t&&t.call(this,u,f),(i===r||i)&&e.draw(),f};this.fnDestroy=function(n){this.api(!0).destroy(n)};this.fnDraw=function(n){this.api(!0).draw(n)};this.fnFilter=function(n,t,i,u,f,e){f=this.api(!0);null===t||t===r?f.search(n,i,u,e):f.column(t).search(n,i,u,e);f.draw()};this.fnGetData=function(n,t){var i=this.api(!0),u;return n!==r?(u=n.nodeName?n.nodeName.toLowerCase():"",t!==r||"td"==u||"th"==u?i.cell(n,t).data():i.row(n).data()||null):i.data().toArray()};this.fnGetNodes=function(n){var t=this.api(!0);return n!==r?t.row(n).node():t.rows().nodes().flatten().toArray()};this.fnGetPosition=function(n){var i=this.api(!0),t=n.nodeName.toUpperCase();return"TR"==t?i.row(n).index():"TD"==t||"TH"==t?(n=i.cell(n).index(),[n.row,n.columnVisible,n.column]):null};this.fnIsOpen=function(n){return this.api(!0).row(n).child.isShown()};this.fnOpen=function(n,t,i){return this.api(!0).row(n).child(t,i).show().child()[0]};this.fnPageChange=function(n,t){n=this.api(!0).page(n);(t===r||t)&&n.draw(!1)};this.fnSetColumnVis=function(n,t,i){n=this.api(!0).column(n).visible(t);(i===r||i)&&n.columns.adjust().draw()};this.fnSettings=function(){return wi(this[c.iApiIndex])};this.fnSort=function(n){this.api(!0).order(n).draw()};this.fnSortListener=function(n,t,i){this.api(!0).order.listener(n,t,i)};this.fnUpdate=function(n,t,i,u,f){var e=this.api(!0);return i===r||null===i?e.row(t).data(n):e.cell(t,i).data(n),(f===r||f)&&e.columns.adjust(),(u===r||u)&&e.draw(),0};this.fnVersionCheck=c.fnVersionCheck;var f=this,h=i===r,l=this.length;h&&(i={});this.oApi=this.internal=c.internal;for(s in u.ext.internal)s&&(this[s]=ie(s));return this.each(function(){var s={},e=1<l?pr(s,i,!0):i,c=0,d,y,b,ct,t,g,rt,ft,ut,et;s=this.getAttribute("id");var ht=!1,w=u.defaults,p=n(this);if("table"!=this.nodeName.toLowerCase())tt(null,0,"Non-table node initialisation ("+this.nodeName+")",2);else{for(lu(w),au(w.column),nt(w,w,!0),nt(w.column,w.column,!0),nt(w,n.extend(e,p.data()),!0),y=u.settings,c=0,d=y.length;c<d;c++){if(b=y[c],b.nTable==this||b.nTHead&&b.nTHead.parentNode==this||b.nTFoot&&b.nTFoot.parentNode==this){if(ct=e.bRetrieve!==r?e.bRetrieve:w.bRetrieve,h||ct)return b.oInstance;if(e.bDestroy!==r?e.bDestroy:w.bDestroy){b.oInstance.fnDestroy();break}else{tt(b,0,"Cannot reinitialise DataTable",3);return}}if(b.sTableId==this.id){y.splice(c,1);break}}if((null===s||""===s)&&(this.id=s="DataTables_Table_"+u.ext._unique++),t=n.extend(!0,{},u.models.oSettings,{sDestroyWidth:p[0].style.width,sInstance:s,sTableId:s}),t.nTable=this,t.oApi=f.internal,t.oInit=e,y.push(t),t.oInstance=1===f.length?f:p.dataTable(),lu(e),tr(e.oLanguage),e.aLengthMenu&&!e.iDisplayLength&&(e.iDisplayLength=Array.isArray(e.aLengthMenu[0])?e.aLengthMenu[0][0]:e.aLengthMenu[0]),e=pr(n.extend(!0,{},w),e),k(t.oFeatures,e,"bPaginate bLengthChange bFilter bSort bSortMulti bInfo bProcessing bAutoWidth bSortClasses bServerSide bDeferRender".split(" ")),k(t,e,["asStripeClasses","ajax","fnServerData","fnFormatNumber","sServerMethod","aaSorting","aaSortingFixed","aLengthMenu","sPaginationType","sAjaxSource","sAjaxDataProp","iStateDuration","sDom","bSortCellsTop","iTabIndex","fnStateLoadCallback","fnStateSaveCallback","renderer","searchDelay","rowId",["iCookieDuration","iStateDuration"],["oSearch","oPreviousSearch"],["aoSearchCols","aoPreSearchCols"],["iDisplayLength","_iDisplayLength"]]),k(t.oScroll,e,[["sScrollX","sX"],["sScrollXInner","sXInner"],["sScrollY","sY"],["bScrollCollapse","bCollapse"]]),k(t.oLanguage,e,"fnInfoCallback"),v(t,"aoDrawCallback",e.fnDrawCallback,"user"),v(t,"aoServerParams",e.fnServerParams,"user"),v(t,"aoStateSaveParams",e.fnStateSaveParams,"user"),v(t,"aoStateLoadParams",e.fnStateLoadParams,"user"),v(t,"aoStateLoaded",e.fnStateLoaded,"user"),v(t,"aoRowCallback",e.fnRowCallback,"user"),v(t,"aoRowCreatedCallback",e.fnCreatedRow,"user"),v(t,"aoHeaderCallback",e.fnHeaderCallback,"user"),v(t,"aoFooterCallback",e.fnFooterCallback,"user"),v(t,"aoInitComplete",e.fnInitComplete,"user"),v(t,"aoPreDrawCallback",e.fnPreDrawCallback,"user"),t.rowIdFn=lt(e.rowId),vu(t),g=t.oClasses,n.extend(g,u.ext.classes,e.oClasses),p.addClass(g.sTable),t.iInitDisplayStart===r&&(t.iInitDisplayStart=e.iDisplayStart,t._iDisplayStart=e.iDisplayStart),null!==e.iDeferLoading&&(t.bDeferLoading=!0,s=Array.isArray(e.iDeferLoading),t._iRecordsDisplay=s?e.iDeferLoading[0]:e.iDeferLoading,t._iRecordsTotal=s?e.iDeferLoading[1]:e.iDeferLoading),rt=t.oLanguage,n.extend(!0,rt,e.oLanguage),rt.sUrl?(n.ajax({dataType:"json",url:rt.sUrl,success:function(i){nt(w.oLanguage,i);tr(i);n.extend(!0,rt,i);o(t,null,"i18n",[t]);ni(t)},error:function(){ni(t)}}),ht=!0):o(t,null,"i18n",[t]),null===e.asStripeClasses&&(t.asStripeClasses=[g.sStripeOdd,g.sStripeEven]),s=t.asStripeClasses,ft=p.children("tbody").find("tr").eq(0),-1!==n.inArray(!0,n.map(s,function(n){return ft.hasClass(n)}))&&(n("tbody tr",this).removeClass(s.join(" ")),t.asDestroyStripes=s.slice()),s=[],y=this.getElementsByTagName("thead"),0!==y.length&&(kt(t.aoHeader,y[0]),s=ci(t)),null===e.aoColumns)for(y=[],c=0,d=s.length;c<d;c++)y.push(null);else y=e.aoColumns;for(c=0,d=y.length;c<d;c++)ir(t,s?s[c]:null);pu(t,e.aoColumnDefs,y,function(n,i){fi(t,n,i)});ft.length&&(ut=function(n,t){return null!==n.getAttribute("data-"+t)?t:null},n(ft[0]).children("th, td").each(function(n,i){var f=t.aoColumns[n],u;f.mData===n&&(u=ut(i,"sort")||ut(i,"order"),i=ut(i,"filter")||ut(i,"search"),(null!==u||null!==i)&&(f.mData={_:n+".display",sort:null!==u?n+".@data-"+u:r,type:null!==u?n+".@data-"+u:r,filter:null!==i?n+".@data-"+i:r},fi(t,n)))}));et=t.oFeatures;s=function(){var u,i,f;if(e.aaSorting===r)for(u=t.aaSorting,c=0,d=u.length;c<d;c++)u[c][1]=t.aoColumns[c].asSorting[0];if(pi(t),et.bSort&&v(t,"aoDrawCallback",function(){if(t.bSorted){var i=ot(t),r={};n.each(i,function(n,t){r[t.src]=t.dir});o(t,null,"order",[t,i,r]);gf(t)}}),v(t,"aoDrawCallback",function(){(t.bSorted||"ssp"===a(t)||et.bDeferRender)&&pi(t)},"sc"),u=p.children("caption").each(function(){this._captionSide=n(this).css("caption-side")}),i=p.children("thead"),0===i.length&&(i=n("<thead/>").appendTo(p)),t.nTHead=i[0],f=p.children("tbody"),0===f.length&&(f=n("<tbody/>").insertAfter(i)),t.nTBody=f[0],i=p.children("tfoot"),0===i.length&&0<u.length&&(""!==t.oScroll.sX||""!==t.oScroll.sY)&&(i=n("<tfoot/>").appendTo(p)),0===i.length||0===i.children().length?p.addClass(g.sNoFooter):0<i.length&&(t.nTFoot=i[0],kt(t.aoFooter,t.nTFoot)),e.aaData)for(c=0;c<e.aaData.length;c++)it(t,e.aaData[c]);else(t.bDeferLoading||"dom"==a(t))&&oi(t,n(t.nTBody).children("tr"));t.aiDisplay=t.aiDisplayMaster.slice();t.bInitialised=!0;!1===ht&&ni(t)};v(t,"aoDrawCallback",st,"state_save");e.bStateSave?(et.bStateSave=!0,te(t,e,s)):s()}}),f=null,this},c,f,s,gr={},re=/[\r\n\u2028]/g,bi=/<.*?>/g,ye=/^\d{2,4}[\.\/\-]\d{1,2}[\.\/\-]\d{1,2}([T ]{1}\d{1,2}[:\.]\d{2}([\.:]\d{2})?)?$/,pe=/(\/|\.|\*|\+|\?|\||\(|\)|\[|\]|\{|\}|\\|\$|\^|\-)/g,nu=/['\u00A0,$%\u2009\u202F\u20BD\u20a9\u20BArfk]/gi,g=function(n){return n&&!0!==n&&"-"!==n?!1:!0},ue=function(n){var t=parseInt(n,10);return!isNaN(t)&&isFinite(n)?t:null},fe=function(n,t){return gr[t]||(gr[t]=new RegExp(iu(t),"g")),"string"==typeof n&&"."!==t?n.replace(/\./g,"").replace(gr[t],"."):n},tu=function(n,t,i){var r="string"==typeof n;return g(n)?!0:(t&&r&&(n=fe(n,t)),i&&r&&(n=n.replace(nu,"")),!isNaN(parseFloat(n))&&isFinite(n))},ee=function(n,t,i){return g(n)?!0:g(n)||"string"==typeof n?tu(n.replace(bi,""),t,i)?!0:null:null},b=function(n,t,i){var f=[],u=0,e=n.length;if(i!==r)for(;u<e;u++)n[u]&&n[u][t]&&f.push(n[u][t][i]);else for(;u<e;u++)n[u]&&f.push(n[u][t]);return f},ii=function(n,t,i,u){var e=[],f=0,o=t.length;if(u!==r)for(;f<o;f++)n[t[f]][i]&&e.push(n[t[f]][i][u]);else for(;f<o;f++)e.push(n[t[f]][i]);return e},ht=function(n,t){var u=[],i;for(t===r?(t=0,i=n):(i=t,t=n),n=t;n<i;n++)u.push(n);return u},oe=function(n){for(var i=[],t=0,r=n.length;t<r;t++)n[t]&&i.push(n[t]);return i},ki=function(n){var t,u,e;n:{if(!(2>n.length)){t=n.slice().sort();for(var r=t[0],i=1,f=t.length;i<f;i++){if(t[i]===r){t=!1;break n}r=t[i]}}t=!0}if(t)return n.slice();t=[];f=n.length;e=0;i=0;n:for(;i<f;i++){for(r=n[i],u=0;u<e;u++)if(t[u]===r)continue n;t.push(r);e++}return t},se=function(n,t){if(Array.isArray(t))for(var i=0;i<t.length;i++)se(n,t[i]);else n.push(t);return n},he=function(n,t){return t===r&&(t=0),-1!==this.indexOf(n,t)},uu,fu,ve,cu,ui,nr;Array.isArray||(Array.isArray=function(n){return"[object Array]"===Object.prototype.toString.call(n)});Array.prototype.includes||(Array.prototype.includes=he);String.prototype.trim||(String.prototype.trim=function(){return this.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")});String.prototype.includes||(String.prototype.includes=he);u.util={throttle:function(n,t){var u=t!==r?t:200,i,f;return function(){var t=this,e=+new Date,o=arguments;i&&e<i+u?(clearTimeout(f),f=setTimeout(function(){i=r;n.apply(t,o)},u)):(i=e,n.apply(t,o))}},escapeRegex:function(n){return n.replace(pe,"\\$1")},set:function(t){if(n.isPlainObject(t))return u.util.set(t._);if(null===t)return function(){};if("function"==typeof t)return function(n,i,r){t(n,"set",i,r)};if("string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("("))return function(n,i){n[t]=i};var i=function(n,t,u){var e,s,o,f,h;for(u=ur(u),e=u[u.length-1],f=0,h=u.length-1;f<h;f++){if("__proto__"===u[f]||"constructor"===u[f])throw Error("Cannot set prototype values");if(s=u[f].match(ri),o=u[f].match(ct),s){if(u[f]=u[f].replace(ri,""),n[u[f]]=[],e=u.slice(),e.splice(0,f+1),s=e.join("."),Array.isArray(t))for(o=0,h=t.length;o<h;o++)e={},i(e,t[o],s),n[u[f]].push(e);else n[u[f]]=t;return}o&&(u[f]=u[f].replace(ct,""),n=n[u[f]](t));(null===n[u[f]]||n[u[f]]===r)&&(n[u[f]]={});n=n[u[f]]}e.match(ct)?n[e.replace(ct,"")](t):n[e.replace(ri,"")]=t};return function(n,r){return i(n,r,t)}},get:function(t){var i,f;return n.isPlainObject(t)?(i={},n.each(t,function(n,t){t&&(i[n]=u.util.get(t))}),function(n,t,u,f){var e=i[t]||i._;return e!==r?e(n,t,u,f):n}):null===t?function(n){return n}:"function"==typeof t?function(n,i,r,u){return t(n,i,r,u)}:"string"!=typeof t||-1===t.indexOf(".")&&-1===t.indexOf("[")&&-1===t.indexOf("(")?function(n){return n[t]}:(f=function(n,t,i){var e,u,s,o;if(""!==i)for(e=ur(i),u=0,s=e.length;u<s;u++){if(i=e[u].match(ri),o=e[u].match(ct),i){if(e[u]=e[u].replace(ri,""),""!==e[u]&&(n=n[e[u]]),o=[],e.splice(0,u+1),e=e.join("."),Array.isArray(n))for(u=0,s=n.length;u<s;u++)o.push(f(n[u],t,e));n=i[0].substring(1,i[0].length-1);n=""===n?o:o.join(n);break}else if(o){e[u]=e[u].replace(ct,"");n=n[e[u]]();continue}if(null===n||n[e[u]]===r)return r;n=n[e[u]]}return n},function(n,i){return f(n,i,t)})}};var p=function(n,t,i){n[t]!==r&&(n[i]=n[t])},ri=/\[.*?\]$/,ct=/\(\)$/,lt=u.util.get,ut=u.util.set,iu=u.util.escapeRegex,di=n("<div>")[0],we=di.textContent!==r,be=/<.*?>/g,ru=u.util.throttle,ce=[],l=Array.prototype,ke=function(t){var r,f=u.settings,e=n.map(f,function(n){return n.nTable}),i;if(t){if(t.nTable&&t.oApi)return[t];if(t.nodeName&&"table"===t.nodeName.toLowerCase())return i=n.inArray(t,e),-1!==i?[f[i]]:null;if(t&&"function"==typeof t.settings)return t.settings().toArray();"string"==typeof t?r=n(t):t instanceof n&&(r=t)}else return[];if(r)return r.map(function(){return i=n.inArray(this,e),-1!==i?f[i]:null}).toArray()},e=function(t,i){var r,f,u,o;if(!(this instanceof e))return new e(t,i);if(r=[],f=function(n){(n=ke(n))&&r.push.apply(r,n)},Array.isArray(t))for(u=0,o=t.length;u<o;u++)f(t[u]);else f(t);this.context=ki(r);i&&n.merge(this,i);this.selector={rows:null,cols:null,opts:null};e.extend(this,this,ce)};u.Api=e;n.extend(e.prototype,{any:function(){return 0!==this.count()},concat:l.concat,context:[],count:function(){return this.flatten().length},each:function(n){for(var t=0,i=this.length;t<i;t++)n.call(this,this[t],t,this);return this},eq:function(n){var t=this.context;return t.length>n?new e(t[n],this[n]):null},filter:function(n){var i=[],t,r;if(l.filter)i=l.filter.call(this,n,this);else for(t=0,r=this.length;t<r;t++)n.call(this,this[t],t,this)&&i.push(this[t]);return new e(this.context,i)},flatten:function(){var n=[];return new e(this.context,n.concat.apply(n,this.toArray()))},join:l.join,indexOf:l.indexOf||function(n,t){t=t||0;for(var i=this.length;t<i;t++)if(this[t]===n)return t;return-1},iterator:function(n,t,i,u){var h=[],y,p,s=this.context,w,a=this.selector,f,l,o,v,c;for("string"==typeof n&&(u=i,i=t,t=n,n=!1),f=0,y=s.length;f<y;f++)if(l=new e(s[f]),"table"===t)o=i.call(l,s[f],f),o!==r&&h.push(o);else if("columns"===t||"rows"===t)o=i.call(l,s[f],this[f],f),o!==r&&h.push(o);else if("column"===t||"column-rows"===t||"row"===t||"cell"===t)for(v=this[f],"column-rows"===t&&(w=gi(s[f],a.opts)),c=0,p=v.length;c<p;c++)o=v[c],o="cell"===t?i.call(l,s[f],o.row,o.column,f,c):i.call(l,s[f],o,f,c,w),o!==r&&h.push(o);return h.length||u?(n=new e(s,n?h.concat.apply([],h):h),t=n.selector,t.rows=a.rows,t.cols=a.cols,t.opts=a.opts,n):this},lastIndexOf:l.lastIndexOf||function(){return this.indexOf.apply(this.toArray.reverse(),arguments)},length:0,map:function(n){var i=[],t,r;if(l.map)i=l.map.call(this,n,this);else for(t=0,r=this.length;t<r;t++)i.push(n.call(this,this[t],t));return new e(this.context,i)},pluck:function(n){return this.map(function(t){return t[n]})},pop:l.pop,push:l.push,reduce:l.reduce||function(n,t){return yu(this,n,t,0,this.length,1)},reduceRight:l.reduceRight||function(n,t){return yu(this,n,t,this.length-1,-1,-1)},reverse:l.reverse,selector:null,shift:l.shift,slice:function(){return new e(this.context,this)},sort:l.sort,splice:l.splice,toArray:function(){return l.slice.call(this)},to$:function(){return n(this)},toJQuery:function(){return n(this)},unique:function(){return new e(this.context,ki(this))},unshift:l.unshift});e.extend=function(n,t,i){var f,o,u,r;if(i.length&&t&&(t instanceof e||t.__dt_wrapper))for(o=function(n,t,i){return function(){var r=t.apply(n,arguments);return e.extend(r,r,i.methodExt),r}},u=0,f=i.length;u<f;u++)r=i[u],t[r.name]="function"===r.type?o(n,r.val,r):"object"===r.type?{}:r.val,t[r.name].__dt_wrapper=!0,e.extend(n,t[r.name],r.propExt)};e.register=f=function(t,i){var u,f,o,h,s,r,c;if(Array.isArray(t))for(u=0,f=t.length;u<f;u++)e.register(t[u],i);else for(f=t.split("."),o=ce,t=0,u=f.length;t<u;t++){s=(h=-1!==f[t].indexOf("()"))?f[t].replace("()",""):f[t];n:{for(r=0,c=o.length;r<c;r++)if(o[r].name===s){r=o[r];break n}r=null}r||(r={name:s,val:{},methodExt:[],propExt:[],type:"object"},o.push(r));t===u-1?(r.val=i,r.type="function"==typeof i?"function":n.isPlainObject(i)?"object":"other"):o=h?r.methodExt:r.propExt}};e.registerPlural=s=function(n,t,i){e.register(n,i);e.register(t,function(){var n=i.apply(this,arguments);return n===this?this:n instanceof e?n.length?Array.isArray(n[0])?new e(n.context,n[0]):n[0]:r:n})};uu=function(t,i){if(Array.isArray(t))return n.map(t,function(n){return uu(n,i)});if("number"==typeof t)return[i[t]];var r=n.map(i,function(n){return n.nTable});return n(r).filter(t).map(function(t){return t=n.inArray(this,r),i[t]}).toArray()};f("tables()",function(n){return n!==r&&null!==n?new e(uu(n,this.context)):this});f("table()",function(n){n=this.tables(n);var t=n.context;return t.length?new e(t[0]):n});s("tables().nodes()","table().node()",function(){return this.iterator("table",function(n){return n.nTable},1)});s("tables().body()","table().body()",function(){return this.iterator("table",function(n){return n.nTBody},1)});s("tables().header()","table().header()",function(){return this.iterator("table",function(n){return n.nTHead},1)});s("tables().footer()","table().footer()",function(){return this.iterator("table",function(n){return n.nTFoot},1)});s("tables().containers()","table().container()",function(){return this.iterator("table",function(n){return n.nTableWrapper},1)});f("draw()",function(n){return this.iterator("table",function(t){"page"===n?rt(t):("string"==typeof n&&(n="full-hold"===n?!1:!0),ft(t,!1===n))})});f("page()",function(n){return n===r?this.page.info().page:this.iterator("table",function(t){vi(t,n)})});f("page.info()",function(n){if(0===this.context.length)return r;n=this.context[0];var i=n._iDisplayStart,t=n.oFeatures.bPaginate?n._iDisplayLength:-1,u=n.fnRecordsDisplay(),f=-1===t;return{page:f?0:Math.floor(i/t),pages:f?1:Math.ceil(u/t),start:i,end:n.fnDisplayEnd(),length:t,recordsTotal:n.fnRecordsTotal(),recordsDisplay:u,serverSide:"ssp"===a(n)}});f("page.len()",function(n){return n===r?0!==this.context.length?this.context[0]._iDisplayLength:r:this.iterator("table",function(t){cr(t,n)})});fu=function(n,t,i){var u,r;if(i){u=new e(n);u.one("draw",function(){i(u.ajax.json())})}"ssp"==a(n)?ft(n,t):(w(n,!0),r=n.jqXHR,r&&4!==r.readyState&&r.abort(),li(n,[],function(i){si(n);i=dt(n,i);for(var r=0,u=i.length;r<u;r++)it(n,i[r]);ft(n,t);w(n,!1)}))};f("ajax.json()",function(){var n=this.context;if(0<n.length)return n[0].json});f("ajax.params()",function(){var n=this.context;if(0<n.length)return n[0].oAjaxData});f("ajax.reload()",function(n,t){return this.iterator("table",function(i){fu(i,!1===t,n)})});f("ajax.url()",function(t){var i=this.context;return t===r?0===i.length?r:(i=i[0],i.ajax?n.isPlainObject(i.ajax)?i.ajax.url:i.ajax:i.sAjaxSource):this.iterator("table",function(i){n.isPlainObject(i.ajax)?i.ajax.url=t:i.ajax=t})});f("ajax.url().load()",function(n,t){return this.iterator("table",function(i){fu(i,!1===t,n)})});var eu=function(n,t,i,u,f){var s=[],a,l,v,e=typeof t,h,o;for(t&&"string"!==e&&"function"!==e&&t.length!==r||(t=[t]),e=0,l=t.length;e<l;e++)for(h=t[e]&&t[e].split&&!t[e].match(/[\[\(:]/)?t[e].split(","):[t[e]],o=0,v=h.length;o<v;o++)(a=i("string"==typeof h[o]?h[o].trim():h[o]))&&a.length&&(s=s.concat(a));if(n=c.selector[n],n.length)for(e=0,l=n.length;e<l;e++)s=n[e](u,f,s);return ki(s)},ou=function(t){return t||(t={}),t.filter&&t.search===r&&(t.search=t.filter),n.extend({search:"none",order:"current",page:"all"},t)},su=function(n){for(var t=0,i=n.length;t<i;t++)if(0<n[t].length)return n[0]=n[t],n[0].length=1,n.length=1,n.context=[n.context[t]],n;return n.length=0,n},gi=function(t,i){var u=[],o=t.aiDisplay,e=t.aiDisplayMaster,f=i.search,r=i.order,s;if(i=i.page,"ssp"==a(t))return"removed"===f?[]:ht(0,e.length);if("current"==i)for(r=t._iDisplayStart,t=t.fnDisplayEnd();r<t;r++)u.push(o[r]);else if("current"==r||"applied"==r){if("none"==f)u=e.slice();else if("applied"==f)u=o.slice();else if("removed"==f){for(s={},r=0,t=o.length;r<t;r++)s[o[r]]=null;u=n.map(e,function(n){return s.hasOwnProperty(n)?null:n})}}else if("index"==r||"original"==r)for(r=0,t=t.aoData.length;r<t;r++)"none"==f?u.push(r):(e=n.inArray(r,o),(-1===e&&"removed"==f||0<=e&&"applied"==f)&&u.push(r));return u},de=function(t,i,u){var f;return eu("row",i,function(i){var e=ue(i),o=t.aoData,s;return null!==e&&!u?[e]:(f||(f=gi(t,u)),null!==e&&-1!==n.inArray(e,f))?[e]:null===i||i===r||""===i?f:"function"==typeof i?n.map(f,function(n){var t=o[n];return i(n,t._aData,t.nTr)?n:null}):i.nodeName?(e=i._DT_RowIndex,s=i._DT_CellIndex,e!==r)?o[e]&&o[e].nTr===i?[e]:[]:s?o[s.row]&&o[s.row].nTr===i.parentNode?[s.row]:[]:(e=n(i).closest("*[data-dt-row]"),e.length?[e.data("dt-row")]:[]):"string"==typeof i&&"#"===i.charAt(0)&&(e=t.aIds[i.replace(/^#/,"")],e!==r)?[e.idx]:(e=oe(ii(t.aoData,f,"nTr")),n(e).filter(i).map(function(){return this._DT_RowIndex}).toArray())},t,u)};f("rows()",function(t,i){t===r?t="":n.isPlainObject(t)&&(i=t,t="");i=ou(i);var u=this.iterator("table",function(n){return de(n,t,i)},1);return u.selector.rows=t,u.selector.opts=i,u});f("rows().nodes()",function(){return this.iterator("row",function(n,t){return n.aoData[t].nTr||r},1)});f("rows().data()",function(){return this.iterator(!0,"rows",function(n,t){return ii(n.aoData,t,"_aData")},1)});s("rows().cache()","row().cache()",function(n){return this.iterator("row",function(t,i){return t=t.aoData[i],"search"===n?t._aFilterData:t._aSortData},1)});s("rows().invalidate()","row().invalidate()",function(n){return this.iterator("row",function(t,i){wt(t,i,n)})});s("rows().indexes()","row().index()",function(){return this.iterator("row",function(n,t){return t},1)});s("rows().ids()","row().id()",function(n){for(var r,f,o,u=[],i=this.context,t=0,s=i.length;t<s;t++)for(r=0,f=this[t].length;r<f;r++)o=i[t].rowIdFn(i[t].aoData[this[t][r]]._aData),u.push((!0===n?"#":"")+o);return new e(i,u)});s("rows().remove()","row().remove()",function(){var n=this;return this.iterator("row",function(t,i,u){var o=t.aoData,l=o[i],h,c,e,f,s;for(o.splice(i,1),e=0,h=o.length;e<h;e++)if(f=o[e],s=f.anCells,null!==f.nTr&&(f.nTr._DT_RowIndex=e),null!==s)for(f=0,c=s.length;f<c;f++)s[f]._DT_CellIndex.row=e;hi(t.aiDisplayMaster,i);hi(t.aiDisplay,i);hi(n[u],i,!1);0<t._iRecordsDisplay&&t._iRecordsDisplay--;br(t);i=t.rowIdFn(l._aData);i!==r&&delete t.aIds[i]}),this.iterator("table",function(n){for(var t=0,i=n.aoData.length;t<i;t++)n.aoData[t].idx=t}),this});f("rows.add()",function(t){var r=this.iterator("table",function(n){for(var r=[],u=0,i,f=t.length;u<f;u++)i=t[u],i.nodeName&&"TR"===i.nodeName.toUpperCase()?r.push(oi(n,i)[0]):r.push(it(n,i));return r},1),i=this.rows(-1);return i.pop(),n.merge(i,r),i});f("row()",function(n,t){return su(this.rows(n,t))});f("row().data()",function(n){var t=this.context,i;return n===r?t.length&&this.length?t[0].aoData[this[0]]._aData:r:(i=t[0].aoData[this[0]],i._aData=n,Array.isArray(n)&&i.nTr&&i.nTr.id&&ut(t[0].rowId)(n,i.nTr.id),wt(t[0],this[0],"data"),this)});f("row().node()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]].nTr||null:null});f("row.add()",function(t){t instanceof n&&t.length&&(t=t[0]);var i=this.iterator("table",function(n){return t.nodeName&&"TR"===t.nodeName.toUpperCase()?oi(n,t)[0]:it(n,t)});return this.row(i[0])});n(i).on("plugin-init.dt",function(n,t){var i=new e(t);i.on("stateSaveParams",function(n,t,u){n=i.rows().iterator("row",function(n,t){return n.aoData[t]._detailsShow?t:r});u.childRows=i.rows(n).ids(!0).toArray()});(n=i.state.loaded())&&n.childRows&&i.rows(n.childRows).every(function(){o(t,null,"requestChild",[this])})});var ge=function(t,i,r,u){var f=[],e=function(i,r){if(Array.isArray(i)||i instanceof n)for(var u=0,o=i.length;u<o;u++)e(i[u],r);else i.nodeName&&"tr"===i.nodeName.toLowerCase()?f.push(i):(u=n("<tr><td><\/td><\/tr>").addClass(r),n("td",u).addClass(r).html(i)[0].colSpan=et(t),f.push(u[0]))};e(r,u);i._details&&i._details.detach();i._details=n(f);i._detailsShow&&i._details.insertAfter(i.nTr)},hu=function(t,i){var u=t.context;u.length&&(t=u[0].aoData[i!==r?i:t[0]])&&t._details&&(t._details.remove(),t._detailsShow=r,t._details=r,n(t.nTr).removeClass("dt-hasChild"),st(u[0]))},le=function(t,i){var u=t.context,r;u.length&&t.length&&(r=u[0].aoData[t[0]],r._details&&((r._detailsShow=i)?(r._details.insertAfter(r.nTr),n(r.nTr).addClass("dt-hasChild")):(r._details.detach(),n(r.nTr).removeClass("dt-hasChild")),o(u[0],null,"childRow",[i,t.row(t[0])]),no(u[0]),st(u[0])))},no=function(n){var t=new e(n),i=n.aoData;t.off("draw.dt.DT_details column-visibility.dt.DT_details destroy.dt.DT_details");0<b(i,"_details").length&&(t.on("draw.dt.DT_details",function(r,u){n===u&&t.rows({page:"current"}).eq(0).each(function(n){n=i[n];n._detailsShow&&n._details.insertAfter(n.nTr)})}),t.on("column-visibility.dt.DT_details",function(t,r,u,f){if(n===r)for(r=et(r),u=0,f=i.length;u<f;u++)t=i[u],t._details&&t._details.children("td[colspan]").attr("colspan",r)}),t.on("destroy.dt.DT_details",function(r,u){if(n===u)for(r=0,u=i.length;r<u;r++)i[r]._details&&hu(t,r)}))};f("row().child()",function(n,t){var i=this.context;return n===r?i.length&&this.length?i[0].aoData[this[0]]._details:r:(!0===n?this.child.show():!1===n?hu(this):i.length&&this.length&&ge(i[0],i[0].aoData[this[0]],n,t),this)});f(["row().child.show()","row().child().show()"],function(){return le(this,!0),this});f(["row().child.hide()","row().child().hide()"],function(){return le(this,!1),this});f(["row().child.remove()","row().child().remove()"],function(){return hu(this),this});f("row().child.isShown()",function(){var n=this.context;return n.length&&this.length?n[0].aoData[this[0]]._detailsShow||!1:!1});var to=/^([^:]+):(name|visIdx|visible)$/,ae=function(n,t,i,r,u){i=[];r=0;for(var f=u.length;r<f;r++)i.push(y(n,u[r],t));return i},io=function(t,i,r){var u=t.aoColumns,e=b(u,"sName"),f=b(u,"nTh");return eu("column",i,function(i){var o=ue(i),c,s,h;if(""===i)return ht(u.length);if(null!==o)return[0<=o?o:u.length+o];if("function"==typeof i)return c=gi(t,r),n.map(u,function(n,r){return i(r,ae(t,r,0,0,c),f[r])?r:null});if(s="string"==typeof i?i.match(to):"",s)switch(s[2]){case"visIdx":case"visible":return(o=parseInt(s[1],10),0>o)?(h=n.map(u,function(n,t){return n.bVisible?t:null}),[h[h.length+o]]):[yt(t,o)];case"name":return n.map(e,function(n,t){return n===s[1]?t:null});default:return[]}return i.nodeName&&i._DT_CellIndex?[i._DT_CellIndex.column]:(o=n(f).filter(i).map(function(){return n.inArray(this,f)}).toArray(),o.length||!i.nodeName)?o:(o=n(i).closest("*[data-dt-column]"),o.length?[o.data("dt-column")]:[])},t,r)};return f("columns()",function(t,i){t===r?t="":n.isPlainObject(t)&&(i=t,t="");i=ou(i);var u=this.iterator("table",function(n){return io(n,t,i)},1);return u.selector.cols=t,u.selector.opts=i,u}),s("columns().header()","column().header()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTh},1)}),s("columns().footer()","column().footer()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].nTf},1)}),s("columns().data()","column().data()",function(){return this.iterator("column-rows",ae,1)}),s("columns().dataSrc()","column().dataSrc()",function(){return this.iterator("column",function(n,t){return n.aoColumns[t].mData},1)}),s("columns().cache()","column().cache()",function(n){return this.iterator("column-rows",function(t,i,r,u,f){return ii(t.aoData,f,"search"===n?"_aFilterData":"_aSortData",i)},1)}),s("columns().nodes()","column().nodes()",function(){return this.iterator("column-rows",function(n,t,i,r,u){return ii(n.aoData,u,"anCells",t)},1)}),s("columns().visible()","column().visible()",function(t,i){var u=this,f=this.iterator("column",function(i,u){var c,o;if(t===r)return i.aoColumns[u].bVisible;var f=i.aoColumns,s=f[u],e=i.aoData,h;if(t!==r&&s.bVisible!==t){if(t)for(c=n.inArray(!0,b(f,"bVisible"),u+1),f=0,h=e.length;f<h;f++)o=e[f].nTr,i=e[f].anCells,o&&o.insertBefore(i[u],i[c]||null);else n(b(i.aoData,"anCells",u)).detach();s.bVisible=t}});return t!==r&&this.iterator("table",function(f){bt(f,f.aoHeader);bt(f,f.aoFooter);f.aiDisplay.length||n(f.nTBody).find("td[colspan]").attr("colspan",et(f));st(f);u.iterator("column",function(n,r){o(n,null,"column-visibility",[n,r,t,i])});(i===r||i)&&u.columns.adjust()}),f}),s("columns().indexes()","column().index()",function(n){return this.iterator("column",function(t,i){return"visible"===n?pt(t,i):i},1)}),f("columns.adjust()",function(){return this.iterator("table",function(n){vt(n)},1)}),f("column.index()",function(n,t){if(0!==this.context.length){var i=this.context[0];if("fromVisible"===n||"toData"===n)return yt(i,t);if("fromData"===n||"toVisible"===n)return pt(i,t)}}),f("column()",function(n,t){return su(this.columns(n,t))}),ve=function(t,i,u){var a=t.aoData,o=gi(t,u),p=oe(ii(a,o,"anCells")),w=n(se([],p)),s,b=t.aoColumns.length,h,c,v,e,l,f;return eu("cell",i,function(i){var u="function"==typeof i;if(null===i||i===r||u){for(h=[],c=0,v=o.length;c<v;c++)for(s=o[c],e=0;e<b;e++)l={row:s,column:e},u?(f=a[s],i(l,y(t,s,e),f.anCells?f.anCells[e]:null)&&h.push(l)):h.push(l);return h}return n.isPlainObject(i)?i.column!==r&&i.row!==r&&-1!==n.inArray(i.row,o)?[i]:[]:(u=w.filter(i).map(function(n,t){return{row:t._DT_CellIndex.row,column:t._DT_CellIndex.column}}).toArray(),u.length||!i.nodeName)?u:(f=n(i).closest("*[data-dt-row]"),f.length?[{row:f.data("dt-row"),column:f.data("dt-column")}]:[])},t,u)},f("cells()",function(t,i,u){if(n.isPlainObject(t)&&(t.row===r?(u=t,t=null):(u=i,i=null)),n.isPlainObject(i)&&(u=i,i=null),null===i||i===r)return this.iterator("table",function(n){return ve(n,t,ou(u))});var f=u?{page:u.page,order:u.order,search:u.search}:{},s=this.columns(i,f),h=this.rows(t,f),e,c,o,l;return f=this.iterator("table",function(n,t){for(n=[],e=0,c=h[t].length;e<c;e++)for(o=0,l=s[t].length;o<l;o++)n.push({row:h[t][e],column:s[t][o]});return n},1),f=u&&u.selected?this.cells(f,u):f,n.extend(f.selector,{cols:i,rows:t,opts:u}),f}),s("cells().nodes()","cell().node()",function(){return this.iterator("cell",function(n,t,i){return(n=n.aoData[t])&&n.anCells?n.anCells[i]:r},1)}),f("cells().data()",function(){return this.iterator("cell",function(n,t,i){return y(n,t,i)},1)}),s("cells().cache()","cell().cache()",function(n){return n="search"===n?"_aFilterData":"_aSortData",this.iterator("cell",function(t,i,r){return t.aoData[i][n][r]},1)}),s("cells().render()","cell().render()",function(n){return this.iterator("cell",function(t,i,r){return y(t,i,r,n)},1)}),s("cells().indexes()","cell().index()",function(){return this.iterator("cell",function(n,t,i){return{row:t,column:i,columnVisible:pt(n,i)}},1)}),s("cells().invalidate()","cell().invalidate()",function(n){return this.iterator("cell",function(t,i,r){wt(t,i,n,r)})}),f("cell()",function(n,t,i){return su(this.cells(n,t,i))}),f("cell().data()",function(n){var i=this.context,t=this[0];return n===r?i.length&&t.length?y(i[0],t[0].row,t[0].column):r:(wu(i[0],t[0].row,t[0].column,n),wt(i[0],t[0].row,"data",t[0].column),this)}),f("order()",function(n,t){var i=this.context;return n===r?0!==i.length?i[0].aaSorting:r:("number"==typeof n?n=[[n,t]]:n.length&&!Array.isArray(n[0])&&(n=Array.prototype.slice.call(arguments)),this.iterator("table",function(t){t.aaSorting=n.slice()}))}),f("order.listener()",function(n,t,i){return this.iterator("table",function(r){vr(r,n,t,i)})}),f("order.fixed()",function(t){if(!t){var i=this.context;return i=i.length?i[0].aaSortingFixed:r,Array.isArray(i)?{pre:i}:i}return this.iterator("table",function(i){i.aaSortingFixed=n.extend(!0,{},t)})}),f(["columns().order()","column().order()"],function(t){var i=this;return this.iterator("table",function(r,u){var f=[];n.each(i[u],function(n,i){f.push([i,t])});r.aaSorting=f})}),f("search()",function(t,i,u,f){var e=this.context;return t===r?0!==e.length?e[0].oPreviousSearch.sSearch:r:this.iterator("table",function(r){r.oFeatures.bFilter&&gt(r,n.extend({},r.oPreviousSearch,{sSearch:t+"",bRegex:null===i?!1:i,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),1)})}),s("columns().search()","column().search()",function(t,i,u,f){return this.iterator("column",function(e,o){var s=e.aoPreSearchCols;if(t===r)return s[o].sSearch;e.oFeatures.bFilter&&(n.extend(s[o],{sSearch:t+"",bRegex:null===i?!1:i,bSmart:null===u?!0:u,bCaseInsensitive:null===f?!0:f}),gt(e,e.oPreviousSearch,1))})}),f("state()",function(){return this.context.length?this.context[0].oSavedState:null}),f("state.clear()",function(){return this.iterator("table",function(n){n.fnStateSaveCallback.call(n.oInstance,n,{})})}),f("state.loaded()",function(){return this.context.length?this.context[0].oLoadedState:null}),f("state.save()",function(){return this.iterator("table",function(n){st(n)})}),u.versionCheck=u.fnVersionCheck=function(n){var e=u.version.split("."),i,r,t,f;for(n=n.split("."),t=0,f=n.length;t<f;t++)if(i=parseInt(e[t],10)||0,r=parseInt(n[t],10)||0,i!==r)return i>r;return!0},u.isDataTable=u.fnIsDataTable=function(t){var i=n(t).get(0),r=!1;return t instanceof u.Api?!0:(n.each(u.settings,function(t,u){t=u.nScrollHead?n("table",u.nScrollHead)[0]:null;var f=u.nScrollFoot?n("table",u.nScrollFoot)[0]:null;(u.nTable===i||t===i||f===i)&&(r=!0)}),r)},u.tables=u.fnTables=function(t){var r=!1,i;return n.isPlainObject(t)&&(r=t.api,t=t.visible),i=n.map(u.settings,function(i){if(!t||t&&n(i.nTable).is(":visible"))return i.nTable}),r?new e(i):i},u.camelToHungarian=nt,f("$()",function(t,i){return i=this.rows(i).nodes(),i=n(i),n([].concat(i.filter(t).toArray(),i.find(t).toArray()))}),n.each(["on","one","off"],function(t,i){f(i+"()",function(){var t=Array.prototype.slice.call(arguments),r;return t[0]=n.map(t[0].split(/\s/),function(n){return n.match(/\.dt\b/)?n:n+".dt"}).join(" "),r=n(this.tables().nodes()),r[i].apply(r,t),this})}),f("clear()",function(){return this.iterator("table",function(n){si(n)})}),f("settings()",function(){return new e(this.context,this.context)}),f("init()",function(){var n=this.context;return n.length?n[0].oInit:null}),f("data()",function(){return this.iterator("table",function(n){return b(n.aoData,"_aData")}).flatten()}),f("destroy()",function(i){return i=i||!1,this.iterator("table",function(r){var h=r.nTableWrapper.parentNode,c=r.oClasses,a=r.nTable,l=r.nTBody,f=r.nTHead,v=r.nTFoot,s=n(a),y,p,w;l=n(l);y=n(r.nTableWrapper);p=n.map(r.aoData,function(n){return n.nTr});r.bDestroying=!0;o(r,"aoDestroyCallback","destroy",[r]);i||new e(r).columns().visible(!0);y.off(".DT").find(":not(tbody *)").off(".DT");n(t).off(".DT-"+r.sInstance);a!=f.parentNode&&(s.children("thead").detach(),s.append(f));v&&a!=v.parentNode&&(s.children("tfoot").detach(),s.append(v));r.aaSorting=[];r.aaSortingFixed=[];pi(r);n(p).removeClass(r.asStripeClasses.join(" "));n("th, td",f).removeClass(c.sSortable+" "+c.sSortableAsc+" "+c.sSortableDesc+" "+c.sSortableNone);l.children().detach();l.append(p);f=i?"remove":"detach";s[f]();y[f]();!i&&h&&(h.insertBefore(a,r.nTableReinsertBefore),s.css("width",r.sDestroyWidth).removeClass(c.sTable),(w=r.asDestroyStripes.length)&&l.children().each(function(t){n(this).addClass(r.asDestroyStripes[t%w])}));h=n.inArray(r,u.settings);-1!==h&&u.settings.splice(h,1)})}),n.each(["column","row","cell"],function(n,t){f(t+"s().every()",function(n){var i=this.selector.opts,u=this;return this.iterator(t,function(f,e,o,s,h){n.call(u[t](e,"cell"===t?o:i,"cell"===t?i:r),e,o,s,h)})})}),f("i18n()",function(t,i,u){var f=this.context[0];return t=lt(t)(f.oLanguage),t===r&&(t=i),u!==r&&n.isPlainObject(t)&&(t=t[u]!==r?t[u]:t._),t.replace("%d",u)}),u.version="1.11.4",u.settings=[],u.models={},u.models.oSearch={bCaseInsensitive:!0,sSearch:"",bRegex:!1,bSmart:!0,"return":!1},u.models.oRow={nTr:null,anCells:null,_aData:[],_aSortData:null,_aFilterData:null,_sFilterRow:null,_sRowStripe:"",src:null,idx:-1},u.models.oColumn={idx:null,aDataSort:null,asSorting:null,bSearchable:null,bSortable:null,bVisible:null,_sManualType:null,_bAttrSrc:!1,fnCreatedCell:null,fnGetData:null,fnSetData:null,mData:null,mRender:null,nTh:null,nTf:null,sClass:null,sContentPadding:null,sDefaultContent:null,sName:null,sSortDataType:"std",sSortingClass:null,sSortingClassJUI:null,sTitle:null,sType:null,sWidth:null,sWidthOrig:null},u.defaults={aaData:null,aaSorting:[[0,"asc"]],aaSortingFixed:[],ajax:null,aLengthMenu:[10,25,50,100],aoColumns:null,aoColumnDefs:null,aoSearchCols:[],asStripeClasses:null,bAutoWidth:!0,bDeferRender:!1,bDestroy:!1,bFilter:!0,bInfo:!0,bLengthChange:!0,bPaginate:!0,bProcessing:!1,bRetrieve:!1,bScrollCollapse:!1,bServerSide:!1,bSort:!0,bSortMulti:!0,bSortCellsTop:!1,bSortClasses:!0,bStateSave:!1,fnCreatedRow:null,fnDrawCallback:null,fnFooterCallback:null,fnFormatNumber:function(n){return n.toString().replace(/\B(?=(\d{3})+(?!\d))/g,this.oLanguage.sThousands)},fnHeaderCallback:null,fnInfoCallback:null,fnInitComplete:null,fnPreDrawCallback:null,fnRowCallback:null,fnServerData:null,fnServerParams:null,fnStateLoadCallback:function(n){try{return JSON.parse((-1===n.iStateDuration?sessionStorage:localStorage).getItem("DataTables_"+n.sInstance+"_"+location.pathname))}catch(t){return{}}},fnStateLoadParams:null,fnStateLoaded:null,fnStateSaveCallback:function(n,t){try{(-1===n.iStateDuration?sessionStorage:localStorage).setItem("DataTables_"+n.sInstance+"_"+location.pathname,JSON.stringify(t))}catch(i){}},fnStateSaveParams:null,iStateDuration:7200,iDeferLoading:null,iDisplayLength:10,iDisplayStart:0,iTabIndex:0,oClasses:{},oLanguage:{oAria:{sSortAscending:": activate to sort column ascending",sSortDescending:": activate to sort column descending"},oPaginate:{sFirst:"First",sLast:"Last",sNext:"Next",sPrevious:"Previous"},sEmptyTable:"No data available in table",sInfo:"Showing _START_ to _END_ of _TOTAL_ entries",sInfoEmpty:"Showing 0 to 0 of 0 entries",sInfoFiltered:"(filtered from _MAX_ total entries)",sInfoPostFix:"",sDecimal:"",sThousands:",",sLengthMenu:"Show _MENU_ entries",sLoadingRecords:"Loading...",sProcessing:"Processing...",sSearch:"Search:",sSearchPlaceholder:"",sUrl:"",sZeroRecords:"No matching records found"},oSearch:n.extend({},u.models.oSearch),sAjaxDataProp:"data",sAjaxSource:null,sDom:"lfrtip",searchDelay:null,sPaginationType:"simple_numbers",sScrollX:"",sScrollXInner:"",sScrollY:"",sServerMethod:"GET",renderer:null,rowId:"DT_RowId"},at(u.defaults),u.defaults.column={aDataSort:null,iDataSort:-1,asSorting:["asc","desc"],bSearchable:!0,bSortable:!0,bVisible:!0,fnCreatedCell:null,mData:null,mRender:null,sCellType:"td",sClass:"",sContentPadding:"",sDefaultContent:null,sName:"",sSortDataType:"std",sTitle:null,sType:null,sWidth:null},at(u.defaults.column),u.models.oSettings={oFeatures:{bAutoWidth:null,bDeferRender:null,bFilter:null,bInfo:null,bLengthChange:null,bPaginate:null,bProcessing:null,bServerSide:null,bSort:null,bSortMulti:null,bSortClasses:null,bStateSave:null},oScroll:{bCollapse:null,iBarWidth:0,sX:null,sXInner:null,sY:null},oLanguage:{fnInfoCallback:null},oBrowser:{bScrollOversize:!1,bScrollbarLeft:!1,bBounding:!1,barWidth:0},ajax:null,aanFeatures:[],aoData:[],aiDisplay:[],aiDisplayMaster:[],aIds:{},aoColumns:[],aoHeader:[],aoFooter:[],oPreviousSearch:{},aoPreSearchCols:[],aaSorting:null,aaSortingFixed:[],asStripeClasses:null,asDestroyStripes:[],sDestroyWidth:0,aoRowCallback:[],aoHeaderCallback:[],aoFooterCallback:[],aoDrawCallback:[],aoRowCreatedCallback:[],aoPreDrawCallback:[],aoInitComplete:[],aoStateSaveParams:[],aoStateLoadParams:[],aoStateLoaded:[],sTableId:"",nTable:null,nTHead:null,nTFoot:null,nTBody:null,nTableWrapper:null,bDeferLoading:!1,bInitialised:!1,aoOpenRows:[],sDom:null,searchDelay:null,sPaginationType:"two_button",iStateDuration:0,aoStateSave:[],aoStateLoad:[],oSavedState:null,oLoadedState:null,sAjaxSource:null,sAjaxDataProp:null,jqXHR:null,json:r,oAjaxData:r,fnServerData:null,aoServerParams:[],sServerMethod:null,fnFormatNumber:null,aLengthMenu:null,iDraw:0,bDrawing:!1,iDrawError:-1,_iDisplayLength:10,_iDisplayStart:0,_iRecordsTotal:0,_iRecordsDisplay:0,oClasses:{},bFiltered:!1,bSorted:!1,bSortCellsTop:null,oInit:null,aoDestroyCallback:[],fnRecordsTotal:function(){return"ssp"==a(this)?1*this._iRecordsTotal:this.aiDisplayMaster.length},fnRecordsDisplay:function(){return"ssp"==a(this)?1*this._iRecordsDisplay:this.aiDisplay.length},fnDisplayEnd:function(){var n=this._iDisplayLength,t=this._iDisplayStart,r=t+n,i=this.aiDisplay.length,u=this.oFeatures,f=u.bPaginate;return u.bServerSide?!1===f||-1===n?t+i:Math.min(t+n,this._iRecordsDisplay):!f||r>i||-1===n?i:r},oInstance:null,sInstance:null,iTabIndex:0,nScrollHead:null,nScrollFoot:null,aLastSort:[],oPlugins:{},rowIdFn:null,rowId:null},u.ext=c={buttons:{},classes:{},builder:"-source-",errMode:"alert",feature:[],search:[],selector:{cell:[],column:[],row:[]},internal:{},legacy:{ajax:null},pager:{},renderer:{pageButton:{},header:{}},order:{},type:{detect:[],search:{},order:{}},_unique:0,fnVersionCheck:u.fnVersionCheck,iApiIndex:0,oJUIClasses:{},sVersion:u.version},n.extend(c,{afnFiltering:c.search,aTypes:c.type.detect,ofnSearch:c.type.search,oSort:c.type.order,afnSortData:c.order,aoFeatures:c.feature,oApi:c.internal,oStdClasses:c.classes,oPagination:c.pager}),n.extend(u.ext.classes,{sTable:"dataTable",sNoFooter:"no-footer",sPageButton:"paginate_button",sPageButtonActive:"current",sPageButtonDisabled:"disabled",sStripeOdd:"odd",sStripeEven:"even",sRowEmpty:"dataTables_empty",sWrapper:"dataTables_wrapper",sFilter:"dataTables_filter",sInfo:"dataTables_info",sPaging:"dataTables_paginate paging_",sLength:"dataTables_length",sProcessing:"dataTables_processing",sSortAsc:"sorting_asc",sSortDesc:"sorting_desc",sSortable:"sorting",sSortableAsc:"sorting_desc_disabled",sSortableDesc:"sorting_asc_disabled",sSortableNone:"sorting_disabled",sSortColumn:"sorting_",sFilterInput:"",sLengthSelect:"",sScrollWrapper:"dataTables_scroll",sScrollHead:"dataTables_scrollHead",sScrollHeadInner:"dataTables_scrollHeadInner",sScrollBody:"dataTables_scrollBody",sScrollFoot:"dataTables_scrollFoot",sScrollFootInner:"dataTables_scrollFootInner",sHeaderTH:"",sFooterTH:"",sSortJUIAsc:"",sSortJUIDesc:"",sSortJUI:"",sSortJUIAscAllowed:"",sSortJUIDescAllowed:"",sSortJUIWrapper:"",sSortIcon:"",sJUIHeader:"",sJUIFooter:""}),cu=u.ext.pager,n.extend(cu,{simple:function(){return["previous","next"]},full:function(){return["first","previous","next","last"]},numbers:function(n,t){return[ti(n,t)]},simple_numbers:function(n,t){return["previous",ti(n,t),"next"]},full_numbers:function(n,t){return["first","previous",ti(n,t),"next","last"]},first_last_numbers:function(n,t){return["first",ti(n,t),"last"]},_numbers:ti,numbers_length:7}),n.extend(!0,u.ext.renderer,{pageButton:{_:function(t,u,f,e,o,s){var a=t.oClasses,l=t.oLanguage.oPaginate,w=t.oLanguage.oAria.paginate||{},h,c,y=0,p=function(i,r){for(var v=a.sPageButtonDisabled,d=function(n){vi(t,n.data.action,!0)},b=0,u,e,k=r.length;b<k;b++)if(u=r[b],Array.isArray(u))e=n("<"+(u.DT_el||"div")+"/>").appendTo(i),p(e,u);else{h=null;c=u;e=t.iTabIndex;switch(u){case"ellipsis":i.append('<span class="ellipsis">&#x2026;<\/span>');break;case"first":h=l.sFirst;0===o&&(e=-1,c+=" "+v);break;case"previous":h=l.sPrevious;0===o&&(e=-1,c+=" "+v);break;case"next":h=l.sNext;(0===s||o===s-1)&&(e=-1,c+=" "+v);break;case"last":h=l.sLast;(0===s||o===s-1)&&(e=-1,c+=" "+v);break;default:h=t.fnFormatNumber(u+1);c=o===u?a.sPageButtonActive:""}null!==h&&(e=n("<a>",{"class":a.sPageButton+" "+c,"aria-controls":t.sTableId,"aria-label":w[u],"data-dt-idx":y,tabindex:e,id:0===f&&"string"==typeof u?t.sTableId+"_"+u:null}).html(h).appendTo(i),wr(e,{action:u},d),y++)}},v;try{v=n(u).find(i.activeElement).data("dt-idx")}catch(b){}p(n(u).empty(),e);v!==r&&n(u).find("[data-dt-idx="+v+"]").trigger("focus")}}}),n.extend(u.ext.type.detect,[function(n,t){return t=t.oLanguage.sDecimal,tu(n,t)?"num"+t:null},function(n,t){return n&&!(n instanceof Date)&&!ye.test(n)?null:(t=Date.parse(n),null!==t&&!isNaN(t)||g(n)?"date":null)},function(n,t){return t=t.oLanguage.sDecimal,tu(n,t,!0)?"num-fmt"+t:null},function(n,t){return t=t.oLanguage.sDecimal,ee(n,t)?"html-num"+t:null},function(n,t){return t=t.oLanguage.sDecimal,ee(n,t,!0)?"html-num-fmt"+t:null},function(n){return g(n)||"string"==typeof n&&-1!==n.indexOf("<")?"html":null}]),n.extend(u.ext.type.search,{html:function(n){return g(n)?n:"string"==typeof n?n.replace(re," ").replace(bi,""):""},string:function(n){return g(n)?n:"string"==typeof n?n.replace(re," "):n}}),ui=function(n,t,i,r){return 0!==n&&(!n||"-"===n)?-Infinity:(t&&(n=fe(n,t)),n.replace&&(i&&(n=n.replace(i,"")),r&&(n=n.replace(r,""))),1*n)},n.extend(c.type.order,{"date-pre":function(n){return n=Date.parse(n),isNaN(n)?-Infinity:n},"html-pre":function(n){return g(n)?"":n.replace?n.replace(/<.*?>/g,"").toLowerCase():n+""},"string-pre":function(n){return g(n)?"":"string"==typeof n?n.toLowerCase():n.toString?n.toString():""},"string-asc":function(n,t){return n<t?-1:n>t?1:0},"string-desc":function(n,t){return n<t?1:n>t?-1:0}}),dr(""),n.extend(!0,u.ext.renderer,{header:{_:function(t,i,r,u){n(t.nTable).on("order.dt.DT",function(n,f,e,o){t===f&&(n=r.idx,i.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass("asc"==o[n]?u.sSortAsc:"desc"==o[n]?u.sSortDesc:r.sSortingClass))})},jqueryui:function(t,i,r,u){n("<div/>").addClass(u.sSortJUIWrapper).append(i.contents()).append(n("<span/>").addClass(u.sSortIcon+" "+r.sSortingClassJUI)).appendTo(i);n(t.nTable).on("order.dt.DT",function(n,f,e,o){t===f&&(n=r.idx,i.removeClass(u.sSortAsc+" "+u.sSortDesc).addClass("asc"==o[n]?u.sSortAsc:"desc"==o[n]?u.sSortDesc:r.sSortingClass),i.find("span."+u.sSortIcon).removeClass(u.sSortJUIAsc+" "+u.sSortJUIDesc+" "+u.sSortJUI+" "+u.sSortJUIAscAllowed+" "+u.sSortJUIDescAllowed).addClass("asc"==o[n]?u.sSortJUIAsc:"desc"==o[n]?u.sSortJUIDesc:r.sSortingClassJUI))})}}}),nr=function(n){return Array.isArray(n)&&(n=n.join(",")),"string"==typeof n?n.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;"):n},u.render={number:function(n,t,i,r,u){return{display:function(f){if("number"!=typeof f&&"string"!=typeof f)return f;var o=0>f?"-":"",e=parseFloat(f);return isNaN(e)?nr(f):(e=e.toFixed(i),f=Math.abs(e),e=parseInt(f,10),f=i?t+(f-e).toFixed(i).substring(2):"",0===e&&0===parseFloat(f)&&(o=""),o+(r||"")+e.toString().replace(/\B(?=(\d{3})+(?!\d))/g,n)+f+(u||""))}}},text:function(){return{display:nr,filter:nr}}},n.extend(u.ext.internal,{_fnExternApiFunc:ie,_fnBuildAjax:li,_fnAjaxUpdate:du,_fnAjaxParameters:gu,_fnAjaxUpdateDraw:nf,_fnAjaxDataSrc:dt,_fnAddColumn:ir,_fnColumnOptions:fi,_fnAdjustColumnSizing:vt,_fnVisibleToColumnIndex:yt,_fnColumnIndexToVisible:pt,_fnVisbleColumns:et,_fnGetColumns:ei,_fnColumnTypes:rr,_fnApplyColumnDefs:pu,_fnHungarianMap:at,_fnCamelToHungarian:nt,_fnLanguageCompat:tr,_fnBrowserDetect:vu,_fnAddData:it,_fnAddTr:oi,_fnNodeToDataIndex:function(n,t){return t._DT_RowIndex!==r?t._DT_RowIndex:null},_fnNodeToColumnIndex:function(t,i,r){return n.inArray(r,t.aoData[i].anCells)},_fnGetCellData:y,_fnSetCellData:wu,_fnSplitObjNotation:ur,_fnGetObjectDataFn:lt,_fnSetObjectDataFn:ut,_fnGetDataMaster:fr,_fnClearTable:si,_fnDeleteIndex:hi,_fnInvalidate:wt,_fnGetRowElements:er,_fnCreateTr:or,_fnBuildHead:bu,_fnDrawHead:bt,_fnDraw:rt,_fnReDraw:ft,_fnAddOptionsHtml:ku,_fnDetectHeader:kt,_fnGetUniqueThs:ci,_fnFeatureHtmlFilter:tf,_fnFilterComplete:gt,_fnFilterCustom:rf,_fnFilterColumn:uf,_fnFilter:ff,_fnFilterCreateSearch:hr,_fnEscapeRegex:iu,_fnFilterData:ef,_fnFeatureHtmlInfo:hf,_fnUpdateInfo:cf,_fnInfoMacros:lf,_fnInitialise:ni,_fnInitComplete:ai,_fnLengthChange:cr,_fnFeatureHtmlLength:af,_fnFeatureHtmlPaginate:vf,_fnPageChange:vi,_fnFeatureHtmlProcessing:yf,_fnProcessingDisplay:w,_fnFeatureHtmlTable:pf,_fnScrollDraw:yi,_fnApplyToChildren:d,_fnCalculateColumnWidths:lr,_fnThrottle:ru,_fnConvertToWidth:wf,_fnGetWidestNode:bf,_fnGetMaxLenString:kf,_fnStringToCss:h,_fnSortFlatten:ot,_fnSort:df,_fnSortAria:gf,_fnSortListener:ar,_fnSortAttachListener:vr,_fnSortingClasses:pi,_fnSortData:ne,_fnSaveState:st,_fnLoadState:te,_fnImplementState:yr,_fnSettingsFromNode:wi,_fnLog:tt,_fnMap:k,_fnBindAction:wr,_fnCallbackReg:v,_fnCallbackFire:o,_fnLengthOverflow:br,_fnRenderer:kr,_fnDataSource:a,_fnRowAttributes:sr,_fnExtend:pr,_fnCalculateEnd:function(){}}),n.fn.dataTable=u,u.$=n,n.fn.dataTableSettings=u.settings,n.fn.dataTableExt=u.ext,n.fn.DataTable=function(t){return n(this).dataTable(t).api()},n.each(u,function(t,i){n.fn.DataTable[t]=i}),u});
/*!
 DataTables Bootstrap 4 integration
 2011-2017 SpryMedia Ltd - datatables.net/license
*/
$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(n,t,i){var f,r,u;for(n instanceof String&&(n=String(n)),f=n.length,r=0;r<f;r++)if(u=n[r],t.call(i,u,r,n))return{i:r,v:u};return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,t,i){return n==Array.prototype||n==Object.prototype?n:(n[t]=i.value,n)};$jscomp.getGlobal=function(n){var t,i;for(n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],t=0;t<n.length;++t)if(i=n[t],i&&i.Math==Math)return i;throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp$lookupPolyfilledValue=function(n,t){var i=$jscomp.propertyToPolyfillSymbol[t];return null==i?n[t]:(i=n[i],void 0!==i?i:n[t])};$jscomp.polyfill=function(n,t,i,r){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(n,t,i,r):$jscomp.polyfillUnisolated(n,t,i,r))};$jscomp.polyfillUnisolated=function(n,t,i,r){for(i=$jscomp.global,n=n.split("."),r=0;r<n.length-1;r++){var u=n[r];if(!(u in i))return;i=i[u]}n=n[n.length-1];r=i[n];t=t(r);t!=r&&null!=t&&$jscomp.defineProperty(i,n,{configurable:!0,writable:!0,value:t})};$jscomp.polyfillIsolated=function(n,t,i,r){var u=n.split("."),f,e;for(n=1===u.length,r=u[0],r=!n&&(r in $jscomp.polyfills)?$jscomp.polyfills:$jscomp.global,f=0;f<u.length-1;f++){if(e=u[f],!(e in r))return;r=r[e]}u=u[u.length-1];i=$jscomp.IS_SYMBOL_NATIVE&&"es6"===i?r[u]:null;t=t(i);null!=t&&(n?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:t}):t!==i&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):$jscomp.POLYFILL_PREFIX+u,u=$jscomp.propertyToPolyfillSymbol[u],$jscomp.defineProperty(r,u,{configurable:!0,writable:!0,value:t})))};$jscomp.polyfill("Array.prototype.find",function(n){return n?n:function(n,t){return $jscomp.findInternal(this,n,t).v}},"es6","es3"),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),n(i,t,t.document)}:n(jQuery,window,document)}(function(n,t,i,r){var u=n.fn.dataTable;return n.extend(!0,u.defaults,{dom:"<'row'<'col-sm-12 col-md-6'l><'col-sm-12 col-md-6'f>><'row'<'col-sm-12'tr>><'row'<'col-sm-12 col-md-5'i><'col-sm-12 col-md-7'p>>",renderer:"bootstrap"}),n.extend(u.ext.classes,{sWrapper:"dataTables_wrapper dt-bootstrap4",sFilterInput:"form-control form-control-sm",sLengthSelect:"custom-select custom-select-sm form-control form-control-sm",sProcessing:"dataTables_processing card",sPageButton:"paginate_button page-item"}),u.ext.renderer.pageButton.bootstrap=function(t,f,e,o,s,h){var y=new u.Api(t),b=t.oClasses,a=t.oLanguage.oPaginate,k=t.oLanguage.oAria.paginate||{},c,l,p=0,w=function(i,r){for(var d=function(t){t.preventDefault();n(t.currentTarget).hasClass("disabled")||y.page()==t.data.action||y.page(t.data.action).draw("page")},f=0,u,v,o=r.length;f<o;f++)if(u=r[f],Array.isArray(u))w(i,u);else{l=c="";switch(u){case"ellipsis":c="&#x2026;";l="disabled";break;case"first":c=a.sFirst;l=u+(0<s?"":" disabled");break;case"previous":c=a.sPrevious;l=u+(0<s?"":" disabled");break;case"next":c=a.sNext;l=u+(s<h-1?"":" disabled");break;case"last":c=a.sLast;l=u+(s<h-1?"":" disabled");break;default:c=u+1;l=s===u?"active":""}c&&(v=n("<li>",{"class":b.sPageButton+" "+l,id:0===e&&"string"==typeof u?t.sTableId+"_"+u:null}).append(n("<a>",{href:"#","aria-controls":t.sTableId,"aria-label":k[u],"data-dt-idx":p,tabindex:t.iTabIndex,"class":"page-link"}).html(c)).appendTo(i),t.oApi._fnBindAction(v,{action:u},d),p++)}},v;try{v=n(f).find(i.activeElement).data("dt-idx")}catch(d){}w(n(f).empty().html('<ul class="pagination"/>').children("ul"),o);v!==r&&n(f).find("[data-dt-idx="+v+"]").trigger("focus")},u});
/*!
   Copyright 2014-2021 SpryMedia Ltd.
 This source file is free software, available under the following license:
   MIT license - http://datatables.net/license/mit
 This source file is distributed in the hope that it will be useful, but
 WITHOUT ANY WARRANTY; without even the implied warranty of MERCHANTABILITY
 or FITNESS FOR A PARTICULAR PURPOSE. See the license files for details.
 For details please refer to: http://www.datatables.net
 Responsive 2.2.9
 2014-2021 SpryMedia Ltd - datatables.net/license
*/
$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(n,t,i){var f,r,u;for(n instanceof String&&(n=String(n)),f=n.length,r=0;r<f;r++)if(u=n[r],t.call(i,u,r,n))return{i:r,v:u};return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,t,i){return n==Array.prototype||n==Object.prototype?n:(n[t]=i.value,n)};$jscomp.getGlobal=function(n){var t,i;for(n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],t=0;t<n.length;++t)if(i=n[t],i&&i.Math==Math)return i;throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp$lookupPolyfilledValue=function(n,t){var i=$jscomp.propertyToPolyfillSymbol[t];return null==i?n[t]:(i=n[i],void 0!==i?i:n[t])};$jscomp.polyfill=function(n,t,i,r){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(n,t,i,r):$jscomp.polyfillUnisolated(n,t,i,r))};$jscomp.polyfillUnisolated=function(n,t,i,r){for(i=$jscomp.global,n=n.split("."),r=0;r<n.length-1;r++){var u=n[r];if(!(u in i))return;i=i[u]}n=n[n.length-1];r=i[n];t=t(r);t!=r&&null!=t&&$jscomp.defineProperty(i,n,{configurable:!0,writable:!0,value:t})};$jscomp.polyfillIsolated=function(n,t,i,r){var u=n.split("."),f,e;for(n=1===u.length,r=u[0],r=!n&&(r in $jscomp.polyfills)?$jscomp.polyfills:$jscomp.global,f=0;f<u.length-1;f++){if(e=u[f],!(e in r))return;r=r[e]}u=u[u.length-1];i=$jscomp.IS_SYMBOL_NATIVE&&"es6"===i?r[u]:null;t=t(i);null!=t&&(n?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:t}):t!==i&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):$jscomp.POLYFILL_PREFIX+u,u=$jscomp.propertyToPolyfillSymbol[u],$jscomp.defineProperty(r,u,{configurable:!0,writable:!0,value:t})))};$jscomp.polyfill("Array.prototype.find",function(n){return n?n:function(n,t){return $jscomp.findInternal(this,n,t).v}},"es6","es3"),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),n(i,t,t.document)}:n(jQuery,window,document)}(function(n,t,i,r){function h(n,t,i){var r=t+"-"+i,u;if(f[r])return f[r];for(u=[],n=n.cell(t,i).node().childNodes,t=0,i=n.length;t<i;t++)u.push(n[t]);return f[r]=u}function s(n,t,i){var e=t+"-"+i,u,o;if(f[e]){for(n=n.cell(t,i).node(),i=f[e][0].parentNode.childNodes,t=[],u=0,o=i.length;u<o;u++)t.push(i[u]);for(i=0,u=t.length;i<u;i++)n.appendChild(t[i]);f[e]=r}}var o=n.fn.dataTable,u=function(t,i){if(!o.versionCheck||!o.versionCheck("1.10.10"))throw"DataTables Responsive requires DataTables 1.10.10 or newer";this.s={dt:new o.Api(t),columns:[],current:[]};this.s.dt.settings()[0].responsive||(i&&"string"==typeof i.details?i.details={type:i.details}:i&&!1===i.details?i.details={type:!1}:i&&!0===i.details&&(i.details={type:"inline"}),this.c=n.extend(!0,{},u.defaults,o.defaults.responsive,i),t.responsive=this,this._constructor())},f,e;n.extend(u.prototype,{_constructor:function(){var i=this,r=this.s.dt,u=r.settings()[0],f=n(t).innerWidth();r.settings()[0]._responsive=this;n(t).on("resize.dtr orientationchange.dtr",o.util.throttle(function(){var r=n(t).innerWidth();r!==f&&(i._resize(),f=r)}));u.oApi._fnCallbackReg(u,"aoRowCreatedCallback",function(t){-1!==n.inArray(!1,i.s.current)&&n(">td, >th",t).each(function(t){t=r.column.index("toData",t);!1===i.s.current[t]&&n(this).css("display","none")})});r.on("destroy.dtr",function(){r.off(".dtr");n(r.table().body()).off(".dtr");n(t).off("resize.dtr orientationchange.dtr");r.cells(".dtr-control").nodes().to$().removeClass("dtr-control");n.each(i.s.current,function(n,t){!1===t&&i._setColumnVis(n,!0)})});this.c.breakpoints.sort(function(n,t){return n.width<t.width?1:n.width>t.width?-1:0});this._classLogic();this._resizeAuto();u=this.c.details;!1!==u.type&&(i._detailsInit(),r.on("column-visibility.dtr",function(){i._timer&&clearTimeout(i._timer);i._timer=setTimeout(function(){i._timer=null;i._classLogic();i._resizeAuto();i._resize(!0);i._redrawChildren()},100)}),r.on("draw.dtr",function(){i._redrawChildren()}),n(r.table().node()).addClass("dtr-"+u.type));r.on("column-reorder.dtr",function(){i._classLogic();i._resizeAuto();i._resize(!0)});r.on("column-sizing.dtr",function(){i._resizeAuto();i._resize()});r.on("preXhr.dtr",function(){var n=[];r.rows().every(function(){this.child.isShown()&&n.push(this.id(!0))});r.one("draw.dtr",function(){i._resizeAuto();i._resize();r.rows(n).every(function(){i._detailsDisplay(this,!1)})})});r.on("draw.dtr",function(){i._controlClass()}).on("init.dtr",function(t){"dt"===t.namespace&&(i._resizeAuto(),i._resize(),n.inArray(!1,i.s.current)&&r.columns.adjust())});this._resize()},_columnsVisiblity:function(t){for(var h=this.s.dt,r=this.s.columns,s=r.map(function(n,t){return{columnIdx:t,priority:n.priority}}).sort(function(n,t){return n.priority!==t.priority?n.priority-t.priority:n.columnIdx-t.columnIdx}),u=n.map(r,function(i,r){return!1===h.column(r).visible()?"not-visible":i.auto&&null===i.minWidth?!1:!0===i.auto?"-":-1!==n.inArray(t,i.includeIn)}),o=0,i=0,c,e,f=u.length;i<f;i++)!0===u[i]&&(o+=r[i].minWidth);for(i=h.settings()[0].oScroll,i=i.sY||i.sX?i.iBarWidth:0,o=h.table().container().offsetWidth-i-o,i=0,f=u.length;i<f;i++)r[i].control&&(o-=r[i].minWidth);for(c=!1,i=0,f=s.length;i<f;i++)e=s[i].columnIdx,"-"===u[e]&&!r[e].control&&r[e].minWidth&&(c||0>o-r[e].minWidth?(c=!0,u[e]=!1):u[e]=!0,o-=r[e].minWidth);for(s=!1,i=0,f=r.length;i<f;i++)if(!r[i].control&&!r[i].never&&!1===u[i]){s=!0;break}for(i=0,f=r.length;i<f;i++)r[i].control&&(u[i]=s),"not-visible"===u[i]&&(u[i]=!1);return-1===n.inArray(!0,u)&&(u[0]=!0),u},_classLogic:function(){var f=this,t=this.c.breakpoints,e=this.s.dt,i=e.columns().eq(0).map(function(n){var t=this.column(n),i=t.header().className;return n=e.settings()[0].aoColumns[n].responsivePriority,t=t.header().getAttribute("data-priority"),n===r&&(n=t===r||null===t?1e4:1*t),{className:i,includeIn:[],auto:!1,control:!1,never:i.match(/\bnever\b/)?!0:!1,priority:n}}),u=function(t,r){t=i[t].includeIn;-1===n.inArray(r,t)&&t.push(r)},o=function(n,r,e,o){if(e){if("max-"===e)for(o=f._find(r).width,r=0,e=t.length;r<e;r++)t[r].width<=o&&u(n,t[r].name);else if("min-"===e)for(o=f._find(r).width,r=0,e=t.length;r<e;r++)t[r].width>=o&&u(n,t[r].name);else if("not-"===e)for(r=0,e=t.length;r<e;r++)-1===t[r].name.indexOf(o)&&u(n,t[r].name)}else i[n].includeIn.push(r)};i.each(function(i,r){for(var u,s=i.className.split(" "),f=!1,e=0,h=s.length;e<h;e++){if(u=s[e].trim(),"all"===u){f=!0;i.includeIn=n.map(t,function(n){return n.name});return}if("none"===u||i.never){f=!0;return}if("control"===u||"dtr-control"===u){f=!0;i.control=!0;return}n.each(t,function(n,t){n=t.name.split("-");var i=u.match(new RegExp("(min\\-|max\\-|not\\-)?("+n[0]+")(\\-[_a-zA-Z0-9])?"));i&&(f=!0,i[2]===n[0]&&i[3]==="-"+n[1]?o(r,t.name,i[1],i[2]+i[3]):i[2]!==n[0]||i[3]||o(r,t.name,i[1],i[2]))})}f||(i.auto=!0)});this.s.columns=i},_controlClass:function(){if("inline"===this.c.details.type){var t=this.s.dt,i=n.inArray(!0,this.s.current);t.cells(null,function(n){return n!==i},{page:"current"}).nodes().to$().filter(".dtr-control").removeClass("dtr-control");t.cells(null,i,{page:"current"}).nodes().to$().addClass("dtr-control")}},_detailsDisplay:function(t,i){var e=this,f=this.s.dt,r=this.c.details,u;r&&!1!==r.type&&(u=r.display(t,i,function(){return r.renderer(f,t[0],e._detailsObj(t[0]))}),!0!==u&&!1!==u||n(f.table().node()).triggerHandler("responsive-display.dt",[f,t,u,i]))},_detailsInit:function(){var f=this,i=this.s.dt,u=this.c.details,t;"inline"===u.type&&(u.target="td.dtr-control, th.dtr-control");i.on("draw.dtr",function(){f._tabIndexes()});f._tabIndexes();n(i.table().body()).on("keyup.dtr","td, th",function(t){13===t.keyCode&&n(this).data("dtr-keyboard")&&n(this).click()});if(t=u.target,u="string"==typeof t?t:"td, th",t!==r||null!==t)n(i.table().body()).on("click.dtr mousedown.dtr mouseup.dtr",u,function(r){if(n(i.table().node()).hasClass("collapsed")&&-1!==n.inArray(n(this).closest("tr").get(0),i.rows().nodes().toArray())){if("number"==typeof t){var u=0>t?i.columns().eq(0).length+t:t;if(i.cell(this).index().column!==u)return}u=i.row(n(this).closest("tr"));"click"===r.type?f._detailsDisplay(u,!1):"mousedown"===r.type?n(this).css("outline","none"):"mouseup"===r.type&&n(this).trigger("blur").css("outline","")}})},_detailsObj:function(t){var r=this,i=this.s.dt;return n.map(this.s.columns,function(u,f){if(!u.never&&!u.control)return u=i.settings()[0].aoColumns[f],{className:u.sClass,columnIndex:f,data:i.cell(t,f).render(r.c.orthogonal),hidden:i.column(f).visible()&&!r.s.current[f],rowIndex:t,title:null!==u.sTitle?u.sTitle:n(i.column(f).header()).text()}})},_find:function(n){for(var i=this.c.breakpoints,t=0,r=i.length;t<r;t++)if(i[t].name===n)return i[t]},_redrawChildren:function(){var t=this,n=this.s.dt;n.rows({page:"current"}).iterator("row",function(i,r){n.row(r);t._detailsDisplay(n.row(r),!0)})},_resize:function(i){for(var l=this,u=this.s.dt,o=n(t).innerWidth(),f=this.c.breakpoints,a=f[0].name,s=this.s.columns,v=this.s.current.slice(),e,h,c,r=f.length-1;0<=r;r--)if(o<=f[r].width){a=f[r].name;break}for(e=this._columnsVisiblity(a),this.s.current=e,f=!1,r=0,o=s.length;r<o;r++)if(!1===e[r]&&!s[r].never&&!s[r].control&&!1==!u.column(r).visible()){f=!0;break}n(u.table().node()).toggleClass("collapsed",f);h=!1;c=0;u.columns().eq(0).each(function(n,t){!0===e[t]&&c++;(i||e[t]!==v[t])&&(h=!0,l._setColumnVis(n,e[t]))});h&&(this._redrawChildren(),n(u.table().node()).trigger("responsive-resize.dt",[u,this.s.current]),0===u.page.info().recordsDisplay&&n("td",u.table().body()).eq(0).attr("colspan",c));l._controlClass()},_resizeAuto:function(){var t=this.s.dt,e=this.s.columns,u,o;if(this.c.auto&&-1!==n.inArray(!0,n.map(e,function(n){return n.auto}))){n.isEmptyObject(f)||n.each(f,function(n){n=n.split("-");s(t,1*n[0],1*n[1])});t.table().node();var i=t.table().node().cloneNode(!1),h=n(t.table().header().cloneNode(!1)).appendTo(i),r=n(t.table().body()).clone(!1,!1).empty().appendTo(i);i.style.width="auto";u=t.columns().header().filter(function(n){return t.column(n).visible()}).to$().clone(!1).css("display","table-cell").css("width","auto").css("min-width",0);n(r).append(n(t.rows({page:"current"}).nodes()).clone(!1)).find("th, td").css("display","");(r=t.table().footer())&&(r=n(r.cloneNode(!1)).appendTo(i),o=t.columns().footer().filter(function(n){return t.column(n).visible()}).to$().clone(!1).css("display","table-cell"),n("<tr/>").append(o).appendTo(r));n("<tr/>").append(u).appendTo(h);"inline"===this.c.details.type&&n(i).addClass("dtr-inline collapsed");n(i).find("[name]").removeAttr("name");n(i).css("position","relative");i=n("<div/>").css({width:1,height:1,overflow:"hidden",clear:"both"}).append(i);i.insertBefore(t.table().node());u.each(function(n){n=t.column.index("fromVisible",n);e[n].minWidth=this.offsetWidth||0});i.remove()}},_responsiveOnlyHidden:function(){var t=this.s.dt;return n.map(this.s.current,function(n,i){return!1===t.column(i).visible()?!0:n})},_setColumnVis:function(t,i){var r=this.s.dt;i=i?"":"none";n(r.column(t).header()).css("display",i);n(r.column(t).footer()).css("display",i);r.column(t).nodes().to$().css("display",i);n.isEmptyObject(f)||r.cells(null,t).indexes().each(function(n){s(r,n.row,n.column)})},_tabIndexes:function(){var i=this.s.dt,u=i.cells({page:"current"}).nodes().to$(),r=i.settings()[0],t=this.c.details.target;u.filter("[data-dtr-keyboard]").removeData("[data-dtr-keyboard]");"number"==typeof t?i.cells(null,t,{page:"current"}).nodes().to$().attr("tabIndex",r.iTabIndex).data("dtr-keyboard",1):("td:first-child, th:first-child"===t&&(t=">td:first-child, >th:first-child"),n(t,i.rows({page:"current"}).nodes()).attr("tabIndex",r.iTabIndex).data("dtr-keyboard",1))}});u.breakpoints=[{name:"desktop",width:Infinity},{name:"tablet-l",width:1024},{name:"tablet-p",width:768},{name:"mobile-l",width:480},{name:"mobile-p",width:320}];u.display={childRow:function(t,i,r){if(i){if(n(t.node()).hasClass("parent"))return t.child(r(),"child").show(),!0}else return t.child.isShown()?(t.child(!1),n(t.node()).removeClass("parent"),!1):(t.child(r(),"child").show(),n(t.node()).addClass("parent"),!0)},childRowImmediate:function(t,i,r){return!i&&t.child.isShown()||!t.responsive.hasHidden()?(t.child(!1),n(t.node()).removeClass("parent"),!1):(t.child(r(),"child").show(),n(t.node()).addClass("parent"),!0)},modal:function(t){return function(r,u,f){if(u)n("div.dtr-modal-content").empty().append(f());else{var e=function(){o.remove();n(i).off("keypress.dtr")},o=n('<div class="dtr-modal"/>').append(n('<div class="dtr-modal-display"/>').append(n('<div class="dtr-modal-content"/>').append(f())).append(n('<div class="dtr-modal-close">&times;<\/div>').click(function(){e()}))).append(n('<div class="dtr-modal-background"/>').click(function(){e()})).appendTo("body");n(i).on("keyup.dtr",function(n){27===n.keyCode&&(n.stopPropagation(),e())})}t&&t.header&&n("div.dtr-modal-content").prepend("<h2>"+t.header(r)+"<\/h2>")}}};f={};u.renderer={listHiddenNodes:function(){return function(t,i,r){var u=n('<ul data-dtr-index="'+i+'" class="dtr-details"/>'),f=!1;return n.each(r,function(i,r){r.hidden&&(n("<li "+(r.className?'class="'+r.className+'"':"")+' data-dtr-index="'+r.columnIndex+'" data-dt-row="'+r.rowIndex+'" data-dt-column="'+r.columnIndex+'"><span class="dtr-title">'+r.title+"<\/span> <\/li>").append(n('<span class="dtr-data"/>').append(h(t,r.rowIndex,r.columnIndex))).appendTo(u),f=!0)}),f?u:!1}},listHidden:function(){return function(t,i,r){return(t=n.map(r,function(n){var t=n.className?'class="'+n.className+'"':"";return n.hidden?"<li "+t+' data-dtr-index="'+n.columnIndex+'" data-dt-row="'+n.rowIndex+'" data-dt-column="'+n.columnIndex+'"><span class="dtr-title">'+n.title+'<\/span> <span class="dtr-data">'+n.data+"<\/span><\/li>":""}).join(""))?n('<ul data-dtr-index="'+i+'" class="dtr-details"/>').append(t):!1}},tableAll:function(t){return t=n.extend({tableClass:""},t),function(i,r,u){return i=n.map(u,function(n){return"<tr "+(n.className?'class="'+n.className+'"':"")+' data-dt-row="'+n.rowIndex+'" data-dt-column="'+n.columnIndex+'"><td>'+n.title+":<\/td> <td>"+n.data+"<\/td><\/tr>"}).join(""),n('<table class="'+t.tableClass+' dtr-details" width="100%"/>').append(i)}}};u.defaults={breakpoints:u.breakpoints,auto:!0,details:{display:u.display.childRow,renderer:u.renderer.listHidden(),target:0,type:"inline"},orthogonal:"display"};e=n.fn.dataTable.Api;e.register("responsive()",function(){return this});e.register("responsive.index()",function(t){return t=n(t),{column:t.data("dtr-index"),row:t.parent().data("dtr-index")}});e.register("responsive.rebuild()",function(){return this.iterator("table",function(n){n._responsive&&n._responsive._classLogic()})});e.register("responsive.recalc()",function(){return this.iterator("table",function(n){n._responsive&&(n._responsive._resizeAuto(),n._responsive._resize())})});e.register("responsive.hasHidden()",function(){var t=this.context[0];return t._responsive?-1!==n.inArray(!1,t._responsive._responsiveOnlyHidden()):!1});e.registerPlural("columns().responsiveHidden()","column().responsiveHidden()",function(){return this.iterator("column",function(n,t){return n._responsive?n._responsive._responsiveOnlyHidden()[t]:!1},1)});u.version="2.2.9";n.fn.dataTable.Responsive=u;n.fn.DataTable.Responsive=u;n(i).on("preInit.dt.dtr",function(t,i){"dt"===t.namespace&&(n(i.nTable).hasClass("responsive")||n(i.nTable).hasClass("dt-responsive")||i.oInit.responsive||o.defaults.responsive)&&(t=i.oInit.responsive,!1!==t&&new u(i,n.isPlainObject(t)?t:{}))});return u});
/*!
 Bootstrap 4 integration for DataTables' Responsive
 2016 SpryMedia Ltd - datatables.net/license
*/
$jscomp=$jscomp||{};$jscomp.scope={};$jscomp.findInternal=function(n,t,i){var f,r,u;for(n instanceof String&&(n=String(n)),f=n.length,r=0;r<f;r++)if(u=n[r],t.call(i,u,r,n))return{i:r,v:u};return{i:-1,v:void 0}};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.SIMPLE_FROUND_POLYFILL=!1;$jscomp.ISOLATE_POLYFILLS=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||"function"==typeof Object.defineProperties?Object.defineProperty:function(n,t,i){return n==Array.prototype||n==Object.prototype?n:(n[t]=i.value,n)};$jscomp.getGlobal=function(n){var t,i;for(n=["object"==typeof globalThis&&globalThis,n,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof global&&global],t=0;t<n.length;++t)if(i=n[t],i&&i.Math==Math)return i;throw Error("Cannot find global object");};$jscomp.global=$jscomp.getGlobal(this);$jscomp.IS_SYMBOL_NATIVE="function"==typeof Symbol&&"symbol"==typeof Symbol("x");$jscomp.TRUST_ES6_POLYFILLS=!$jscomp.ISOLATE_POLYFILLS||$jscomp.IS_SYMBOL_NATIVE;$jscomp.polyfills={};$jscomp.propertyToPolyfillSymbol={};$jscomp.POLYFILL_PREFIX="$jscp$";$jscomp$lookupPolyfilledValue=function(n,t){var i=$jscomp.propertyToPolyfillSymbol[t];return null==i?n[t]:(i=n[i],void 0!==i?i:n[t])};$jscomp.polyfill=function(n,t,i,r){t&&($jscomp.ISOLATE_POLYFILLS?$jscomp.polyfillIsolated(n,t,i,r):$jscomp.polyfillUnisolated(n,t,i,r))};$jscomp.polyfillUnisolated=function(n,t,i,r){for(i=$jscomp.global,n=n.split("."),r=0;r<n.length-1;r++){var u=n[r];if(!(u in i))return;i=i[u]}n=n[n.length-1];r=i[n];t=t(r);t!=r&&null!=t&&$jscomp.defineProperty(i,n,{configurable:!0,writable:!0,value:t})};$jscomp.polyfillIsolated=function(n,t,i,r){var u=n.split("."),f,e;for(n=1===u.length,r=u[0],r=!n&&(r in $jscomp.polyfills)?$jscomp.polyfills:$jscomp.global,f=0;f<u.length-1;f++){if(e=u[f],!(e in r))return;r=r[e]}u=u[u.length-1];i=$jscomp.IS_SYMBOL_NATIVE&&"es6"===i?r[u]:null;t=t(i);null!=t&&(n?$jscomp.defineProperty($jscomp.polyfills,u,{configurable:!0,writable:!0,value:t}):t!==i&&($jscomp.propertyToPolyfillSymbol[u]=$jscomp.IS_SYMBOL_NATIVE?$jscomp.global.Symbol(u):$jscomp.POLYFILL_PREFIX+u,u=$jscomp.propertyToPolyfillSymbol[u],$jscomp.defineProperty(r,u,{configurable:!0,writable:!0,value:t})))};$jscomp.polyfill("Array.prototype.find",function(n){return n?n:function(n,t){return $jscomp.findInternal(this,n,t).v}},"es6","es3"),function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs4","datatables.net-responsive"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net-bs4")(t,i).$),i.fn.dataTable.Responsive||require("datatables.net-responsive")(t,i),n(i,t,t.document)}:n(jQuery,window,document)}(function(n,t,i){t=n.fn.dataTable;i=t.Responsive.display;var u=i.modal,r=n('<div class="modal fade dtr-bs-modal" role="dialog"><div class="modal-dialog" role="document"><div class="modal-content"><div class="modal-header"><button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;<\/span><\/button><\/div><div class="modal-body"/><\/div><\/div><\/div>');return i.modal=function(t){return function(i,f,e){if(n.fn.modal){if(!f){if(t&&t.header){f=r.find("div.modal-header");var o=f.find("button").detach();f.empty().append('<h4 class="modal-title">'+t.header(i)+"<\/h4>").append(o)}r.find("div.modal-body").empty().append(e());r.appendTo("body").modal()}}else u(i,f,e)}},t.Responsive});
/*!
 Buttons for DataTables 2.2.2
 2016-2022 SpryMedia Ltd - datatables.net/license
*/
(function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net")(t,i).$),n(i,t,t.document)}:n(jQuery,window,document)})(function(n,t,i,r){function s(t,i,r){n.fn.animate?t.stop().fadeIn(i,r):(t.css("display","block"),r&&r.call(t))}function h(t,i,r){n.fn.animate?t.stop().fadeOut(i,r):(t.css("display","none"),r&&r.call(t))}function l(n,t){return n=new u.Api(n),t=t?t:n.init().buttons||u.defaults.buttons,new f(n,t).container()}var u=n.fn.dataTable,y=0,p=0,e=u.ext.buttons,f=function(t,i){if(!(this instanceof f))return function(n){return new f(n,t).container()};"undefined"==typeof i&&(i={});!0===i&&(i={});Array.isArray(i)&&(i={buttons:i});this.c=n.extend(!0,{},f.defaults,i);i.buttons&&(this.c.buttons=i.buttons);this.s={dt:new u.Api(t),buttons:[],listenKeys:"",namespace:"dtb"+y++};this.dom={container:n("<"+this.c.dom.container.tag+"/>").addClass(this.c.dom.container.className)};this._constructor()},o;n.extend(f.prototype,{action:function(n,t){return(n=this._nodeToButton(n),t===r)?n.conf.action:(n.conf.action=t,this)},active:function(t,i){var u=this._nodeToButton(t);return(t=this.c.dom.button.active,u=n(u.node),i===r)?u.hasClass(t):(u.toggleClass(t,i===r?!0:i),this)},add:function(n,t,i){var u=this.s.buttons,f,e;if("string"==typeof t){for(t=t.split("-"),f=this.s,u=0,e=t.length-1;u<e;u++)f=f.buttons[1*t[u]];u=f.buttons;t=1*t[t.length-1]}return this._expandButton(u,n,n!==r?n.split:r,(n===r||n.split===r||0===n.split.length)&&f!==r,!1,t),i!==r&&!0!==i||this._draw(),this},collectionRebuild:function(n,t){var i,u;if(n=this._nodeToButton(n),t!==r){for(i=n.buttons.length-1;0<=i;i--)this.remove(n.buttons[i].node);for(i=0;i<t.length;i++)u=t[i],this._expandButton(n.buttons,u,u!==r&&u.config!==r&&u.config.split!==r,!0,u.parentConf!==r&&u.parentConf.split!==r,i,u.parentConf)}this._draw(n.collection,n.buttons)},container:function(){return this.dom.container},disable:function(t){return t=this._nodeToButton(t),n(t.node).addClass(this.c.dom.button.disabled).attr("disabled",!0),this},destroy:function(){n("body").off("keyup."+this.s.namespace);for(var i=this.s.buttons.slice(),t=0,r=i.length;t<r;t++)this.remove(i[t].node);for(this.dom.container.remove(),i=this.s.dt.settings()[0],t=0,r=i.length;t<r;t++)if(i.inst===this){i.splice(t,1);break}return this},enable:function(t,i){return!1===i?this.disable(t):(t=this._nodeToButton(t),n(t.node).removeClass(this.c.dom.button.disabled).removeAttr("disabled"),this)},index:function(n,t,i){var r,f,u;for(t||(t="",i=this.s.buttons),r=0,f=i.length;r<f;r++){if(u=i[r].buttons,i[r].node===n)return t+r;if(u&&u.length&&(u=this.index(n,r+"-",u),null!==u))return u}return null},name:function(){return this.c.name},node:function(t){return t?(t=this._nodeToButton(t),n(t.node)):this.dom.container},processing:function(t,i){var u=this.s.dt,f=this._nodeToButton(t);return i===r?n(f.node).hasClass("processing"):(n(f.node).toggleClass("processing",i),n(u.table().node()).triggerHandler("buttons-processing.dt",[i,u.button(t),u,n(t),f.conf]),this)},remove:function(t){var i=this._nodeToButton(t),u=this._nodeToHost(t),f=this.s.dt,r;if(i.buttons.length)for(r=i.buttons.length-1;0<=r;r--)this.remove(i.buttons[r].node);return i.conf.destroying=!0,i.conf.destroy&&i.conf.destroy.call(f.button(t),f,n(t),i.conf),this._removeKey(i.conf),n(i.node).remove(),t=n.inArray(i,u),u.splice(t,1),this},text:function(t,i){var u=this._nodeToButton(t);t=this.c.dom.collection.buttonLiner;t=u.inCollection&&t&&t.tag?t.tag:this.c.dom.buttonLiner.tag;var o=this.s.dt,f=n(u.node),e=function(n){return"function"==typeof n?n(o,f,u.conf):n};return i===r?e(u.conf.text):(u.conf.text=i,t?f.children(t).eq(0).filter(":not(.dt-down-arrow)").html(e(i)):f.html(e(i)),this)},_constructor:function(){var u=this,f=this.s.dt,t=f.settings()[0],e=this.c.buttons,r,o;for(t._buttons||(t._buttons=[]),t._buttons.push({inst:this,name:this.c.name}),r=0,o=e.length;r<o;r++)this.add(e[r]);f.on("destroy",function(n,i){i===t&&u.destroy()});n("body").on("keyup."+this.s.namespace,function(n){if(!i.activeElement||i.activeElement===i.body){var t=String.fromCharCode(n.keyCode).toLowerCase();-1!==u.s.listenKeys.toLowerCase().indexOf(t)&&u._keypress(t,n)}})},_addKey:function(t){t.key&&(this.s.listenKeys+=n.isPlainObject(t.key)?t.key.key:t.key)},_draw:function(n,t){n||(n=this.dom.container,t=this.s.buttons);n.children().detach();for(var i=0,r=t.length;i<r;i++)n.append(t[i].inserter),n.append(" "),t[i].buttons&&t[i].buttons.length&&this._draw(t[i].collection,t[i].buttons)},_expandButton:function(t,i,u,f,e,o,s){var v=this.s.dt,p=0,a=Array.isArray(i)?i:[i],y,c,h,l;for(i===r&&(a=Array.isArray(u)?u:[u]),u=0,y=a.length;u<y;u++)if(c=this._resolveExtends(a[u]),c)if(i=c.config!==r&&c.config.split?!0:!1,Array.isArray(c))this._expandButton(t,c,h!==r&&h.conf!==r?h.conf.split:r,f,s!==r&&s.split!==r,o,s);else if(h=this._buildButton(c,f,c.split!==r||c.config!==r&&c.config.split!==r,e),h){if(o!==r&&null!==o?(t.splice(o,0,h),o++):t.push(h),h.conf.buttons||h.conf.split){if(h.collection=n("<"+(i?this.c.dom.splitCollection.tag:this.c.dom.collection.tag)+"/>"),h.conf._collection=h.collection,h.conf.split)for(l=0;l<h.conf.split.length;l++)"object"==typeof h.conf.split[l]&&(h.conf.split[l].parent=s,h.conf.split[l].collectionLayout===r&&(h.conf.split[l].collectionLayout=h.conf.collectionLayout),h.conf.split[l].dropup===r&&(h.conf.split[l].dropup=h.conf.dropup),h.conf.split[l].fade===r&&(h.conf.split[l].fade=h.conf.fade));else n(h.node).append(n('<span class="dt-down-arrow">'+this.c.dom.splitDropdown.text+"<\/span>"));this._expandButton(h.buttons,h.conf.buttons,h.conf.split,!i,i,o,h.conf)}h.conf.parent=s;c.init&&c.init.call(v.button(h.node),v,n(h.node),c);p++}},_buildButton:function(t,i,u,f){var c=this.c.dom.button,s=this.c.dom.buttonLiner,h=this.c.dom.collection,b=this.c.dom.splitCollection,nt=this.c.dom.splitDropdownButton,v=this.s.dt,w=function(n){return"function"==typeof n?n(v,o,t):n},l,o,k,d,y,g,a;return t.spacer?(l=n("<span><\/span>").addClass("dt-button-spacer "+t.style+" "+c.spacerClass).html(w(t.text)),{conf:t,node:l,inserter:l,buttons:[],inCollection:i,isSplit:u,inSplit:f,collection:null}):(!u&&f&&b?c=nt:!u&&i&&h.button&&(c=h.button),!u&&f&&b.buttonLiner?s=b.buttonLiner:!u&&i&&h.buttonLiner&&(s=h.buttonLiner),t.available&&!t.available(v,t)&&!t.hasOwnProperty("html"))?!1:(t.hasOwnProperty("html")?o=n(t.html):(k=function(t,i,r,u){u.action.call(i.button(r),t,i,r,u);n(i.table().node()).triggerHandler("buttons-action.dt",[i.button(r),i,r,u])},h=t.tag||c.tag,d=t.clickBlurs===r?!0:t.clickBlurs,o=n("<"+h+"/>").addClass(c.className).addClass(f?this.c.dom.splitDropdownButton.className:"").attr("tabindex",this.s.dt.settings()[0].iTabIndex).attr("aria-controls",this.s.dt.table().node().id).on("click.dtb",function(n){n.preventDefault();!o.hasClass(c.disabled)&&t.action&&k(n,v,o,t);d&&o.trigger("blur")}).on("keypress.dtb",function(n){13===n.keyCode&&(n.preventDefault(),!o.hasClass(c.disabled)&&t.action&&k(n,v,o,t))}),"a"===h.toLowerCase()&&o.attr("href","#"),"button"===h.toLowerCase()&&o.attr("type","button"),s.tag?(h=n("<"+s.tag+"/>").html(w(t.text)).addClass(s.className),"a"===s.tag.toLowerCase()&&h.attr("href","#"),o.append(h)):o.html(w(t.text)),!1===t.enabled&&o.addClass(c.disabled),t.className&&o.addClass(t.className),t.titleAttr&&o.attr("title",w(t.titleAttr)),t.attr&&o.attr(t.attr),t.namespace||(t.namespace=".dt-button-"+p++),t.config!==r&&t.config.split&&(t.split=t.config.split)),s=(s=this.c.dom.buttonContainer)&&s.tag?n("<"+s.tag+"/>").addClass(s.className).append(o):o,this._addKey(t),this.c.buttonCreated&&(s=this.c.buttonCreated(t,s)),u&&(l=n("<div/>").addClass(this.c.dom.splitWrapper.className),l.append(o),y=n.extend(t,{text:this.c.dom.splitDropdown.text,className:this.c.dom.splitDropdown.className,closeButton:!1,attr:{"aria-haspopup":!0,"aria-expanded":!1},align:this.c.dom.splitDropdown.align,splitAlignClass:this.c.dom.splitDropdown.splitAlignClass}),this._addKey(y),g=function(t,i,r,u){e.split.action.call(i.button(n("div.dt-btn-split-wrapper")[0]),t,i,r,u);n(i.table().node()).triggerHandler("buttons-action.dt",[i.button(r),i,r,u]);r.attr("aria-expanded",!0)},a=n('<button class="'+this.c.dom.splitDropdown.className+' dt-button"><span class="dt-btn-split-drop-arrow">'+this.c.dom.splitDropdown.text+"<\/span><\/button>").on("click.dtb",function(n){n.preventDefault();n.stopPropagation();a.hasClass(c.disabled)||g(n,v,a,y);d&&a.trigger("blur")}).on("keypress.dtb",function(n){13===n.keyCode&&(n.preventDefault(),a.hasClass(c.disabled)||g(n,v,a,y))}),0===t.split.length&&a.addClass("dtb-hide-drop"),l.append(a).attr(y.attr)),{conf:t,node:u?l.get(0):o.get(0),inserter:u?l:s,buttons:[],inCollection:i,isSplit:u,inSplit:f,collection:null})},_nodeToButton:function(n,t){var i,u,r;for(t||(t=this.s.buttons),i=0,u=t.length;i<u;i++){if(t[i].node===n)return t[i];if(t[i].buttons.length&&(r=this._nodeToButton(n,t[i].buttons),r))return r}},_nodeToHost:function(n,t){var i,u,r;for(t||(t=this.s.buttons),i=0,u=t.length;i<u;i++){if(t[i].node===n)return t;if(t[i].buttons.length&&(r=this._nodeToHost(n,t[i].buttons),r))return r}},_keypress:function(t,i){if(!i._buttonsHandled){var r=function(u){for(var f,o,e=0,s=u.length;e<s;e++)f=u[e].conf,o=u[e].node,f.key&&(f.key===t?(i._buttonsHandled=!0,n(o).click()):!n.isPlainObject(f.key)||f.key.key!==t||f.key.shiftKey&&!i.shiftKey||f.key.altKey&&!i.altKey||f.key.ctrlKey&&!i.ctrlKey||f.key.metaKey&&!i.metaKey||(i._buttonsHandled=!0,n(o).click())),u[e].buttons.length&&r(u[e].buttons)};r(this.s.buttons)}},_removeKey:function(t){if(t.key){var i=n.isPlainObject(t.key)?t.key.key:t.key;t=this.s.listenKeys.split("");i=n.inArray(i,t);t.splice(i,1);this.s.listenKeys=t.join("")}},_resolveExtends:function(t){var h=this,c=this.s.dt,o,s=function(i){for(var u=0;!n.isPlainObject(i)&&!Array.isArray(i);){if(i===r)return;if("function"==typeof i){if(i=i.call(h,c,t),!i)return!1}else if("string"==typeof i){if(!e[i])return{html:i};i=e[i]}if(u++,30<u)throw"Buttons: Too many iterations";}return Array.isArray(i)?i:n.extend({},i)},u,i,f;for(t=s(t);t&&t.extend;){if(!e[t.extend])throw"Cannot extend unknown button type: "+t.extend;if(u=s(e[t.extend]),Array.isArray(u))return u;if(!u)return!1;if(i=u.className,t.config!==r&&u.config!==r&&(t.config=n.extend({},u.config,t.config)),t=n.extend({},u,t),i&&t.className!==i&&(t.className=i+" "+t.className),f=t.postfixButtons,f){for(t.buttons||(t.buttons=[]),i=0,o=f.length;i<o;i++)t.buttons.push(f[i]);t.postfixButtons=null}if(f=t.prefixButtons){for(t.buttons||(t.buttons=[]),i=0,o=f.length;i<o;i++)t.buttons.splice(i,0,f[i]);t.prefixButtons=null}t.extend=u.extend}return t},_popover:function(r,u,e,o){var a,k,y,p,l;o=this.c;var nt=!1,c=n.extend({align:"button-left",autoClose:!1,background:!0,backgroundClassName:"dt-button-background",closeButton:!0,contentClassName:o.dom.collection.className,collectionLayout:"",collectionTitle:"",dropup:!1,fade:400,popoverTitle:"",rightAlignClassName:"dt-button-right",tag:o.dom.collection.tag},e),v=u.node(),b=function(){nt=!0;h(n(".dt-button-collection"),c.fade,function(){n(this).detach()});n(u.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes()).attr("aria-expanded","false");n("div.dt-button-background").off("click.dtb-collection");f.background(!1,c.backgroundClassName,c.fade,v);n(t).off("resize.resize.dtb-collection");n("body").off(".dtb-collection");u.off("buttons-action.b-internal");u.off("destroy")};if(!1===r)b();else{if(e=n(u.buttons('[aria-haspopup="true"][aria-expanded="true"]').nodes()),e.length&&(v.closest("div.dt-button-collection").length&&(v=e.eq(0)),b()),e=n(".dt-button",r).length,o="",3===e?o="dtb-b3":2===e?o="dtb-b2":1===e&&(o="dtb-b1"),a=n("<div/>").addClass("dt-button-collection").addClass(c.collectionLayout).addClass(c.splitAlignClass).addClass(o).css("display","none"),r=n(r).addClass(c.contentClassName).attr("role","menu").appendTo(a),v.attr("aria-expanded","true"),v.parents("body")[0]!==i.body&&(v=i.body.lastChild),c.popoverTitle?a.prepend('<div class="dt-button-collection-title">'+c.popoverTitle+"<\/div>"):c.collectionTitle&&a.prepend('<div class="dt-button-collection-title">'+c.collectionTitle+"<\/div>"),c.closeButton&&a.prepend('<div class="dtb-popover-close">x<\/div>').addClass("dtb-collection-closeable"),s(a.insertAfter(v),c.fade),e=n(u.table().container()),k=a.css("position"),("container"===c.span||"dt-container"===c.align)&&(v=v.parent(),a.css("width",e.width())),"absolute"===k){y=n(v[0].offsetParent);e=v.position();o=v.offset();var w=y.offset(),d=y.position(),g=t.getComputedStyle(y[0]);w.height=y.outerHeight();w.width=y.width()+parseFloat(g.paddingLeft);w.right=w.left+w.width;w.bottom=w.top+w.height;y=e.top+v.outerHeight();p=e.left;a.css({top:y,left:p});g=t.getComputedStyle(a[0]);l=a.offset();l.height=a.outerHeight();l.width=a.outerWidth();l.right=l.left+l.width;l.bottom=l.top+l.height;l.marginTop=parseFloat(g.marginTop);l.marginBottom=parseFloat(g.marginBottom);c.dropup&&(y=e.top-l.height-l.marginTop-l.marginBottom);("button-right"===c.align||a.hasClass(c.rightAlignClassName))&&(p=e.left-l.width+v.outerWidth());("dt-container"===c.align||"container"===c.align)&&(p<e.left&&(p=-e.left),p+l.width>w.width&&(p=w.width-l.width));d.left+p+l.width>n(t).width()&&(p=n(t).width()-l.width-d.left);0>o.left+p&&(p=-o.left);d.top+y+l.height>n(t).height()+n(t).scrollTop()&&(y=e.top-l.height-l.marginTop-l.marginBottom);d.top+y<n(t).scrollTop()&&(y=e.top+v.outerHeight());a.css({top:y,left:p})}else k=function(){var r=n(t).height()/2,i=a.height()/2;i>r&&(i=r);a.css("marginTop",-1*i)},k(),n(t).on("resize.dtb-collection",function(){k()});c.background&&f.background(!0,c.backgroundClassName,c.fade,c.backgroundHost||v);n("div.dt-button-background").on("click.dtb-collection",function(){});c.autoClose&&setTimeout(function(){u.on("buttons-action.b-internal",function(n,t,i,r){r[0]!==v[0]&&b()})},0);n(a).trigger("buttons-popover.dt");u.on("destroy",b);setTimeout(function(){nt=!1;n("body").on("click.dtb-collection",function(t){if(!nt){var i=n.fn.addBack?"addBack":"andSelf",u=n(t.target).parent()[0];(n(t.target).parents()[i]().filter(r).length||n(u).hasClass("dt-buttons"))&&!n(t.target).hasClass("dt-button-background")||b()}}).on("keyup.dtb-collection",function(n){27===n.keyCode&&b()})},0)}}});f.background=function(t,u,f,e){f===r&&(f=400);e||(e=i.body);t?s(n("<div/>").addClass(u).css("display","none").insertAfter(e),f):h(n("div."+u),f,function(){n(this).removeClass(u).remove()})};f.instanceSelector=function(t,i){if(t===r||null===t)return n.map(i,function(n){return n.inst});var u=[],e=n.map(i,function(n){return n.name}),f=function(t){if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)f(t[r]);else"string"==typeof t?-1!==t.indexOf(",")?f(t.split(",")):(t=n.inArray(t.trim(),e),-1!==t&&u.push(i[t].inst)):"number"==typeof t?u.push(i[t].inst):"object"==typeof t&&u.push(t)};return f(t),u};f.buttonSelector=function(t,i){for(var u=[],o=function(n,t,i){for(var u,e,f=0,s=t.length;f<s;f++)(u=t[f])&&(e=i!==r?i+f:f+"",n.push({node:u.node,name:u.conf.name,idx:e}),u.buttons&&o(n,u.buttons,e+"-"))},f=function(t,i){var h,s=[],e;if(o(s,i.s.buttons),e=n.map(s,function(n){return n.node}),Array.isArray(t)||t instanceof n)for(e=0,h=t.length;e<h;e++)f(t[e],i);else if(null===t||t===r||"*"===t)for(e=0,h=s.length;e<h;e++)u.push({inst:i,node:s[e].node});else if("number"==typeof t)i.s.buttons[t]&&u.push({inst:i,node:i.s.buttons[t].node});else if("string"==typeof t)if(-1!==t.indexOf(","))for(s=t.split(","),e=0,h=s.length;e<h;e++)f(s[e].trim(),i);else if(t.match(/^\d+(\-\d+)*$/))e=n.map(s,function(n){return n.idx}),u.push({inst:i,node:s[n.inArray(t,e)].node});else if(-1!==t.indexOf(":name"))for(t=t.replace(":name",""),e=0,h=s.length;e<h;e++)s[e].name===t&&u.push({inst:i,node:s[e].node});else n(e).filter(t).each(function(){u.push({inst:i,node:this})});else"object"==typeof t&&t.nodeName&&(s=n.inArray(t,e),-1!==s&&u.push({inst:i,node:e[s]}))},e=0,s=t.length;e<s;e++)f(i,t[e]);return u};f.stripData=function(n,t){return"string"!=typeof n?n:(n=n.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""),n=n.replace(/<!\-\-.*?\-\->/g,""),(!t||t.stripHtml)&&(n=n.replace(/<[^>]*>/g,"")),(!t||t.trim)&&(n=n.replace(/^\s+|\s+$/g,"")),(!t||t.stripNewlines)&&(n=n.replace(/\n/g," ")),(!t||t.decodeEntities)&&(v.innerHTML=n,n=v.value),n)};f.defaults={buttons:["copy","excel","csv","pdf","print"],name:"main",tabIndex:0,dom:{container:{tag:"div",className:"dt-buttons"},collection:{tag:"div",className:""},button:{tag:"button",className:"dt-button",active:"active",disabled:"disabled",spacerClass:""},buttonLiner:{tag:"span",className:""},split:{tag:"div",className:"dt-button-split"},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper"},splitDropdown:{tag:"button",text:"&#x25BC;",className:"dt-btn-split-drop",align:"split-right",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button dt-button"},splitCollection:{tag:"div",className:"dt-button-split-collection"}}};f.version="2.2.2";n.extend(e,{collection:{text:function(n){return n.i18n("buttons.collection","Collection")},className:"buttons-collection",closeButton:!1,init:function(n,t){t.attr("aria-expanded",!1)},action:function(n,t,i,r){r._collection.parents("body").length?this.popover(!1,r):this.popover(r._collection,r)},attr:{"aria-haspopup":!0}},split:{text:function(n){return n.i18n("buttons.split","Split")},className:"buttons-split",closeButton:!1,init:function(n,t){return t.attr("aria-expanded",!1)},action:function(n,t,i,r){this.popover(r._collection,r)},attr:{"aria-haspopup":!0}},copy:function(){if(e.copyHtml5)return"copyHtml5"},csv:function(n,t){if(e.csvHtml5&&e.csvHtml5.available(n,t))return"csvHtml5"},excel:function(n,t){if(e.excelHtml5&&e.excelHtml5.available(n,t))return"excelHtml5"},pdf:function(n,t){if(e.pdfHtml5&&e.pdfHtml5.available(n,t))return"pdfHtml5"},pageLength:function(t){var r,u,f,i;if(t=t.settings()[0].aLengthMenu,r=[],u=[],Array.isArray(t[0]))r=t[0],u=t[1];else for(f=0;f<t.length;f++)i=t[f],n.isPlainObject(i)?(r.push(i.value),u.push(i.label)):(r.push(i),u.push(i));return{extend:"collection",text:function(n){return n.i18n("buttons.pageLength",{"-1":"Show all rows",_:"Show %d rows"},n.page.len())},className:"buttons-page-length",autoClose:!0,buttons:n.map(r,function(n,t){return{text:u[t],className:"button-page-length",action:function(t,i){i.page.len(n).draw()},init:function(t,i,r){var u=this;i=function(){u.active(t.page.len()===n)};t.on("length.dt"+r.namespace,i);i()},destroy:function(n,t,i){n.off("length.dt"+i.namespace)}}}),init:function(n,t,i){var r=this;n.on("length.dt"+i.namespace,function(){r.text(i.text)})},destroy:function(n,t,i){n.off("length.dt"+i.namespace)}}},spacer:{style:"empty",spacer:!0,text:function(n){return n.i18n("buttons.spacer","")}}});u.Api.register("buttons()",function(n,t){t===r&&(t=n,n=r);this.selector.buttonGroup=n;var i=this.iterator(!0,"table",function(i){if(i._buttons)return f.buttonSelector(f.instanceSelector(n,i._buttons),t)},!0);return i._groupSelector=n,i});u.Api.register("button()",function(n,t){return n=this.buttons(n,t),1<n.length&&n.splice(1,n.length),n});u.Api.registerPlural("buttons().active()","button().active()",function(n){return n===r?this.map(function(n){return n.inst.active(n.node)}):this.each(function(t){t.inst.active(t.node,n)})});u.Api.registerPlural("buttons().action()","button().action()",function(n){return n===r?this.map(function(n){return n.inst.action(n.node)}):this.each(function(t){t.inst.action(t.node,n)})});u.Api.registerPlural("buttons().collectionRebuild()","button().collectionRebuild()",function(n){return this.each(function(t){for(var i=0;i<n.length;i++)"object"==typeof n[i]&&(n[i].parentConf=t);t.inst.collectionRebuild(t.node,n)})});u.Api.register(["buttons().enable()","button().enable()"],function(n){return this.each(function(t){t.inst.enable(t.node,n)})});u.Api.register(["buttons().disable()","button().disable()"],function(){return this.each(function(n){n.inst.disable(n.node)})});u.Api.register("button().index()",function(){var n=null;return this.each(function(t){t=t.inst.index(t.node);null!==t&&(n=t)}),n});u.Api.registerPlural("buttons().nodes()","button().node()",function(){var t=n();return n(this.each(function(n){t=t.add(n.inst.node(n.node))})),t});u.Api.registerPlural("buttons().processing()","button().processing()",function(n){return n===r?this.map(function(n){return n.inst.processing(n.node)}):this.each(function(t){t.inst.processing(t.node,n)})});u.Api.registerPlural("buttons().text()","button().text()",function(n){return n===r?this.map(function(n){return n.inst.text(n.node)}):this.each(function(t){t.inst.text(t.node,n)})});u.Api.registerPlural("buttons().trigger()","button().trigger()",function(){return this.each(function(n){n.inst.node(n.node).trigger("click")})});u.Api.register("button().popover()",function(n,t){return this.map(function(i){return i.inst._popover(n,this.button(this[0].node),t)})});u.Api.register("buttons().containers()",function(){var t=n(),i=this._groupSelector;return this.iterator(!0,"table",function(n){if(n._buttons){n=f.instanceSelector(i,n._buttons);for(var r=0,u=n.length;r<u;r++)t=t.add(n[r].container())}}),t});u.Api.register("buttons().container()",function(){return this.containers().eq(0)});u.Api.register("button().add()",function(n,t,i){var r=this.context;return r.length&&(r=f.instanceSelector(this._groupSelector,r[0]._buttons),r.length&&r[0].add(t,n,i)),this.button(this._groupSelector,n)});u.Api.register("buttons().destroy()",function(){return this.pluck("inst").unique().each(function(n){n.destroy()}),this});u.Api.registerPlural("buttons().remove()","buttons().remove()",function(){return this.each(function(n){n.inst.remove(n.node)}),this});u.Api.register("buttons.info()",function(t,i,u){var f=this;if(!1===t)return this.off("destroy.btn-info"),h(n("#datatables_buttons_info"),400,function(){n(this).remove()}),clearTimeout(o),o=null,this;o&&clearTimeout(o);n("#datatables_buttons_info").length&&n("#datatables_buttons_info").remove();t=t?"<h2>"+t+"<\/h2>":"";s(n('<div id="datatables_buttons_info" class="dt-button-info"/>').html(t).append(n("<div/>")["string"==typeof i?"html":"append"](i)).css("display","none").appendTo("body"));u!==r&&0!==u&&(o=setTimeout(function(){f.buttons.info(!1)},u));this.on("destroy.btn-info",function(){f.buttons.info(!1)});return this});u.Api.register("buttons.exportData()",function(n){if(this.context.length)return w(new u.Api(this.context[0]),n)});u.Api.register("buttons.exportInfo()",function(t){t||(t={});var i=t,u="*"===i.filename&&"*"!==i.title&&i.title!==r&&null!==i.title&&""!==i.title?i.title:i.filename;return"function"==typeof u&&(u=u()),u===r||null===u?u=null:(-1!==u.indexOf("*")&&(u=u.replace("*",n("head > title").text()).trim()),u=u.replace(/[^a-zA-Z0-9_\u00A1-\uFFFF\.,\-_ !\(\)]/g,""),(i=c(i.extension))||(i=""),u+=i),i=c(t.title),i=null===i?null:-1!==i.indexOf("*")?i.replace("*",n("head > title").text()||"Exported data"):i,{filename:u,title:i,messageTop:a(this,t.message||t.messageTop,"top"),messageBottom:a(this,t.messageBottom,"bottom")}});var c=function(n){return null===n||n===r?null:"function"==typeof n?n():n},a=function(t,i,r){return(i=c(i),null===i)?null:(t=n("caption",t.table().container()).eq(0),"*"===i?t.css("caption-side")!==r?null:t.length?t.text():"":i)},v=n("<textarea/>")[0],w=function(t,i){var u=n.extend(!0,{},{rows:null,columns:"",modifier:{search:"applied",order:"applied"},orthogonal:"display",stripHtml:!0,stripNewlines:!0,decodeEntities:!0,trim:!0,format:{header:function(n){return f.stripData(n,u)},footer:function(n){return f.stripData(n,u)},body:function(n){return f.stripData(n,u)}},customizeData:null},i),v,e,o,a,s;i=t.columns(u.columns).indexes().map(function(n){var i=t.column(n).header();return u.format.header(i.innerHTML,n,i)}).toArray();v=t.table().footer()?t.columns(u.columns).indexes().map(function(n){var i=t.column(n).footer();return u.format.footer(i?i.innerHTML:"",n,i)}).toArray():null;e=n.extend({},u.modifier);t.select&&"function"==typeof t.select.info&&e.selected===r&&t.rows(u.rows,n.extend({selected:!0},e)).any()&&n.extend(e,{selected:!0});e=t.rows(u.rows,e).indexes().toArray();o=t.cells(e,u.columns);e=o.render(u.orthogonal).toArray();o=o.nodes().toArray();for(var h=i.length,y=[],l=0,c=0,p=0<h?e.length/h:0;c<p;c++){for(a=[h],s=0;s<h;s++)a[s]=u.format.body(e[l],c,s,o[l]),l++;y[c]=a}return i={header:i,footer:v,body:y},u.customizeData&&u.customizeData(i),i};n.fn.dataTable.Buttons=f;n.fn.DataTable.Buttons=f;n(i).on("init.dt plugin-init.dt",function(n,t){"dt"===n.namespace&&(n=t.oInit.buttons||u.defaults.buttons)&&!t._buttons&&new f(t,n).container()});return u.ext.feature.push({fnInit:l,cFeature:"B"}),u.ext.features&&u.ext.features.register("buttons",l),f});
/*!
 Bootstrap integration for DataTables' Buttons
 2016 SpryMedia Ltd - datatables.net/license
*/
(function(n){"function"==typeof define&&define.amd?define(["jquery","datatables.net-bs4","datatables.net-buttons"],function(t){return n(t,window,document)}):"object"==typeof exports?module.exports=function(t,i){return t||(t=window),i&&i.fn.dataTable||(i=require("datatables.net-bs4")(t,i).$),i.fn.dataTable.Buttons||require("datatables.net-buttons")(t,i),n(i,t,t.document)}:n(jQuery,window,document)})(function(n,t){return t=n.fn.dataTable,n.extend(!0,t.Buttons.defaults,{dom:{container:{className:"dt-buttons btn-group flex-wrap"},button:{className:"btn btn-secondary"},collection:{tag:"div",className:"dropdown-menu",closeButton:!1,button:{tag:"a",className:"dt-button dropdown-item",active:"active",disabled:"disabled"}},splitWrapper:{tag:"div",className:"dt-btn-split-wrapper btn-group",closeButton:!1},splitDropdown:{tag:"button",text:"",className:"btn btn-secondary dt-btn-split-drop dropdown-toggle dropdown-toggle-split",closeButton:!1,align:"split-left",splitAlignClass:"dt-button-split-left"},splitDropdownButton:{tag:"button",className:"dt-btn-split-drop-button btn btn-secondary",closeButton:!1}},buttonCreated:function(t,i){return t.buttons?n('<div class="btn-group"/>').append(i):i}}),t.ext.buttons.collection.className+=" dropdown-toggle",t.ext.buttons.collection.rightAlignClassName="dropdown-menu-right",t.Buttons});
/**
* @version: 3.1
* @author: Dan Grossman http://www.dangrossman.info/
* @copyright: Copyright (c) 2012-2019 Dan Grossman. All rights reserved.
* @license: Licensed under the MIT license. See http://www.opensource.org/licenses/mit-license.php
* @website: http://www.daterangepicker.com/
*/
(function(n,t){var i,r;typeof define=="function"&&define.amd?define(["moment","jquery"],function(n,i){return i.fn||(i.fn={}),typeof n!="function"&&n.hasOwnProperty("default")&&(n=n["default"]),t(n,i)}):typeof module=="object"&&module.exports?(i=typeof window!="undefined"?window.jQuery:undefined,i||(i=require("jquery"),i.fn||(i.fn={})),r=typeof window!="undefined"&&typeof window.moment!="undefined"?window.moment:require("moment"),module.exports=t(r,i)):n.daterangepicker=t(n.moment,n.jQuery)})(this,function(n,t){var i=function(i,r,u){var y,f,o,e,c,v,s,h,a,l;if(this.parentEl="body",this.element=t(i),this.startDate=n().startOf("day"),this.endDate=n().endOf("day"),this.minDate=!1,this.maxDate=!1,this.maxSpan=!1,this.autoApply=!1,this.singleDatePicker=!1,this.showDropdowns=!1,this.minYear=n().subtract(100,"year").format("YYYY"),this.maxYear=n().add(100,"year").format("YYYY"),this.showWeekNumbers=!1,this.showISOWeekNumbers=!1,this.showCustomRangeLabel=!0,this.timePicker=!1,this.timePicker24Hour=!1,this.timePickerIncrement=1,this.timePickerSeconds=!1,this.linkedCalendars=!0,this.autoUpdateInput=!0,this.alwaysShowCalendars=!1,this.ranges={},this.opens="right",this.element.hasClass("pull-right")&&(this.opens="left"),this.drops="down",this.element.hasClass("dropup")&&(this.drops="up"),this.buttonClasses="btn btn-sm",this.applyButtonClasses="btn-primary",this.cancelButtonClasses="btn-default",this.locale={direction:"ltr",format:n.localeData().longDateFormat("L"),separator:" - ",applyLabel:"Apply",cancelLabel:"Cancel",weekLabel:"W",customRangeLabel:"Custom Range",daysOfWeek:n.weekdaysMin(),monthNames:n.monthsShort(),firstDay:n.localeData().firstDayOfWeek()},this.callback=function(){},this.isShowing=!1,this.leftCalendar={},this.rightCalendar={},(typeof r!="object"||r===null)&&(r={}),r=t.extend(this.element.data(),r),typeof r.template=="string"||r.template instanceof t||(r.template='<div class="daterangepicker"><div class="ranges"><\/div><div class="drp-calendar left"><div class="calendar-table"><\/div><div class="calendar-time"><\/div><\/div><div class="drp-calendar right"><div class="calendar-table"><\/div><div class="calendar-time"><\/div><\/div><div class="drp-buttons"><span class="drp-selected"><\/span><button class="cancelBtn" type="button"><\/button><button class="applyBtn" disabled="disabled" type="button"><\/button> <\/div><\/div>'),this.parentEl=r.parentEl&&t(r.parentEl).length?t(r.parentEl):t(this.parentEl),this.container=t(r.template).appendTo(this.parentEl),typeof r.locale=="object"&&(typeof r.locale.direction=="string"&&(this.locale.direction=r.locale.direction),typeof r.locale.format=="string"&&(this.locale.format=r.locale.format),typeof r.locale.separator=="string"&&(this.locale.separator=r.locale.separator),typeof r.locale.daysOfWeek=="object"&&(this.locale.daysOfWeek=r.locale.daysOfWeek.slice()),typeof r.locale.monthNames=="object"&&(this.locale.monthNames=r.locale.monthNames.slice()),typeof r.locale.firstDay=="number"&&(this.locale.firstDay=r.locale.firstDay),typeof r.locale.applyLabel=="string"&&(this.locale.applyLabel=r.locale.applyLabel),typeof r.locale.cancelLabel=="string"&&(this.locale.cancelLabel=r.locale.cancelLabel),typeof r.locale.weekLabel=="string"&&(this.locale.weekLabel=r.locale.weekLabel),typeof r.locale.customRangeLabel=="string"&&(h=document.createElement("textarea"),h.innerHTML=r.locale.customRangeLabel,a=h.value,this.locale.customRangeLabel=a)),this.container.addClass(this.locale.direction),typeof r.startDate=="string"&&(this.startDate=n(r.startDate,this.locale.format)),typeof r.endDate=="string"&&(this.endDate=n(r.endDate,this.locale.format)),typeof r.minDate=="string"&&(this.minDate=n(r.minDate,this.locale.format)),typeof r.maxDate=="string"&&(this.maxDate=n(r.maxDate,this.locale.format)),typeof r.startDate=="object"&&(this.startDate=n(r.startDate)),typeof r.endDate=="object"&&(this.endDate=n(r.endDate)),typeof r.minDate=="object"&&(this.minDate=n(r.minDate)),typeof r.maxDate=="object"&&(this.maxDate=n(r.maxDate)),this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone()),this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone()),typeof r.applyButtonClasses=="string"&&(this.applyButtonClasses=r.applyButtonClasses),typeof r.applyClass=="string"&&(this.applyButtonClasses=r.applyClass),typeof r.cancelButtonClasses=="string"&&(this.cancelButtonClasses=r.cancelButtonClasses),typeof r.cancelClass=="string"&&(this.cancelButtonClasses=r.cancelClass),typeof r.maxSpan=="object"&&(this.maxSpan=r.maxSpan),typeof r.dateLimit=="object"&&(this.maxSpan=r.dateLimit),typeof r.opens=="string"&&(this.opens=r.opens),typeof r.drops=="string"&&(this.drops=r.drops),typeof r.showWeekNumbers=="boolean"&&(this.showWeekNumbers=r.showWeekNumbers),typeof r.showISOWeekNumbers=="boolean"&&(this.showISOWeekNumbers=r.showISOWeekNumbers),typeof r.buttonClasses=="string"&&(this.buttonClasses=r.buttonClasses),typeof r.buttonClasses=="object"&&(this.buttonClasses=r.buttonClasses.join(" ")),typeof r.showDropdowns=="boolean"&&(this.showDropdowns=r.showDropdowns),typeof r.minYear=="number"&&(this.minYear=r.minYear),typeof r.maxYear=="number"&&(this.maxYear=r.maxYear),typeof r.showCustomRangeLabel=="boolean"&&(this.showCustomRangeLabel=r.showCustomRangeLabel),typeof r.singleDatePicker=="boolean"&&(this.singleDatePicker=r.singleDatePicker,this.singleDatePicker&&(this.endDate=this.startDate.clone())),typeof r.timePicker=="boolean"&&(this.timePicker=r.timePicker),typeof r.timePickerSeconds=="boolean"&&(this.timePickerSeconds=r.timePickerSeconds),typeof r.timePickerIncrement=="number"&&(this.timePickerIncrement=r.timePickerIncrement),typeof r.timePicker24Hour=="boolean"&&(this.timePicker24Hour=r.timePicker24Hour),typeof r.autoApply=="boolean"&&(this.autoApply=r.autoApply),typeof r.autoUpdateInput=="boolean"&&(this.autoUpdateInput=r.autoUpdateInput),typeof r.linkedCalendars=="boolean"&&(this.linkedCalendars=r.linkedCalendars),typeof r.isInvalidDate=="function"&&(this.isInvalidDate=r.isInvalidDate),typeof r.isCustomDate=="function"&&(this.isCustomDate=r.isCustomDate),typeof r.alwaysShowCalendars=="boolean"&&(this.alwaysShowCalendars=r.alwaysShowCalendars),this.locale.firstDay!=0)for(y=this.locale.firstDay;y>0;)this.locale.daysOfWeek.push(this.locale.daysOfWeek.shift()),y--;if(typeof r.startDate=="undefined"&&typeof r.endDate=="undefined"&&t(this.element).is(":text")&&(c=t(this.element).val(),v=c.split(this.locale.separator),f=o=null,v.length==2?(f=n(v[0],this.locale.format),o=n(v[1],this.locale.format)):this.singleDatePicker&&c!==""&&(f=n(c,this.locale.format),o=n(c,this.locale.format)),f!==null&&o!==null&&(this.setStartDate(f),this.setEndDate(o))),typeof r.ranges=="object"){for(e in r.ranges)(f=typeof r.ranges[e][0]=="string"?n(r.ranges[e][0],this.locale.format):n(r.ranges[e][0]),o=typeof r.ranges[e][1]=="string"?n(r.ranges[e][1],this.locale.format):n(r.ranges[e][1]),this.minDate&&f.isBefore(this.minDate)&&(f=this.minDate.clone()),s=this.maxDate,this.maxSpan&&s&&f.clone().add(this.maxSpan).isAfter(s)&&(s=f.clone().add(this.maxSpan)),s&&o.isAfter(s)&&(o=s.clone()),this.minDate&&o.isBefore(this.minDate,this.timepicker?"minute":"day")||s&&f.isAfter(s,this.timepicker?"minute":"day"))||(h=document.createElement("textarea"),h.innerHTML=e,a=h.value,this.ranges[a]=[f,o]);l="<ul>";for(e in this.ranges)l+='<li data-range-key="'+e+'">'+e+"<\/li>";this.showCustomRangeLabel&&(l+='<li data-range-key="'+this.locale.customRangeLabel+'">'+this.locale.customRangeLabel+"<\/li>");l+="<\/ul>";this.container.find(".ranges").prepend(l)}typeof u=="function"&&(this.callback=u);this.timePicker||(this.startDate=this.startDate.startOf("day"),this.endDate=this.endDate.endOf("day"),this.container.find(".calendar-time").hide());this.timePicker&&this.autoApply&&(this.autoApply=!1);this.autoApply&&this.container.addClass("auto-apply");typeof r.ranges=="object"&&this.container.addClass("show-ranges");this.singleDatePicker&&(this.container.addClass("single"),this.container.find(".drp-calendar.left").addClass("single"),this.container.find(".drp-calendar.left").show(),this.container.find(".drp-calendar.right").hide(),!this.timePicker&&this.autoApply&&this.container.addClass("auto-apply"));(typeof r.ranges=="undefined"&&!this.singleDatePicker||this.alwaysShowCalendars)&&this.container.addClass("show-calendar");this.container.addClass("opens"+this.opens);this.container.find(".applyBtn, .cancelBtn").addClass(this.buttonClasses);this.applyButtonClasses.length&&this.container.find(".applyBtn").addClass(this.applyButtonClasses);this.cancelButtonClasses.length&&this.container.find(".cancelBtn").addClass(this.cancelButtonClasses);this.container.find(".applyBtn").html(this.locale.applyLabel);this.container.find(".cancelBtn").html(this.locale.cancelLabel);this.container.find(".drp-calendar").on("click.daterangepicker",".prev",t.proxy(this.clickPrev,this)).on("click.daterangepicker",".next",t.proxy(this.clickNext,this)).on("mousedown.daterangepicker","td.available",t.proxy(this.clickDate,this)).on("mouseenter.daterangepicker","td.available",t.proxy(this.hoverDate,this)).on("change.daterangepicker","select.yearselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.monthselect",t.proxy(this.monthOrYearChanged,this)).on("change.daterangepicker","select.hourselect,select.minuteselect,select.secondselect,select.ampmselect",t.proxy(this.timeChanged,this));this.container.find(".ranges").on("click.daterangepicker","li",t.proxy(this.clickRange,this));this.container.find(".drp-buttons").on("click.daterangepicker","button.applyBtn",t.proxy(this.clickApply,this)).on("click.daterangepicker","button.cancelBtn",t.proxy(this.clickCancel,this));if(this.element.is("input")||this.element.is("button"))this.element.on({"click.daterangepicker":t.proxy(this.show,this),"focus.daterangepicker":t.proxy(this.show,this),"keyup.daterangepicker":t.proxy(this.elementChanged,this),"keydown.daterangepicker":t.proxy(this.keydown,this)});else{this.element.on("click.daterangepicker",t.proxy(this.toggle,this));this.element.on("keydown.daterangepicker",t.proxy(this.toggle,this))}this.updateElement()};return i.prototype={constructor:i,setStartDate:function(t){typeof t=="string"&&(this.startDate=n(t,this.locale.format));typeof t=="object"&&(this.startDate=n(t));this.timePicker||(this.startDate=this.startDate.startOf("day"));this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.minDate&&this.startDate.isBefore(this.minDate)&&(this.startDate=this.minDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.round(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.maxDate&&this.startDate.isAfter(this.maxDate)&&(this.startDate=this.maxDate.clone(),this.timePicker&&this.timePickerIncrement&&this.startDate.minute(Math.floor(this.startDate.minute()/this.timePickerIncrement)*this.timePickerIncrement));this.isShowing||this.updateElement();this.updateMonthsInView()},setEndDate:function(t){typeof t=="string"&&(this.endDate=n(t,this.locale.format));typeof t=="object"&&(this.endDate=n(t));this.timePicker||(this.endDate=this.endDate.endOf("day"));this.timePicker&&this.timePickerIncrement&&this.endDate.minute(Math.round(this.endDate.minute()/this.timePickerIncrement)*this.timePickerIncrement);this.endDate.isBefore(this.startDate)&&(this.endDate=this.startDate.clone());this.maxDate&&this.endDate.isAfter(this.maxDate)&&(this.endDate=this.maxDate.clone());this.maxSpan&&this.startDate.clone().add(this.maxSpan).isBefore(this.endDate)&&(this.endDate=this.startDate.clone().add(this.maxSpan));this.previousRightTime=this.endDate.clone();this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.isShowing||this.updateElement();this.updateMonthsInView()},isInvalidDate:function(){return!1},isCustomDate:function(){return!1},updateView:function(){this.timePicker&&(this.renderTimePicker("left"),this.renderTimePicker("right"),this.endDate?this.container.find(".right .calendar-time select").prop("disabled",!1).removeClass("disabled"):this.container.find(".right .calendar-time select").prop("disabled",!0).addClass("disabled"));this.endDate&&this.container.find(".drp-selected").html(this.startDate.format(this.locale.format)+this.locale.separator+this.endDate.format(this.locale.format));this.updateMonthsInView();this.updateCalendars();this.updateFormInputs()},updateMonthsInView:function(){if(this.endDate){if(!this.singleDatePicker&&this.leftCalendar.month&&this.rightCalendar.month&&(this.startDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.startDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM"))&&(this.endDate.format("YYYY-MM")==this.leftCalendar.month.format("YYYY-MM")||this.endDate.format("YYYY-MM")==this.rightCalendar.month.format("YYYY-MM")))return;this.leftCalendar.month=this.startDate.clone().date(2);this.rightCalendar.month=this.linkedCalendars||this.endDate.month()==this.startDate.month()&&this.endDate.year()==this.startDate.year()?this.startDate.clone().date(2).add(1,"month"):this.endDate.clone().date(2)}else this.leftCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&this.rightCalendar.month.format("YYYY-MM")!=this.startDate.format("YYYY-MM")&&(this.leftCalendar.month=this.startDate.clone().date(2),this.rightCalendar.month=this.startDate.clone().date(2).add(1,"month"));this.maxDate&&this.linkedCalendars&&!this.singleDatePicker&&this.rightCalendar.month>this.maxDate&&(this.rightCalendar.month=this.maxDate.clone().date(2),this.leftCalendar.month=this.maxDate.clone().date(2).subtract(1,"month"))},updateCalendars:function(){var n,t,r,i;(this.timePicker&&(this.endDate?(n=parseInt(this.container.find(".left .hourselect").val(),10),t=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),r=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,this.timePicker24Hour||(i=this.container.find(".left .ampmselect").val(),i==="PM"&&n<12&&(n+=12),i==="AM"&&n===12&&(n=0))):(n=parseInt(this.container.find(".right .hourselect").val(),10),t=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(t)&&(t=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),r=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,this.timePicker24Hour||(i=this.container.find(".right .ampmselect").val(),i==="PM"&&n<12&&(n+=12),i==="AM"&&n===12&&(n=0))),this.leftCalendar.month.hour(n).minute(t).second(r),this.rightCalendar.month.hour(n).minute(t).second(r)),this.renderCalendar("left"),this.renderCalendar("right"),this.container.find(".ranges li").removeClass("active"),this.endDate!=null)&&this.calculateChosenLabel()},renderCalendar:function(i){var r=i=="left"?this.leftCalendar:this.rightCalendar,d=r.month.month(),g=r.month.year(),yt=r.month.hour(),et=r.month.minute(),ot=r.month.second(),pt=n([g,d]).daysInMonth(),w=n([g,d,1]),wt=n([g,d,pt]),st=n(w).subtract(1,"month").month(),ht=n(w).subtract(1,"month").year(),nt=n([ht,st]).daysInMonth(),ct=w.day(),r=[],v,y,tt,c,b,a,ut,f,u,o,p,k,ft,s;for(r.firstDay=w,r.lastDay=wt,s=0;s<6;s++)r[s]=[];v=nt-ct+this.locale.firstDay+1;v>nt&&(v-=7);ct==this.locale.firstDay&&(v=nt-6);y=n([ht,st,v,12,et,ot]);for(var s=0,u=0,f=0;s<42;s++,u++,y=n(y).add(24,"hour"))s>0&&u%7==0&&(u=0,f++),r[f][u]=y.clone().hour(yt).minute(et).second(ot),y.hour(12),this.minDate&&r[f][u].format("YYYY-MM-DD")==this.minDate.format("YYYY-MM-DD")&&r[f][u].isBefore(this.minDate)&&i=="left"&&(r[f][u]=this.minDate.clone()),this.maxDate&&r[f][u].format("YYYY-MM-DD")==this.maxDate.format("YYYY-MM-DD")&&r[f][u].isAfter(this.maxDate)&&i=="right"&&(r[f][u]=this.maxDate.clone());i=="left"?this.leftCalendar.calendar=r:this.rightCalendar.calendar=r;var l=i=="left"?this.minDate:this.startDate,h=this.maxDate,dt=i=="left"?this.startDate:this.endDate,gt=this.locale.direction=="ltr"?{left:"chevron-left",right:"chevron-right"}:{left:"chevron-right",right:"chevron-left"},e='<table class="table-condensed">';if(e+="<thead>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+="<th><\/th>"),e+=l&&!l.isBefore(r.firstDay)||this.linkedCalendars&&i!="left"?"<th><\/th>":'<th class="prev available"><span><\/span><\/th>',tt=this.locale.monthNames[r[1][1].month()]+r[1][1].format(" YYYY"),this.showDropdowns){var lt=r[1][1].month(),it=r[1][1].year(),at=h&&h.year()||this.maxYear,vt=l&&l.year()||this.minYear,bt=it==vt,kt=it==at,rt='<select class="monthselect">';for(c=0;c<12;c++)rt+=(!bt||l&&c>=l.month())&&(!kt||h&&c<=h.month())?"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+">"+this.locale.monthNames[c]+"<\/option>":"<option value='"+c+"'"+(c===lt?" selected='selected'":"")+" disabled='disabled'>"+this.locale.monthNames[c]+"<\/option>";for(rt+="<\/select>",b='<select class="yearselect">',a=vt;a<=at;a++)b+='<option value="'+a+'"'+(a===it?' selected="selected"':"")+">"+a+"<\/option>";b+="<\/select>";tt=rt+b}for(e+='<th colspan="5" class="month">'+tt+"<\/th>",e+=(!h||h.isAfter(r.lastDay))&&(!this.linkedCalendars||i=="right"||this.singleDatePicker)?'<th class="next available"><span><\/span><\/th>':"<th><\/th>",e+="<\/tr>",e+="<tr>",(this.showWeekNumbers||this.showISOWeekNumbers)&&(e+='<th class="week">'+this.locale.weekLabel+"<\/th>"),t.each(this.locale.daysOfWeek,function(n,t){e+="<th>"+t+"<\/th>"}),e+="<\/tr>",e+="<\/thead>",e+="<tbody>",this.endDate==null&&this.maxSpan&&(ut=this.startDate.clone().add(this.maxSpan).endOf("day"),(!h||ut.isBefore(h))&&(h=ut)),f=0;f<6;f++){for(e+="<tr>",this.showWeekNumbers?e+='<td class="week">'+r[f][0].week()+"<\/td>":this.showISOWeekNumbers&&(e+='<td class="week">'+r[f][0].isoWeek()+"<\/td>"),u=0;u<7;u++){for(o=[],r[f][u].isSame(new Date,"day")&&o.push("today"),r[f][u].isoWeekday()>5&&o.push("weekend"),r[f][u].month()!=r[1][1].month()&&o.push("off","ends"),this.minDate&&r[f][u].isBefore(this.minDate,"day")&&o.push("off","disabled"),h&&r[f][u].isAfter(h,"day")&&o.push("off","disabled"),this.isInvalidDate(r[f][u])&&o.push("off","disabled"),r[f][u].format("YYYY-MM-DD")==this.startDate.format("YYYY-MM-DD")&&o.push("active","start-date"),this.endDate!=null&&r[f][u].format("YYYY-MM-DD")==this.endDate.format("YYYY-MM-DD")&&o.push("active","end-date"),this.endDate!=null&&r[f][u]>this.startDate&&r[f][u]<this.endDate&&o.push("in-range"),p=this.isCustomDate(r[f][u]),p!==!1&&(typeof p=="string"?o.push(p):Array.prototype.push.apply(o,p)),k="",ft=!1,s=0;s<o.length;s++)k+=o[s]+" ",o[s]=="disabled"&&(ft=!0);ft||(k+="available");e+='<td class="'+k.replace(/^\s+|\s+$/g,"")+'" data-title="r'+f+"c"+u+'">'+r[f][u].date()+"<\/td>"}e+="<\/tr>"}e+="<\/tbody>";e+="<\/table>";this.container.find(".drp-calendar."+i+" .calendar-table").html(e)},renderTimePicker:function(n){var r,i,e,u,s,v,y,p,c,o,f,t,l,a;if(n!="right"||this.endDate){for(u=this.maxDate,this.maxSpan&&(!this.maxDate||this.startDate.clone().add(this.maxSpan).isBefore(this.maxDate))&&(u=this.startDate.clone().add(this.maxSpan)),n=="left"?(i=this.startDate.clone(),e=this.minDate):n=="right"&&(i=this.endDate.clone(),e=this.startDate,s=this.container.find(".drp-calendar.right .calendar-time"),s.html()!=""&&(i.hour(isNaN(i.hour())?s.find(".hourselect option:selected").val():i.hour()),i.minute(isNaN(i.minute())?s.find(".minuteselect option:selected").val():i.minute()),i.second(isNaN(i.second())?s.find(".secondselect option:selected").val():i.second()),this.timePicker24Hour||(v=s.find(".ampmselect option:selected").val(),v==="PM"&&i.hour()<12&&i.hour(i.hour()+12),v==="AM"&&i.hour()===12&&i.hour(0))),i.isBefore(this.startDate)&&(i=this.startDate.clone()),u&&i.isAfter(u)&&(i=u.clone())),r='<select class="hourselect">',y=this.timePicker24Hour?0:1,p=this.timePicker24Hour?23:12,t=y;t<=p;t++)c=t,this.timePicker24Hour||(c=i.hour()>=12?t==12?12:t+12:t==12?0:t),o=i.clone().hour(c),f=!1,e&&o.minute(59).isBefore(e)&&(f=!0),u&&o.minute(0).isAfter(u)&&(f=!0),r+=c!=i.hour()||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+t+"<\/option>":'<option value="'+t+'">'+t+"<\/option>":'<option value="'+t+'" selected="selected">'+t+"<\/option>";for(r+="<\/select> ",r+=': <select class="minuteselect">',t=0;t<60;t+=this.timePickerIncrement){var h=t<10?"0"+t:t,o=i.clone().minute(t),f=!1;e&&o.second(59).isBefore(e)&&(f=!0);u&&o.second(0).isAfter(u)&&(f=!0);r+=i.minute()!=t||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+h+"<\/option>":'<option value="'+t+'">'+h+"<\/option>":'<option value="'+t+'" selected="selected">'+h+"<\/option>"}if(r+="<\/select> ",this.timePickerSeconds){for(r+=': <select class="secondselect">',t=0;t<60;t++){var h=t<10?"0"+t:t,o=i.clone().second(t),f=!1;e&&o.isBefore(e)&&(f=!0);u&&o.isAfter(u)&&(f=!0);r+=i.second()!=t||f?f?'<option value="'+t+'" disabled="disabled" class="disabled">'+h+"<\/option>":'<option value="'+t+'">'+h+"<\/option>":'<option value="'+t+'" selected="selected">'+h+"<\/option>"}r+="<\/select> "}this.timePicker24Hour||(r+='<select class="ampmselect">',l="",a="",e&&i.clone().hour(12).minute(0).second(0).isBefore(e)&&(l=' disabled="disabled" class="disabled"'),u&&i.clone().hour(0).minute(0).second(0).isAfter(u)&&(a=' disabled="disabled" class="disabled"'),r+=i.hour()>=12?'<option value="AM"'+l+'>AM<\/option><option value="PM" selected="selected"'+a+">PM<\/option>":'<option value="AM" selected="selected"'+l+'>AM<\/option><option value="PM"'+a+">PM<\/option>",r+="<\/select>");this.container.find(".drp-calendar."+n+" .calendar-time").html(r)}},updateFormInputs:function(){this.singleDatePicker||this.endDate&&(this.startDate.isBefore(this.endDate)||this.startDate.isSame(this.endDate))?this.container.find("button.applyBtn").prop("disabled",!1):this.container.find("button.applyBtn").prop("disabled",!0)},move:function(){var i={top:0,left:0},n,f=this.drops,o=t(window).width(),u,e,r;this.parentEl.is("body")||(i={top:this.parentEl.offset().top-this.parentEl.scrollTop(),left:this.parentEl.offset().left-this.parentEl.scrollLeft()},o=this.parentEl[0].clientWidth+this.parentEl.offset().left);switch(f){case"auto":n=this.element.offset().top+this.element.outerHeight()-i.top;n+this.container.outerHeight()>=this.parentEl[0].scrollHeight&&(n=this.element.offset().top-this.container.outerHeight()-i.top,f="up");break;case"up":n=this.element.offset().top-this.container.outerHeight()-i.top;break;default:n=this.element.offset().top+this.element.outerHeight()-i.top}this.container.css({top:0,left:0,right:"auto"});u=this.container.outerWidth();this.container.toggleClass("drop-up",f=="up");this.opens=="left"?(e=o-this.element.offset().left-this.element.outerWidth(),u+e>t(window).width()?this.container.css({top:n,right:"auto",left:9}):this.container.css({top:n,right:e,left:"auto"})):this.opens=="center"?(r=this.element.offset().left-i.left+this.element.outerWidth()/2-u/2,r<0?this.container.css({top:n,right:"auto",left:9}):r+u>t(window).width()?this.container.css({top:n,left:"auto",right:0}):this.container.css({top:n,left:r,right:"auto"})):(r=this.element.offset().left-i.left,r+u>t(window).width()?this.container.css({top:n,left:"auto",right:0}):this.container.css({top:n,left:r,right:"auto"}))},show:function(){if(!this.isShowing){this._outsideClickProxy=t.proxy(function(n){this.outsideClick(n)},this);t(document).on("mousedown.daterangepicker",this._outsideClickProxy).on("touchend.daterangepicker",this._outsideClickProxy).on("click.daterangepicker","[data-toggle=dropdown]",this._outsideClickProxy).on("focusin.daterangepicker",this._outsideClickProxy);t(window).on("resize.daterangepicker",t.proxy(function(n){this.move(n)},this));this.oldStartDate=this.startDate.clone();this.oldEndDate=this.endDate.clone();this.previousRightTime=this.endDate.clone();this.updateView();this.container.show();this.move();this.element.trigger("show.daterangepicker",this);this.isShowing=!0}},hide:function(){this.isShowing&&(this.endDate||(this.startDate=this.oldStartDate.clone(),this.endDate=this.oldEndDate.clone()),this.startDate.isSame(this.oldStartDate)&&this.endDate.isSame(this.oldEndDate)||this.callback(this.startDate.clone(),this.endDate.clone(),this.chosenLabel),this.updateElement(),t(document).off(".daterangepicker"),t(window).off(".daterangepicker"),this.container.hide(),this.element.trigger("hide.daterangepicker",this),this.isShowing=!1)},toggle:function(){this.isShowing?this.hide():this.show()},outsideClick:function(n){var i=t(n.target);n.type=="focusin"||i.closest(this.element).length||i.closest(this.container).length||i.closest(".calendar-table").length||(this.hide(),this.element.trigger("outsideClick.daterangepicker",this))},showCalendars:function(){this.container.addClass("show-calendar");this.move();this.element.trigger("showCalendar.daterangepicker",this)},hideCalendars:function(){this.container.removeClass("show-calendar");this.element.trigger("hideCalendar.daterangepicker",this)},clickRange:function(n){var t=n.target.getAttribute("data-range-key"),i;this.chosenLabel=t;t==this.locale.customRangeLabel?this.showCalendars():(i=this.ranges[t],this.startDate=i[0],this.endDate=i[1],this.timePicker||(this.startDate.startOf("day"),this.endDate.endOf("day")),this.alwaysShowCalendars||this.hideCalendars(),this.clickApply())},clickPrev:function(n){var i=t(n.target).parents(".drp-calendar");i.hasClass("left")?(this.leftCalendar.month.subtract(1,"month"),this.linkedCalendars&&this.rightCalendar.month.subtract(1,"month")):this.rightCalendar.month.subtract(1,"month");this.updateCalendars()},clickNext:function(n){var i=t(n.target).parents(".drp-calendar");i.hasClass("left")?this.leftCalendar.month.add(1,"month"):(this.rightCalendar.month.add(1,"month"),this.linkedCalendars&&this.leftCalendar.month.add(1,"month"));this.updateCalendars()},hoverDate:function(n){if(t(n.target).hasClass("available")){var i=t(n.target).attr("data-title"),r=i.substr(1,1),u=i.substr(3,1),e=t(n.target).parents(".drp-calendar"),f=e.hasClass("left")?this.leftCalendar.calendar[r][u]:this.rightCalendar.calendar[r][u],o=this.leftCalendar,s=this.rightCalendar,h=this.startDate;this.endDate||this.container.find(".drp-calendar tbody td").each(function(n,i){if(!t(i).hasClass("week")){var u=t(i).attr("data-title"),e=u.substr(1,1),c=u.substr(3,1),l=t(i).parents(".drp-calendar"),r=l.hasClass("left")?o.calendar[e][c]:s.calendar[e][c];r.isAfter(h)&&r.isBefore(f)||r.isSame(f,"day")?t(i).addClass("in-range"):t(i).removeClass("in-range")}})}},clickDate:function(n){var i,f,u,e;if(t(n.target).hasClass("available")){var o=t(n.target).attr("data-title"),s=o.substr(1,1),h=o.substr(3,1),c=t(n.target).parents(".drp-calendar"),r=c.hasClass("left")?this.leftCalendar.calendar[s][h]:this.rightCalendar.calendar[s][h];this.endDate||r.isBefore(this.startDate,"day")?(this.timePicker&&(i=parseInt(this.container.find(".left .hourselect").val(),10),this.timePicker24Hour||(f=this.container.find(".left .ampmselect").val(),f==="PM"&&i<12&&(i+=12),f==="AM"&&i===12&&(i=0)),u=parseInt(this.container.find(".left .minuteselect").val(),10),isNaN(u)&&(u=parseInt(this.container.find(".left .minuteselect option:last").val(),10)),e=this.timePickerSeconds?parseInt(this.container.find(".left .secondselect").val(),10):0,r=r.clone().hour(i).minute(u).second(e)),this.endDate=null,this.setStartDate(r.clone())):!this.endDate&&r.isBefore(this.startDate)?this.setEndDate(this.startDate.clone()):(this.timePicker&&(i=parseInt(this.container.find(".right .hourselect").val(),10),this.timePicker24Hour||(f=this.container.find(".right .ampmselect").val(),f==="PM"&&i<12&&(i+=12),f==="AM"&&i===12&&(i=0)),u=parseInt(this.container.find(".right .minuteselect").val(),10),isNaN(u)&&(u=parseInt(this.container.find(".right .minuteselect option:last").val(),10)),e=this.timePickerSeconds?parseInt(this.container.find(".right .secondselect").val(),10):0,r=r.clone().hour(i).minute(u).second(e)),this.setEndDate(r.clone()),this.autoApply&&(this.calculateChosenLabel(),this.clickApply()));this.singleDatePicker&&(this.setEndDate(this.startDate),!this.timePicker&&this.autoApply&&this.clickApply());this.updateView();n.stopPropagation()}},calculateChosenLabel:function(){var i=!0,r=0,n,t;for(n in this.ranges){if(this.timePicker){if(t=this.timePickerSeconds?"YYYY-MM-DD HH:mm:ss":"YYYY-MM-DD HH:mm",this.startDate.format(t)==this.ranges[n][0].format(t)&&this.endDate.format(t)==this.ranges[n][1].format(t)){i=!1;this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").attr("data-range-key");break}}else if(this.startDate.format("YYYY-MM-DD")==this.ranges[n][0].format("YYYY-MM-DD")&&this.endDate.format("YYYY-MM-DD")==this.ranges[n][1].format("YYYY-MM-DD")){i=!1;this.chosenLabel=this.container.find(".ranges li:eq("+r+")").addClass("active").attr("data-range-key");break}r++}i&&(this.chosenLabel=this.showCustomRangeLabel?this.container.find(".ranges li:last").addClass("active").attr("data-range-key"):null,this.showCalendars())},clickApply:function(){this.hide();this.element.trigger("apply.daterangepicker",this)},clickCancel:function(){this.startDate=this.oldStartDate;this.endDate=this.oldEndDate;this.hide();this.element.trigger("cancel.daterangepicker",this)},monthOrYearChanged:function(n){var u=t(n.target).closest(".drp-calendar").hasClass("left"),e=u?"left":"right",f=this.container.find(".drp-calendar."+e),r=parseInt(f.find(".monthselect").val(),10),i=f.find(".yearselect").val();u||(i<this.startDate.year()||i==this.startDate.year()&&r<this.startDate.month())&&(r=this.startDate.month(),i=this.startDate.year());this.minDate&&(i<this.minDate.year()||i==this.minDate.year()&&r<this.minDate.month())&&(r=this.minDate.month(),i=this.minDate.year());this.maxDate&&(i>this.maxDate.year()||i==this.maxDate.year()&&r>this.maxDate.month())&&(r=this.maxDate.month(),i=this.maxDate.year());u?(this.leftCalendar.month.month(r).year(i),this.linkedCalendars&&(this.rightCalendar.month=this.leftCalendar.month.clone().add(1,"month"))):(this.rightCalendar.month.month(r).year(i),this.linkedCalendars&&(this.leftCalendar.month=this.rightCalendar.month.clone().subtract(1,"month")));this.updateCalendars()},timeChanged:function(n){var r=t(n.target).closest(".drp-calendar"),h=r.hasClass("left"),u=parseInt(r.find(".hourselect").val(),10),e=parseInt(r.find(".minuteselect").val(),10),o,s,i,f;isNaN(e)&&(e=parseInt(r.find(".minuteselect option:last").val(),10));o=this.timePickerSeconds?parseInt(r.find(".secondselect").val(),10):0;this.timePicker24Hour||(s=r.find(".ampmselect").val(),s==="PM"&&u<12&&(u+=12),s==="AM"&&u===12&&(u=0));h?(i=this.startDate.clone(),i.hour(u),i.minute(e),i.second(o),this.setStartDate(i),this.singleDatePicker?this.endDate=this.startDate.clone():this.endDate&&this.endDate.format("YYYY-MM-DD")==i.format("YYYY-MM-DD")&&this.endDate.isBefore(i)&&this.setEndDate(i.clone())):this.endDate&&(f=this.endDate.clone(),f.hour(u),f.minute(e),f.second(o),this.setEndDate(f));this.updateCalendars();this.updateFormInputs();this.renderTimePicker("left");this.renderTimePicker("right")},elementChanged:function(){if(this.element.is("input")&&this.element.val().length){var r=this.element.val().split(this.locale.separator),t=null,i=null;(r.length===2&&(t=n(r[0],this.locale.format),i=n(r[1],this.locale.format)),(this.singleDatePicker||t===null||i===null)&&(t=n(this.element.val(),this.locale.format),i=t),t.isValid()&&i.isValid())&&(this.setStartDate(t),this.setEndDate(i),this.updateView())}},keydown:function(n){(n.keyCode===9||n.keyCode===13)&&this.hide();n.keyCode===27&&(n.preventDefault(),n.stopPropagation(),this.hide())},updateElement:function(){if(this.element.is("input")&&this.autoUpdateInput){var n=this.startDate.format(this.locale.format);this.singleDatePicker||(n+=this.locale.separator+this.endDate.format(this.locale.format));n!==this.element.val()&&this.element.val(n).trigger("change")}},remove:function(){this.container.remove();this.element.off(".daterangepicker");this.element.removeData()}},t.fn.daterangepicker=function(n,r){var u=t.extend(!0,{},t.fn.daterangepicker.defaultOptions,n);return this.each(function(){var n=t(this);n.data("daterangepicker")&&n.data("daterangepicker").remove();n.data("daterangepicker",new i(n,u,r))}),this},i}),function(t){function i(){var n=Error.apply(this,arguments);n.name=this.name="FlashError";this.stack=n.stack;this.message=n.message}function r(){var n=Error.apply(this,arguments);n.name=this.name="WebcamError";this.stack=n.stack;this.message=n.message}var f,e=function(){},u;e.prototype=Error.prototype;i.prototype=new e;r.prototype=new e;u={version:"1.0.26",protocol:location.protocol.match(/https/i)?"https":"http",loaded:!1,live:!1,userMedia:!0,iOS:/iPad|iPhone|iPod/.test(navigator.userAgent)&&!t.MSStream,params:{width:0,height:0,dest_width:0,dest_height:0,image_format:"jpeg",jpeg_quality:90,enable_flash:!0,force_flash:!1,flip_horiz:!1,fps:30,upload_name:"webcam",constraints:null,swfURL:"",flashNotDetectedText:"ERROR: No Adobe Flash Player detected.  Webcam.js relies on Flash for browsers that do not support getUserMedia (like yours).",noInterfaceFoundText:"No supported webcam interface found.",unfreeze_snap:!0,iosPlaceholderText:"Click here to open camera.",user_callback:null,user_canvas:null},errors:{FlashError:i,WebcamError:r},hooks:{},init:function(){var n=this;this.mediaDevices=navigator.mediaDevices&&navigator.mediaDevices.getUserMedia?navigator.mediaDevices:navigator.mozGetUserMedia||navigator.webkitGetUserMedia?{getUserMedia:function(n){return new Promise(function(t,i){(navigator.mozGetUserMedia||navigator.webkitGetUserMedia).call(navigator,n,t,i)})}}:null;t.URL=t.URL||t.webkitURL||t.mozURL||t.msURL;this.userMedia=this.userMedia&&!!this.mediaDevices&&!!t.URL;navigator.userAgent.match(/Firefox\D+(\d+)/)&&parseInt(RegExp.$1,10)<21&&(this.userMedia=null);this.userMedia&&t.addEventListener("beforeunload",function(){n.reset()})},exifOrientation:function(t){var i=new DataView(t),r,s,h,u,c,l,y,o,f,a,v,e;if(i.getUint8(0)!=255||i.getUint8(1)!=216)return console.log("Not a valid JPEG file"),0;for(r=2,s=null;r<t.byteLength;){if(i.getUint8(r)!=255)return console.log("Not a valid marker at offset "+r+", found: "+i.getUint8(r)),0;if(s=i.getUint8(r+1),s==225){for(r+=4,h="",n=0;n<4;n++)h+=String.fromCharCode(i.getUint8(r+n));if(h!="Exif")return console.log("Not valid EXIF data found"),0;if(r+=6,u=null,i.getUint16(r)==18761)u=!1;else if(i.getUint16(r)==19789)u=!0;else return console.log("Not valid TIFF data! (no 0x4949 or 0x4D4D)"),0;if(i.getUint16(r+2,!u)!=42)return console.log("Not valid TIFF data! (no 0x002A)"),0;if(c=i.getUint32(r+4,!u),c<8)return console.log("Not valid TIFF data! (First offset less than 8)",i.getUint32(r+4,!u)),0;for(l=r+c,y=i.getUint16(l,!u),o=0;o<y;o++)if(f=l+o*12+2,i.getUint16(f,!u)==274)return(a=i.getUint16(f+2,!u),v=i.getUint32(f+4,!u),a!=3&&v!=1)?(console.log("Invalid EXIF orientation value type ("+a+") or count ("+v+")"),0):(e=i.getUint16(f+8,!u),e<1||e>8)?(console.log("Invalid EXIF orientation value ("+e+")"),0):e}else r+=2+i.getUint16(r+2)}return 0},fixOrientation:function(n,t,i){var r=new Image;r.addEventListener("load",function(){var u=document.createElement("canvas"),n=u.getContext("2d");t<5?(u.width=r.width,u.height=r.height):(u.width=r.height,u.height=r.width);switch(t){case 2:n.transform(-1,0,0,1,r.width,0);break;case 3:n.transform(-1,0,0,-1,r.width,r.height);break;case 4:n.transform(1,0,0,-1,0,r.height);break;case 5:n.transform(0,1,1,0,0,0);break;case 6:n.transform(0,1,-1,0,r.height,0);break;case 7:n.transform(0,-1,-1,0,r.height,r.width);break;case 8:n.transform(0,-1,1,0,0,r.width)}n.drawImage(r,0,0);i.src=u.toDataURL()},!1);r.src=n},attach:function(n){var y,c,l,i,v,a,s,o,h,e,p,w;if(typeof n=="string"&&(n=document.getElementById(n)||document.querySelector(n)),!n)return this.dispatch("error",new r("Could not locate DOM element to attach to."));if(this.container=n,n.innerHTML="",y=document.createElement("div"),n.appendChild(y),this.peg=y,this.params.width||(this.params.width=n.offsetWidth),this.params.height||(this.params.height=n.offsetHeight),!this.params.width||!this.params.height)return this.dispatch("error",new r("No width and/or height for webcam.  Please call set() first, or attach to a visible element."));this.params.dest_width||(this.params.dest_width=this.params.width);this.params.dest_height||(this.params.dest_height=this.params.height);this.userMedia=f===undefined?this.userMedia:f;this.params.force_flash&&(f=this.userMedia,this.userMedia=null);typeof this.params.fps!="number"&&(this.params.fps=30);c=this.params.width/this.params.dest_width;l=this.params.height/this.params.dest_height;this.userMedia?(i=document.createElement("video"),i.setAttribute("autoplay","autoplay"),i.setAttribute("playsinline","playsinline"),i.style.width=""+this.params.dest_width+"px",i.style.height=""+this.params.dest_height+"px",(c!=1||l!=1)&&(n.style.overflow="hidden",i.style.webkitTransformOrigin="0px 0px",i.style.mozTransformOrigin="0px 0px",i.style.msTransformOrigin="0px 0px",i.style.oTransformOrigin="0px 0px",i.style.transformOrigin="0px 0px",i.style.webkitTransform="scaleX("+c+") scaleY("+l+")",i.style.mozTransform="scaleX("+c+") scaleY("+l+")",i.style.msTransform="scaleX("+c+") scaleY("+l+")",i.style.oTransform="scaleX("+c+") scaleY("+l+")",i.style.transform="scaleX("+c+") scaleY("+l+")"),n.appendChild(i),this.video=i,o=this,this.mediaDevices.getUserMedia({audio:!1,video:this.params.constraints||{mandatory:{minWidth:this.params.dest_width,minHeight:this.params.dest_height}}}).then(function(n){i.onloadedmetadata=function(){o.stream=n;o.loaded=!0;o.live=!0;o.dispatch("load");o.dispatch("live");o.flip()};"srcObject"in i?i.srcObject=n:i.src=t.URL.createObjectURL(n)}).catch(function(t){o.params.enable_flash&&o.detectFlash()?setTimeout(function(){o.params.force_flash=1;o.attach(n)},1):o.dispatch("error",t)})):this.iOS?(e=document.createElement("div"),e.id=this.container.id+"-ios_div",e.className="webcamjs-ios-placeholder",e.style.width=""+this.params.width+"px",e.style.height=""+this.params.height+"px",e.style.textAlign="center",e.style.display="table-cell",e.style.verticalAlign="middle",e.style.backgroundRepeat="no-repeat",e.style.backgroundSize="contain",e.style.backgroundPosition="center",v=document.createElement("span"),v.className="webcamjs-ios-text",v.innerHTML=this.params.iosPlaceholderText,e.appendChild(v),a=document.createElement("img"),a.id=this.container.id+"-ios_img",a.style.width=""+this.params.dest_width+"px",a.style.height=""+this.params.dest_height+"px",a.style.display="none",e.appendChild(a),s=document.createElement("input"),s.id=this.container.id+"-ios_input",s.setAttribute("type","file"),s.setAttribute("accept","image/*"),s.setAttribute("capture","camera"),o=this,h=this.params,s.addEventListener("change",function(n){var r,t,u,i;n.target.files.length>0&&n.target.files[0].type.indexOf("image/")==0&&(r=URL.createObjectURL(n.target.files[0]),t=new Image,t.addEventListener("load",function(){var n=document.createElement("canvas"),r,i;n.width=h.dest_width;n.height=h.dest_height;r=n.getContext("2d");ratio=Math.min(t.width/h.dest_width,t.height/h.dest_height);var u=h.dest_width*ratio,f=h.dest_height*ratio,o=(t.width-u)/2,s=(t.height-f)/2;r.drawImage(t,o,s,u,f,0,0,h.dest_width,h.dest_height);i=n.toDataURL();a.src=i;e.style.backgroundImage="url('"+i+"')"},!1),u=new FileReader,u.addEventListener("load",function(n){var i=o.exifOrientation(n.target.result);i>1?o.fixOrientation(r,i,t):t.src=r},!1),i=new XMLHttpRequest,i.open("GET",r,!0),i.responseType="blob",i.onload=function(){(this.status==200||this.status===0)&&u.readAsArrayBuffer(this.response)},i.send())},!1),s.style.display="none",n.appendChild(s),e.addEventListener("click",function(){h.user_callback?o.snap(h.user_callback,h.user_canvas):(s.style.display="block",s.focus(),s.click(),s.style.display="none")},!1),n.appendChild(e),this.loaded=!0,this.live=!0):this.params.enable_flash&&this.detectFlash()?(t.Webcam=u,e=document.createElement("div"),e.innerHTML=this.getSWFHTML(),n.appendChild(e)):this.dispatch("error",new r(this.params.noInterfaceFoundText));this.params.crop_width&&this.params.crop_height?(p=Math.floor(this.params.crop_width*c),w=Math.floor(this.params.crop_height*l),n.style.width=""+p+"px",n.style.height=""+w+"px",n.style.overflow="hidden",n.scrollLeft=Math.floor(this.params.width/2-p/2),n.scrollTop=Math.floor(this.params.height/2-w/2)):(n.style.width=""+this.params.width+"px",n.style.height=""+this.params.height+"px")},reset:function(){var n,t;this.preview_active&&this.unfreeze();this.unflip();this.userMedia&&(this.stream&&(this.stream.getVideoTracks?(n=this.stream.getVideoTracks(),n&&n[0]&&n[0].stop&&n[0].stop()):this.stream.stop&&this.stream.stop()),delete this.stream,delete this.video);this.userMedia!==!0&&this.loaded&&!this.iOS&&(t=this.getMovie(),t&&t._releaseCamera&&t._releaseCamera());this.container&&(this.container.innerHTML="",delete this.container);this.loaded=!1;this.live=!1},set:function(){if(arguments.length==1)for(var n in arguments[0])this.params[n]=arguments[0][n];else this.params[arguments[0]]=arguments[1]},on:function(n,t){n=n.replace(/^on/i,"").toLowerCase();this.hooks[n]||(this.hooks[n]=[]);this.hooks[n].push(t)},off:function(n,t){if(n=n.replace(/^on/i,"").toLowerCase(),this.hooks[n])if(t){var i=this.hooks[n].indexOf(t);i>-1&&this.hooks[n].splice(i,1)}else this.hooks[n]=[]},dispatch:function(){var f=arguments[0].replace(/^on/i,"").toLowerCase(),u=Array.prototype.slice.call(arguments,1),e,o,n,s;if(this.hooks[f]&&this.hooks[f].length){for(e=0,o=this.hooks[f].length;e<o;e++)n=this.hooks[f][e],typeof n=="function"?n.apply(this,u):typeof n=="object"&&n.length==2?n[0][n[1]].apply(n[0],u):t[n]&&t[n].apply(t,u);return!0}return f=="error"&&(s=u[0]instanceof i||u[0]instanceof r?u[0].message:"Could not access webcam: "+u[0].name+": "+u[0].message+" "+u[0].toString(),alert("Webcam.js Error: "+s)),!1},setSWFLocation:function(n){this.set("swfURL",n)},detectFlash:function(){var u="Shockwave Flash",f="application/x-shockwave-flash",s=t,n=navigator,i=!1,e,r,o;if(typeof n.plugins!="undefined"&&typeof n.plugins[u]=="object")e=n.plugins[u].description,e&&typeof n.mimeTypes!="undefined"&&n.mimeTypes[f]&&n.mimeTypes[f].enabledPlugin&&(i=!0);else if(typeof s.ActiveXObject!="undefined")try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");r&&(o=r.GetVariable("$version"),o&&(i=!0))}catch(h){}return i},getSWFHTML:function(){var u=this.params.swfURL,f,o,r,s,e,n,h;if(location.protocol.match(/file/))return this.dispatch("error",new i("Flash does not work from local disk.  Please run from a web server.")),'<h3 style="color:red">ERROR: the Webcam.js Flash fallback does not work from local disk.  Please run it from a web server.<\/h3>';if(!this.detectFlash())return this.dispatch("error",new i("Adobe Flash Player not found.  Please install from get.adobe.com/flashplayer and try again.")),'<h3 style="color:red">'+this.params.flashNotDetectedText+"<\/h3>";if(!u){for(f="",o=document.getElementsByTagName("script"),r=0,s=o.length;r<s;r++)e=o[r].getAttribute("src"),e&&e.match(/\/webcam(\.min)?\.js/)&&(f=e.replace(/\/webcam(\.min)?\.js.*$/,""),r=s);u=f?f+"/webcam.swf":"webcam.swf"}t.localStorage&&!localStorage.getItem("visited")&&(this.params.new_user=1,localStorage.setItem("visited",1));n="";for(h in this.params)n&&(n+="&"),n+=h+"="+escape(this.params[h]);return""+('<object classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" type="application/x-shockwave-flash" codebase="'+this.protocol+'://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab#version=9,0,0,0" width="'+this.params.width+'" height="'+this.params.height+'" id="webcam_movie_obj" align="middle"><param name="wmode" value="opaque" /><param name="allowScriptAccess" value="always" /><param name="allowFullScreen" value="false" /><param name="movie" value="'+u+'" /><param name="loop" value="false" /><param name="menu" value="false" /><param name="quality" value="best" /><param name="bgcolor" value="#ffffff" /><param name="flashvars" value="'+n+'"/><embed id="webcam_movie_embed" src="'+u+'" wmode="opaque" loop="false" menu="false" quality="best" bgcolor="#ffffff" width="'+this.params.width+'" height="'+this.params.height+'" name="webcam_movie_embed" align="middle" allowScriptAccess="always" allowFullScreen="false" type="application/x-shockwave-flash" pluginspage="http://www.macromedia.com/go/getflashplayer" flashvars="'+n+'"><\/embed><\/object>')},getMovie:function(){if(!this.loaded)return this.dispatch("error",new i("Flash Movie is not loaded yet"));var n=document.getElementById("webcam_movie_obj");return n&&n._snap||(n=document.getElementById("webcam_movie_embed")),n||this.dispatch("error",new i("Cannot locate Flash movie in DOM")),n},freeze:function(){var r=this,u=this.params,t,i,f;this.preview_active&&this.unfreeze();t=this.params.width/this.params.dest_width;i=this.params.height/this.params.dest_height;this.unflip();var e=u.crop_width||u.dest_width,o=u.crop_height||u.dest_height,n=document.createElement("canvas");n.width=e;n.height=o;f=n.getContext("2d");this.preview_canvas=n;this.preview_context=f;(t!=1||i!=1)&&(n.style.webkitTransformOrigin="0px 0px",n.style.mozTransformOrigin="0px 0px",n.style.msTransformOrigin="0px 0px",n.style.oTransformOrigin="0px 0px",n.style.transformOrigin="0px 0px",n.style.webkitTransform="scaleX("+t+") scaleY("+i+")",n.style.mozTransform="scaleX("+t+") scaleY("+i+")",n.style.msTransform="scaleX("+t+") scaleY("+i+")",n.style.oTransform="scaleX("+t+") scaleY("+i+")",n.style.transform="scaleX("+t+") scaleY("+i+")");this.snap(function(){n.style.position="relative";n.style.left=""+r.container.scrollLeft+"px";n.style.top=""+r.container.scrollTop+"px";r.container.insertBefore(n,r.peg);r.container.style.overflow="hidden";r.preview_active=!0},n)},unfreeze:function(){this.preview_active&&(this.container.removeChild(this.preview_canvas),delete this.preview_context,delete this.preview_canvas,this.preview_active=!1,this.flip())},flip:function(){if(this.params.flip_horiz){var n=this.container.style;n.webkitTransform="scaleX(-1)";n.mozTransform="scaleX(-1)";n.msTransform="scaleX(-1)";n.oTransform="scaleX(-1)";n.transform="scaleX(-1)";n.filter="FlipH";n.msFilter="FlipH"}},unflip:function(){if(this.params.flip_horiz){var n=this.container.style;n.webkitTransform="scaleX(1)";n.mozTransform="scaleX(1)";n.msTransform="scaleX(1)";n.oTransform="scaleX(1)";n.transform="scaleX(1)";n.filter="";n.msFilter=""}},savePreview:function(n,t){var r=this.params,i=this.preview_canvas,f=this.preview_context,u;t&&(u=t.getContext("2d"),u.drawImage(i,0,0));n(t?null:i.toDataURL("image/"+r.image_format,r.jpeg_quality/100),i,f);this.params.unfreeze_snap&&this.unfreeze()},snap:function(n,t){var c,i,u,f,s,h,e;if(n||(n=this.params.user_callback),t||(t=this.params.user_canvas),c=this,i=this.params,!this.loaded)return this.dispatch("error",new r("Webcam is not loaded yet"));if(!n)return this.dispatch("error",new r("Please provide a callback function or canvas to snap()"));if(this.preview_active)return this.savePreview(n,t),null;if(u=document.createElement("canvas"),u.width=this.params.dest_width,u.height=this.params.dest_height,f=u.getContext("2d"),this.params.flip_horiz&&(f.translate(i.dest_width,0),f.scale(-1,1)),s=function(){var r,e,o;this.src&&this.width&&this.height&&f.drawImage(this,0,0,i.dest_width,i.dest_height);i.crop_width&&i.crop_height&&(r=document.createElement("canvas"),r.width=i.crop_width,r.height=i.crop_height,e=r.getContext("2d"),e.drawImage(u,Math.floor(i.dest_width/2-i.crop_width/2),Math.floor(i.dest_height/2-i.crop_height/2),i.crop_width,i.crop_height,0,0,i.crop_width,i.crop_height),f=e,u=r);t&&(o=t.getContext("2d"),o.drawImage(u,0,0));n(t?null:u.toDataURL("image/"+i.image_format,i.jpeg_quality/100),u,f)},this.userMedia)f.drawImage(this.video,0,0,this.params.dest_width,this.params.dest_height),s();else if(this.iOS){var l=document.getElementById(this.container.id+"-ios_div"),e=document.getElementById(this.container.id+"-ios_img"),o=document.getElementById(this.container.id+"-ios_input");iFunc=function(){s.call(e);e.removeEventListener("load",iFunc);l.style.backgroundImage="none";e.removeAttribute("src");o.value=null};o.value?iFunc(null):(e.addEventListener("load",iFunc),o.style.display="block",o.focus(),o.click(),o.style.display="none")}else h=this.getMovie()._snap(),e=new Image,e.onload=s,e.src="data:image/"+this.params.image_format+";base64,"+h;return null},configure:function(n){n||(n="camera");this.getMovie()._configure(n)},flashNotify:function(n,t){switch(n){case"flashLoadComplete":this.loaded=!0;this.dispatch("load");break;case"cameraLive":this.live=!0;this.dispatch("live");break;case"error":this.dispatch("error",new i(t))}},b64ToUint6:function(n){return n>64&&n<91?n-65:n>96&&n<123?n-71:n>47&&n<58?n+4:n===43?62:n===47?63:0},base64DecToArr:function(n,t){for(var s=n.replace(/[^A-Za-z0-9\+\/]/g,""),r=s.length,h=t?Math.ceil((r*3+1>>2)/t)*t:r*3+1>>2,c=new Uint8Array(h),u,f,e=0,o=0,i=0;i<r;i++)if(f=i&3,e|=this.b64ToUint6(s.charCodeAt(i))<<18-6*f,f===3||r-i==1){for(u=0;u<3&&o<h;u++,o++)c[o]=e>>>(16>>>u&24)&255;e=0}return c},upload:function(n,t,i){var o=this.params.upload_name||"webcam",f="",s,r,h,c,e;if(n.match(/^data\:image\/(\w+)/))f=RegExp.$1;else throw"Cannot locate image format in Data URI";s=n.replace(/^data\:image\/\w+\;base64\,/,"");r=new XMLHttpRequest;r.open("POST",t,!0);r.upload&&r.upload.addEventListener&&r.upload.addEventListener("progress",function(n){if(n.lengthComputable){var t=n.loaded/n.total;u.dispatch("uploadProgress",t,n)}},!1);h=this;r.onload=function(){i&&i.apply(h,[r.status,r.responseText,r.statusText]);u.dispatch("uploadComplete",r.status,r.responseText,r.statusText)};c=new Blob([this.base64DecToArr(s)],{type:"image/"+f});e=new FormData;e.append(o,c,o+"."+f.replace(/e/,""));r.send(e)}};u.init();typeof define=="function"&&define.amd?define(function(){return u}):typeof module=="object"&&module.exports?module.exports=u:t.Webcam=u}(window),function(n,t){typeof exports=="object"&&typeof module=="object"?module.exports=t():typeof define=="function"&&define.amd?define([],t):typeof exports=="object"?exports.Raphael=t():n.Raphael=t()}(window,function(){return function(n){function t(r){if(i[r])return i[r].exports;var u=i[r]={i:r,l:!1,exports:{}};return n[r].call(u.exports,u,u.exports,t),u.l=!0,u.exports}var i={};return t.m=n,t.c=i,t.d=function(n,i,r){t.o(n,i)||Object.defineProperty(n,i,{enumerable:!0,get:r})},t.r=function(n){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"});Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,i){var r,u;if((i&1&&(n=t(n)),i&8)||i&4&&typeof n=="object"&&n&&n.__esModule)return n;if(r=Object.create(null),t.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:n}),i&2&&typeof n!="string")for(u in n)t.d(r,u,function(t){return n[t]}.bind(null,u));return r},t.n=function(n){var i=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(i,"a",i),i},t.o=function(n,t){return Object.prototype.hasOwnProperty.call(n,t)},t.p="",t(t.s="./dev/raphael.amd.js")}({"./dev/raphael.amd.js":function(n,t,i){var u,r;!(u=[i("./dev/raphael.core.js"),i("./dev/raphael.svg.js"),i("./dev/raphael.vml.js")],r=function(n){return n}.apply(t,u),r!==undefined&&(n.exports=r))},"./dev/raphael.core.js":function(n,t,i){var u,r;!(u=[i("./node_modules/eve-raphael/eve.js")],r=function(n){function t(i){var r,u;return t.is(i,"function")?ci?i():n.on("raphael.DOMload",i):t.is(i,nt)?t._engine.create[a](t,i.splice(0,3+t.is(i[0],y))).add(i):(r=Array.prototype.slice.call(arguments,0),t.is(r[r.length-1],"function")?(u=r.pop(),ci?u.call(t._engine.create[a](t,r)):n.on("raphael.DOMload",function(){u.call(t._engine.create[a](t,r))})):t._engine.create[a](t,arguments))}function yt(n){var i,t;if(typeof n=="function"||Object(n)!==n)return n;i=new n.constructor;for(t in n)n[l](t)&&(i[t]=yt(n[t]));return i}function ff(n,t){for(var i=0,r=n.length;i<r;i++)if(n[i]===t)return n.push(n.splice(i,1)[0])}function tt(n,t,i){function r(){var o=Array.prototype.slice.call(arguments,0),u=o.join(""),f=r.cache=r.cache||{},e=r.count=r.count||[];return f[l](u)?(ff(e,u),i?i(f[u]):f[u]):(e.length>=1e3&&delete f[e.shift()],e.push(u),f[u]=n[a](t,o),i?i(f[u]):f[u])}return r}function fi(){return this.hex}function pr(n,t){for(var i,f=[],r=0,u=n.length;u-2*!t>r;r+=2)i=[{x:+n[r-2],y:+n[r-1]},{x:+n[r],y:+n[r+1]},{x:+n[r+2],y:+n[r+3]},{x:+n[r+4],y:+n[r+5]}],t?r?u-4==r?i[3]={x:+n[0],y:+n[1]}:u-2==r&&(i[2]={x:+n[0],y:+n[1]},i[3]={x:+n[2],y:+n[3]}):i[0]={x:+n[u-2],y:+n[u-1]}:u-4==r?i[3]=i[2]:r||(i[0]={x:+n[r],y:+n[r+1]}),f.push(["C",(-i[0].x+6*i[1].x+i[2].x)/6,(-i[0].y+6*i[1].y+i[2].y)/6,(i[1].x+6*i[2].x-i[3].x)/6,(i[1].y+6*i[2].y-i[3].y)/6,i[2].x,i[2].y]);return f}function wr(n,t,i,r,u){var f=-3*t+9*i-9*r+3*u,e=n*f+6*t-12*i+6*r;return n*e-3*t+3*i}function at(n,t,i,u,f,e,o,s,h){var c;h==null&&(h=1);h=h>1?1:h<0?0:h;var l=h/2,w=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],b=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],a=0;for(c=0;c<12;c++){var v=l*w[c]+l,y=wr(v,n,i,f,o),p=wr(v,t,u,e,s),k=y*y+p*p;a+=b[c]*r.sqrt(k)}return l*a}function of(n,t,i,r,u,f,e,o,s){if(!(s<0)&&!(at(n,t,i,r,u,f,e,o)<s)){for(var a=1,l=a/2,h=a-l,c=at(n,t,i,r,u,f,e,o,h);v(c-s)>.01;)l/=2,h+=(c<s?1:-1)*l,c=at(n,t,i,r,u,f,e,o,h);return h}}function sf(n,t,i,r,u,f,o,s){if(!(e(n,i)<c(u,o))&&!(c(n,i)>e(u,o))&&!(e(t,r)<c(f,s))&&!(c(t,r)>e(f,s))){var p=(n*r-t*i)*(u-o)-(n-i)*(u*s-f*o),w=(n*r-t*i)*(f-s)-(t-r)*(u*s-f*o),a=(n-i)*(f-s)-(t-r)*(u-o);if(a){var v=p/a,y=w/a,h=+v.toFixed(2),l=+y.toFixed(2);if(!(h<+c(n,i).toFixed(2))&&!(h>+e(n,i).toFixed(2))&&!(h<+c(u,o).toFixed(2))&&!(h>+e(u,o).toFixed(2))&&!(l<+c(t,r).toFixed(2))&&!(l>+e(t,r).toFixed(2))&&!(l<+c(f,s).toFixed(2))&&!(l>+e(f,s).toFixed(2)))return{x:v,y:y}}}}function wi(n,i,r){var ut=t.bezierBBox(n),ft=t.bezierBBox(i),u,h,l,d,g;if(!t.isBBoxIntersect(ut,ft))return r?0:[];var et=at.apply(0,n),ot=at.apply(0,i),p=e(~~(et/5),1),w=e(~~(ot/5),1),nt=[],tt=[],rt={},it=r?0:[];for(u=0;u<p+1;u++)h=t.findDotsAtSegment.apply(t,n.concat(u/p)),nt.push({x:h.x,y:h.y,t:u/p});for(u=0;u<w+1;u++)h=t.findDotsAtSegment.apply(t,i.concat(u/w)),tt.push({x:h.x,y:h.y,t:u/w});for(u=0;u<p;u++)for(l=0;l<w;l++){var o=nt[u],a=nt[u+1],s=tt[l],y=tt[l+1],b=v(a.x-o.x)<.001?"y":"x",k=v(y.x-s.x)<.001?"y":"x",f=sf(o.x,o.y,a.x,a.y,s.x,s.y,y.x,y.y);if(f){if(rt[f.x.toFixed(4)]==f.y.toFixed(4))continue;rt[f.x.toFixed(4)]=f.y.toFixed(4);d=o.t+v((f[b]-o[b])/(a[b]-o[b]))*(a.t-o.t);g=s.t+v((f[k]-s[k])/(y[k]-s[k]))*(y.t-s.t);d>=0&&d<=1.001&&g>=0&&g<=1.001&&(r?it++:it.push({x:f.x,y:f.y,t1:c(d,1),t2:c(g,1)}))}}return it}function bi(n,i,r){var e,o,s,h,b,k,d,g,c,l,y,p,nt,a,w,tt,v,u,f,it;for(n=t._path2curve(n),i=t._path2curve(i),y=r?0:[],p=0,nt=n.length;p<nt;p++)if(a=n[p],a[0]=="M")e=b=a[1],o=k=a[2];else for(a[0]=="C"?(c=[e,o].concat(a.slice(1)),e=c[6],o=c[7]):(c=[e,o,e,o,b,k,b,k],e=b,o=k),w=0,tt=i.length;w<tt;w++)if(v=i[w],v[0]=="M")s=d=v[1],h=g=v[2];else if(v[0]=="C"?(l=[s,h].concat(v.slice(1)),s=l[6],h=l[7]):(l=[s,h,s,h,d,g,d,g],s=d,h=g),u=wi(c,l,r),r)y+=u;else{for(f=0,it=u.length;f<it;f++)u[f].segment1=p,u[f].segment2=w,u[f].bez1=c,u[f].bez2=l;y=y.concat(u)}return y}function st(n,t,i,r,u,f){n!=null?(this.a=+n,this.b=+t,this.c=+i,this.d=+r,this.e=+u,this.f=+f):(this.a=1,this.b=0,this.c=0,this.d=1,this.e=0,this.f=0)}function uu(){return this.x+ct+this.y+ct+this.width+"  "+this.height}function bf(n,t,i,r,u,f){function l(n){return((h*n+o)*n+e)*n}function y(n,t){var i=p(n,t);return((a*i+c)*i+s)*i}function p(n,t){for(var r,u,f,s,i=n,c=0;c<8;c++){if(f=l(i)-n,v(f)<t)return i;if(s=(3*h*i+2*o)*i+e,v(s)<1e-6)break;i=i-f/s}if(r=0,u=1,i=n,i<r)return r;if(i>u)return u;while(r<u){if(f=l(i),v(f-n)<t)return i;n>f?r=i:u=i;i=(u-r)/2+r}return i}var e=3*t,o=3*(r-t)-e,h=1-e-o,s=3*i,c=3*(u-i)-s,a=1-s-c;return y(n,1/(200*f))}function ut(n,t){var i=[],u={},r;if(this.ms=t,this.times=1,n){for(r in n)n[l](r)&&(u[s(r)]=n[r],i.push(s(r)));i.sort(gu)}this.anim=u;this.top=i[i.length-1];this.percents=i}function wt(i,r,f,e,h,c){var nt,v,et,a,at,dt,ii,tt,vt,gt,yt,d,ut,ht,ct,ni,ft,lt;f=s(f);var it,ot,wt,ti,bt,kt,b=i.ms,p={},g={},k={};if(e){for(v=0,et=u.length;v<et;v++)if(nt=u[v],nt.el.id==r.id&&nt.anim==i){nt.percent!=f?(u.splice(v,1),wt=1):ot=nt;r.attr(nt.totalOrigin);break}}else e=+g;for(v=0,et=i.percents.length;v<et;v++)if(i.percents[v]==f||i.percents[v]>e*i.top){f=i.percents[v];bt=i.percents[v-1]||0;b=b/i.top*(f-bt);ti=i.percents[v+1];it=i.anim[f];break}else e&&r.attr(i.anim[i.percents[v]]);if(it){if(ot)ot.initstatus=e,ot.start=new Date-ot.ms*e;else{for(a in it)if(it[l](a)&&(vi[l](a)||r.paper.customAttributes[l](a))){p[a]=r.attr(a);p[a]==null&&(p[a]=pu[a]);g[a]=it[a];switch(vi[a]){case y:k[a]=(g[a]-p[a])/b;break;case"colour":p[a]=t.getRGB(p[a]);at=t.getRGB(g[a]);k[a]={r:(at.r-p[a].r)/b,g:(at.g-p[a].g)/b,b:(at.b-p[a].b)/b};break;case"path":for(dt=pt(p[a],g[a]),ii=dt[1],p[a]=dt[0],k[a]=[],v=0,et=p[a].length;v<et;v++)for(k[a][v]=[0],tt=1,vt=p[a][v].length;tt<vt;tt++)k[a][v][tt]=(ii[v][tt]-p[a][v][tt])/b;break;case"transform":if(gt=r._,yt=lf(gt[a],g[a]),yt)for(p[a]=yt.from,g[a]=yt.to,k[a]=[],k[a].real=!0,v=0,et=p[a].length;v<et;v++)for(k[a][v]=[p[a][v][0]],tt=1,vt=p[a][v].length;tt<vt;tt++)k[a][v][tt]=(g[a][v][tt]-p[a][v][tt])/b;else d=r.matrix||new st,ut={_:{transform:gt.transform},getBBox:function(){return r.getBBox(1)}},p[a]=[d.a,d.b,d.c,d.d,d.e,d.f],nu(ut,g[a]),g[a]=ut._.transform,k[a]=[(ut.matrix.a-d.a)/b,(ut.matrix.b-d.b)/b,(ut.matrix.c-d.c)/b,(ut.matrix.d-d.d)/b,(ut.matrix.e-d.e)/b,(ut.matrix.f-d.f)/b];break;case"csv":if(ht=w(it[a])[rt](li),ct=w(p[a])[rt](li),a=="clip-rect")for(p[a]=ct,k[a]=[],v=ct.length;v--;)k[a][v]=(ht[v]-p[a][v])/b;g[a]=ht;break;default:for(ht=[][o](it[a]),ct=[][o](p[a]),k[a]=[],v=r.paper.customAttributes[a].length;v--;)k[a][v]=((ht[v]||0)-(ct[v]||0))/b}}if(ni=it.easing,ft=t.easing_formulas[ni],ft||(ft=w(ni).match(yu),ft&&ft.length==5?(lt=ft,ft=function(n){return bf(n,+lt[1],+lt[2],+lt[3],+lt[4],b)}):ft=nf),kt=it.start||i.start||+new Date,nt={anim:i,percent:f,timestamp:kt,start:kt+(i.del||0),status:0,initstatus:e||0,stop:!1,ms:b,easing:ft,from:p,diff:k,to:g,el:r,callback:it.callback,prev:bt,next:ti,repeat:c||i.times,origin:r.attr(),totalOrigin:h},u.push(nt),e&&!ot&&!wt&&(nt.stop=!0,nt.start=new Date-b*e,u.length==1))return ur();wt&&(nt.start=new Date-nt.ms*e);u.length==1&&ou(ur)}n("raphael.anim.start."+r.id,r,i)}}function su(n){for(var t=0;t<u.length;t++)u[t].el.paper==n&&u.splice(t--,1)}var ii,ri,tf,ef,et,nr,ht,ru,d,vt,p,hi;t.version="2.3.0";t.eve=n;var ci,li=/[, ]+/,hu={circle:1,rect:1,path:1,ellipse:1,text:1,image:1},cu=/\{(\d+)\}/g,l="hasOwnProperty",i={doc:document,win:window},er={was:Object.prototype[l].call(i.win,"Raphael"),is:i.win.Raphael},or=function(){this.ca=this.customAttributes={}},h,a="apply",o="concat",bt="ontouchstart"in window||window.TouchEvent||window.DocumentTouch&&document instanceof DocumentTouch,k="",ct=" ",w=String,rt="split",sr="click dblclick mousedown mousemove mouseout mouseover mouseup touchstart touchmove touchend touchcancel"[rt](ct),kt={mousedown:"touchstart",mousemove:"touchmove",mouseup:"touchend"},dt=w.prototype.toLowerCase,r=Math,e=r.max,c=r.min,v=r.abs,g=r.pow,b=r.PI,y="number",gt="string",nt="array",lu=Object.prototype.toString,kf=t._ISURL=/^url\(['"]?(.+?)['"]?\)$/i,au=/^\s*((#[a-f\d]{6})|(#[a-f\d]{3})|rgba?\(\s*([\d\.]+%?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+%?(?:\s*,\s*[\d\.]+%?)?)\s*\)|hsba?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\)|hsla?\(\s*([\d\.]+(?:deg|\xb0|%)?\s*,\s*[\d\.]+%?\s*,\s*[\d\.]+(?:%?\s*,\s*[\d\.]+)?)%?\s*\))\s*$/i,vu={NaN:1,Infinity:1,"-Infinity":1},yu=/^(?:cubic-)?bezier\(([^,]+),([^,]+),([^,]+),([^\)]+)\)/,ai=r.round,s=parseFloat,ft=parseInt,hr=w.prototype.toUpperCase,pu=t._availableAttrs={"arrow-end":"none","arrow-start":"none",blur:0,"clip-rect":"0 0 1e9 1e9",cursor:"default",cx:0,cy:0,fill:"#fff","fill-opacity":1,font:'10px "Arial"',"font-family":'"Arial"',"font-size":"10","font-style":"normal","font-weight":400,gradient:0,height:0,href:"http://raphaeljs.com/","letter-spacing":0,opacity:1,path:"M0,0",r:0,rx:0,ry:0,src:"",stroke:"#000","stroke-dasharray":"","stroke-linecap":"butt","stroke-linejoin":"butt","stroke-miterlimit":0,"stroke-opacity":1,"stroke-width":1,target:"_blank","text-anchor":"middle",title:"Raphael",transform:"",width:0,x:0,y:0,"class":""},vi=t._availableAnimAttrs={blur:y,"clip-rect":"csv",cx:y,cy:y,fill:"colour","fill-opacity":y,"font-size":y,height:y,opacity:y,path:"path",r:y,rx:y,ry:y,stroke:"colour","stroke-opacity":y,"stroke-width":y,transform:"transform",width:y,x:y,y:y},yi=/[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/,wu={hs:1,rg:1},bu=/,?([achlmqrstvxz]),?/gi,ku=/([achlmrqstvz])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,du=/([rstm])[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029,]*((-?\d*\.?\d*(?:e[\-+]?\d+)?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*)+)/ig,cr=/(-?\d*\.?\d*(?:e[\-+]?\d+)?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,?[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*/ig,df=t._radial_gradient=/^r(?:\(([^,]+?)[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*,[\x09\x0a\x0b\x0c\x0d\x20\xa0\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\u2028\u2029]*([^\)]+?)\))?/,lt={},gf=function(n,t){return n.key-t.key},gu=function(n,t){return s(n)-s(t)},ne=function(){},nf=function(n){return n},ni=t._rectPath=function(n,t,i,r,u){return u?[["M",n+u,t],["l",i-u*2,0],["a",u,u,0,0,1,u,u],["l",0,r-u*2],["a",u,u,0,0,1,-u,u],["l",u*2-i,0],["a",u,u,0,0,1,-u,-u],["l",0,u*2-r],["a",u,u,0,0,1,u,-u],["z"]]:[["M",n,t],["l",i,0],["l",0,r],["l",-i,0],["z"]]},lr=function(n,t,i,r){return r==null&&(r=i),[["M",n,t],["m",0,-r],["a",i,r,0,1,1,0,2*r],["a",i,r,0,1,1,0,-2*r],["z"]]},ti=t._getPath={path:function(n){return n.attr("path")},circle:function(n){var t=n.attrs;return lr(t.cx,t.cy,t.r)},ellipse:function(n){var t=n.attrs;return lr(t.cx,t.cy,t.rx,t.ry)},rect:function(n){var t=n.attrs;return ni(t.x,t.y,t.width,t.height,t.r)},image:function(n){var t=n.attrs;return ni(t.x,t.y,t.width,t.height)},text:function(n){var t=n._getBBox();return ni(t.x,t.y,t.width,t.height)},set:function(n){var t=n._getBBox();return ni(t.x,t.y,t.width,t.height)}},pi=t.mapPath=function(n,t){if(!t)return n;var f,e,u,i,o,s,r;for(n=pt(n),u=0,o=n.length;u<o;u++)for(r=n[u],i=1,s=r.length;i<s;i+=2)f=t.x(r[i],r[i+1]),e=t.y(r[i],r[i+1]),r[i]=f,r[i+1]=e;return n};if(t._g=i,t.type=i.win.SVGAngle||i.doc.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#BasicStructure","1.1")?"SVG":"VML",t.type=="VML"){if(ii=i.doc.createElement("div"),ii.innerHTML='<v:shape adj="1"/>',ri=ii.firstChild,ri.style.behavior="url(#default#VML)",!(ri&&typeof ri.adj=="object"))return t.type=k;ii=null}t.svg=!(t.vml=t.type=="VML");t._Paper=or;t.fn=h=or.prototype=t.prototype;t._id=0;t.is=function(n,t){return(t=dt.call(t),t=="finite")?!vu[l](+n):t=="array"?n instanceof Array:t=="null"&&n===null||t==typeof n&&n!==null||t=="object"&&n===Object(n)||t=="array"&&Array.isArray&&Array.isArray(n)||lu.call(n).slice(8,-1).toLowerCase()==t};t.angle=function(n,i,u,f,e,o){if(e==null){var s=n-u,h=i-f;return!s&&!h?0:(180+r.atan2(-h,-s)*180/b+360)%360}return t.angle(n,i,e,o)-t.angle(u,f,e,o)};t.rad=function(n){return n%360*b/180};t.deg=function(n){return Math.round(n*180/b%360*1e3)/1e3};t.snapTo=function(n,i,r){var f,u;if(r=t.is(r,"finite")?r:10,t.is(n,nt)){for(f=n.length;f--;)if(v(n[f]-i)<=r)return n[f]}else{if(n=+n,u=i%n,u<r)return i-u;if(u>n-r)return i-u+n}return i};tf=t.createUUID=function(n,t){return function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,t).toUpperCase()}}(/[xy]/g,function(n){var t=r.random()*16|0,i=n=="x"?t:t&3|8;return i.toString(16)});t.setWindow=function(r){n("raphael.setWindow",t,i.win,r);i.win=r;i.doc=i.win.document;t._engine.initWin&&t._engine.initWin(i.win)};var ui=function(n){var e,u,f,o,r;if(t.vml){e=/^\s+|\s+$/g;try{f=new ActiveXObject("htmlfile");f.write("<body>");f.close();u=f.body}catch(s){u=createPopup().document.body}o=u.createTextRange();ui=tt(function(n){try{u.style.color=w(n).replace(e,k);var t=o.queryCommandValue("ForeColor");return t=(t&255)<<16|t&65280|(t&16711680)>>>16,"#"+("000000"+t.toString(16)).slice(-6)}catch(i){return"none"}})}else r=i.doc.createElement("i"),r.title="Raphal Colour Picker",r.style.display="none",i.doc.body.appendChild(r),ui=tt(function(n){return r.style.color=n,i.doc.defaultView.getComputedStyle(r,k).getPropertyValue("color")});return ui(n)},rf=function(){return"hsb("+[this.h,this.s,this.b]+")"},uf=function(){return"hsl("+[this.h,this.s,this.l]+")"},ar=function(){return this.hex},vr=function(n,i,r){if(i==null&&t.is(n,"object")&&"r"in n&&"g"in n&&"b"in n&&(r=n.b,i=n.g,n=n.r),i==null&&t.is(n,gt)){var u=t.getRGB(n);n=u.r;i=u.g;r=u.b}return(n>1||i>1||r>1)&&(n/=255,i/=255,r/=255),[n,i,r]},yr=function(n,i,r,u){n*=255;i*=255;r*=255;var f={r:n,g:i,b:r,hex:t.rgb(n,i,r),toString:ar};return t.is(u,"finite")&&(f.opacity=u),f};t.color=function(n){var i;return t.is(n,"object")&&"h"in n&&"s"in n&&"b"in n?(i=t.hsb2rgb(n),n.r=i.r,n.g=i.g,n.b=i.b,n.hex=i.hex):t.is(n,"object")&&"h"in n&&"s"in n&&"l"in n?(i=t.hsl2rgb(n),n.r=i.r,n.g=i.g,n.b=i.b,n.hex=i.hex):(t.is(n,"string")&&(n=t.getRGB(n)),t.is(n,"object")&&"r"in n&&"g"in n&&"b"in n?(i=t.rgb2hsl(n),n.h=i.h,n.s=i.s,n.l=i.l,i=t.rgb2hsb(n),n.v=i.b):(n={hex:"none"},n.r=n.g=n.b=n.h=n.s=n.v=n.l=-1)),n.toString=ar,n};t.hsb2rgb=function(n,t,i,r){this.is(n,"object")&&"h"in n&&"s"in n&&"b"in n&&(i=n.b,t=n.s,r=n.o,n=n.h);n*=360;var e,o,s,f,u;return n=n%360/60,u=i*t,f=u*(1-v(n%2-1)),e=o=s=i-u,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],yr(e,o,s,r)};t.hsl2rgb=function(n,t,i,r){this.is(n,"object")&&"h"in n&&"s"in n&&"l"in n&&(i=n.l,t=n.s,n=n.h);(n>1||t>1||i>1)&&(n/=360,t/=100,i/=100);n*=360;var e,o,s,f,u;return n=n%360/60,u=2*t*(i<.5?i:1-i),f=u*(1-v(n%2-1)),e=o=s=i-u/2,n=~~n,e+=[u,f,0,0,f,u][n],o+=[f,u,u,f,0,0][n],s+=[0,0,f,u,u,f][n],yr(e,o,s,r)};t.rgb2hsb=function(n,t,i){i=vr(n,t,i);n=i[0];t=i[1];i=i[2];var f,o,u,r;return u=e(n,t,i),r=u-c(n,t,i),f=r==0?null:u==n?(t-i)/r:u==t?(i-n)/r+2:(n-t)/r+4,f=(f+360)%6/6,o=r==0?0:r/u,{h:f,s:o,b:u,toString:rf}};t.rgb2hsl=function(n,t,i){i=vr(n,t,i);n=i[0];t=i[1];i=i[2];var o,h,u,f,s,r;return f=e(n,t,i),s=c(n,t,i),r=f-s,o=r==0?null:f==n?(t-i)/r:f==t?(i-n)/r+2:(n-t)/r+4,o=(o+360)%6/6,u=(f+s)/2,h=r==0?0:u<.5?r/(2*u):r/(2-2*u),{h:o,s:h,l:u,toString:uf}};t._path2string=function(){return this.join(",").replace(bu,"$1")};ef=t._preload=function(n,t){var r=i.doc.createElement("img");r.style.cssText="position:absolute;left:-9999em;top:-9999em";r.onload=function(){t.call(this);this.onload=null;i.doc.body.removeChild(this)};r.onerror=function(){i.doc.body.removeChild(this)};i.doc.body.appendChild(r);r.src=n};t.getRGB=tt(function(n){if(!n||!!((n=w(n)).indexOf("-")+1))return{r:-1,g:-1,b:-1,hex:"none",error:1,toString:fi};if(n=="none")return{r:-1,g:-1,b:-1,hex:"none",toString:fi};wu[l](n.toLowerCase().substring(0,2))||n.charAt()=="#"||(n=ui(n));var u,f,e,o,h,i,r=n.match(au);return r?(r[2]&&(e=ft(r[2].substring(5),16),f=ft(r[2].substring(3,5),16),u=ft(r[2].substring(1,3),16)),r[3]&&(e=ft((h=r[3].charAt(3))+h,16),f=ft((h=r[3].charAt(2))+h,16),u=ft((h=r[3].charAt(1))+h,16)),r[4]&&(i=r[4][rt](yi),u=s(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=s(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),e=s(i[2]),i[2].slice(-1)=="%"&&(e*=2.55),r[1].toLowerCase().slice(0,4)=="rgba"&&(o=s(i[3])),i[3]&&i[3].slice(-1)=="%"&&(o/=100)),r[5])?(i=r[5][rt](yi),u=s(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=s(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),e=s(i[2]),i[2].slice(-1)=="%"&&(e*=2.55),(i[0].slice(-3)=="deg"||i[0].slice(-1)=="")&&(u/=360),r[1].toLowerCase().slice(0,4)=="hsba"&&(o=s(i[3])),i[3]&&i[3].slice(-1)=="%"&&(o/=100),t.hsb2rgb(u,f,e,o)):r[6]?(i=r[6][rt](yi),u=s(i[0]),i[0].slice(-1)=="%"&&(u*=2.55),f=s(i[1]),i[1].slice(-1)=="%"&&(f*=2.55),e=s(i[2]),i[2].slice(-1)=="%"&&(e*=2.55),(i[0].slice(-3)=="deg"||i[0].slice(-1)=="")&&(u/=360),r[1].toLowerCase().slice(0,4)=="hsla"&&(o=s(i[3])),i[3]&&i[3].slice(-1)=="%"&&(o/=100),t.hsl2rgb(u,f,e,o)):(r={r:u,g:f,b:e,toString:fi},r.hex="#"+(16777216|e|f<<8|u<<16).toString(16).slice(1),t.is(o,"finite")&&(r.opacity=o),r):{r:-1,g:-1,b:-1,hex:"none",error:1,toString:fi}},t);t.hsb=tt(function(n,i,r){return t.hsb2rgb(n,i,r).hex});t.hsl=tt(function(n,i,r){return t.hsl2rgb(n,i,r).hex});t.rgb=tt(function(n,t,i){function r(n){return n+.5|0}return"#"+(16777216|r(i)|r(t)<<8|r(n)<<16).toString(16).slice(1)});t.getColor=function(n){var t=this.getColor.start=this.getColor.start||{h:0,s:1,b:n||.75},i=this.hsb2rgb(t.h,t.s,t.b);return t.h+=.075,t.h>1&&(t.h=0,t.s-=.2,t.s<=0&&(this.getColor.start={h:0,s:1,b:t.b})),i.hex};t.getColor.reset=function(){delete this.start};t.parsePathString=function(n){var r,u,i;return n?(r=et(n),r.arr)?it(r.arr):(u={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},i=[],t.is(n,nt)&&t.is(n[0],nt)&&(i=it(n)),i.length||w(n).replace(ku,function(n,t,r){var f=[],e=t.toLowerCase();if(r.replace(cr,function(n,t){t&&f.push(+t)}),e=="m"&&f.length>2&&(i.push([t][o](f.splice(0,2))),e="l",t=t=="m"?"l":"L"),e=="r")i.push([t][o](f));else while(f.length>=u[e])if(i.push([t][o](f.splice(0,u[e]))),!u[e])break}),i.toString=t._path2string,r.arr=it(i),i):null};t.parseTransformString=tt(function(n){if(!n)return null;var i=[];return t.is(n,nt)&&t.is(n[0],nt)&&(i=it(n)),i.length||w(n).replace(du,function(n,t,r){var u=[],f=dt.call(t);r.replace(cr,function(n,t){t&&u.push(+t)});i.push([t][o](u))}),i.toString=t._path2string,i},this,function(n){var r,t,u,i;if(!n)return n;for(r=[],t=0;t<n.length;t++){for(u=[],i=0;i<n[t].length;i++)u.push(n[t][i]);r.push(u)}return r});et=function(n){var t=et.ps=et.ps||{};return t[n]?t[n].sleep=100:t[n]={sleep:100},setTimeout(function(){for(var i in t)t[l](i)&&i!=n&&(t[i].sleep--,t[i].sleep||delete t[i])}),t[n]};t.findDotsAtSegment=function(n,t,i,u,f,e,o,s,h){var c=1-h,w=g(c,3),k=g(c,2),l=h*h,d=l*h,tt=w*n+k*3*h*i+c*3*h*h*f+d*o,it=w*t+k*3*h*u+c*3*h*h*e+d*s,a=n+2*h*(i-n)+l*(f-2*i+n),v=t+2*h*(u-t)+l*(e-2*u+t),y=i+2*h*(f-i)+l*(o-2*f+i),p=u+2*h*(e-u)+l*(s-2*e+u),rt=c*n+h*i,ut=c*t+h*u,ft=c*f+h*o,et=c*e+h*s,nt=90-r.atan2(a-y,v-p)*180/b;return(a>y||v<p)&&(nt+=180),{x:tt,y:it,m:{x:a,y:v},n:{x:y,y:p},start:{x:rt,y:ut},end:{x:ft,y:et},alpha:nt}};t.bezierBBox=function(n,i,r,u,f,e,o,s){t.is(n,"array")||(n=[n,i,r,u,f,e,o,s]);var h=gr.apply(null,n);return{x:h.min.x,y:h.min.y,x2:h.max.x,y2:h.max.y,width:h.max.x-h.min.x,height:h.max.y-h.min.y}};t.isPointInsideBBox=function(n,t,i){return t>=n.x&&t<=n.x2&&i>=n.y&&i<=n.y2};t.isBBoxIntersect=function(n,i){var r=t.isPointInsideBBox;return r(i,n.x,n.y)||r(i,n.x2,n.y)||r(i,n.x,n.y2)||r(i,n.x2,n.y2)||r(n,i.x,i.y)||r(n,i.x2,i.y)||r(n,i.x,i.y2)||r(n,i.x2,i.y2)||(n.x<i.x2&&n.x>i.x||i.x<n.x2&&i.x>n.x)&&(n.y<i.y2&&n.y>i.y||i.y<n.y2&&i.y>n.y)};t.pathIntersection=function(n,t){return bi(n,t)};t.pathIntersectionNumber=function(n,t){return bi(n,t,1)};t.isPointInsidePath=function(n,i,r){var u=t.pathBBox(n);return t.isPointInsideBBox(u,i,r)&&bi(n,[["M",i,r],["H",u.x2+10]],1)%2==1};t._removedFactory=function(t){return function(){n("raphael.log",null,"Raphal: you are calling to method "+t+" of removed object",t)}};var ki=t.pathBBox=function(n){var l=et(n),h,p,u;if(l.bbox)return yt(l.bbox);if(!n)return{x:0,y:0,width:0,height:0,x2:0,y2:0};n=pt(n);var f=0,s=0,i=[],r=[],t;for(h=0,p=n.length;h<p;h++)t=n[h],t[0]=="M"?(f=t[1],s=t[2],i.push(f),r.push(s)):(u=gr(f,s,t[1],t[2],t[3],t[4],t[5],t[6]),i=i[o](u.min.x,u.max.x),r=r[o](u.min.y,u.max.y),f=t[5],s=t[6]);var v=c[a](0,i),y=c[a](0,r),w=e[a](0,i),b=e[a](0,r),k=w-v,d=b-y,g={x:v,y:y,x2:w,y2:b,width:k,height:d,cx:v+k/2,cy:y+d/2};return l.bbox=yt(g),g},it=function(n){var i=yt(n);return i.toString=t._path2string,i},hf=t._pathToRelative=function(n){var v=et(n),u,p,f,i,s,w,h,b,c;if(v.rel)return it(v.rel);t.is(n,nt)&&t.is(n&&n[0],nt)||(n=t.parsePathString(n));var r=[],o=0,e=0,l=0,a=0,y=0;for(n[0][0]=="M"&&(o=n[0][1],e=n[0][2],l=o,a=e,y++,r.push(["M",o,e])),u=y,p=n.length;u<p;u++){if(f=r[u]=[],i=n[u],i[0]!=dt.call(i[0])){f[0]=dt.call(i[0]);switch(f[0]){case"a":f[1]=i[1];f[2]=i[2];f[3]=i[3];f[4]=i[4];f[5]=i[5];f[6]=+(i[6]-o).toFixed(3);f[7]=+(i[7]-e).toFixed(3);break;case"v":f[1]=+(i[1]-e).toFixed(3);break;case"m":l=i[1];a=i[2];default:for(s=1,w=i.length;s<w;s++)f[s]=+(i[s]-(s%2?o:e)).toFixed(3)}}else for(f=r[u]=[],i[0]=="m"&&(l=i[1]+o,a=i[2]+e),h=0,b=i.length;h<b;h++)r[u][h]=i[h];c=r[u].length;switch(r[u][0]){case"z":o=l;e=a;break;case"h":o+=+r[u][c-1];break;case"v":e+=+r[u][c-1];break;default:o+=+r[u][c-2];e+=+r[u][c-1]}}return r.toString=t._path2string,v.rel=it(r),r},br=t._pathToAbsolute=function(n){var p=et(n),w,i,r,v,k,h,e,y,c,d;if(p.abs)return it(p.abs);if(t.is(n,nt)&&t.is(n&&n[0],nt)||(n=t.parsePathString(n)),!n||!n.length)return[["M",0,0]];var s=[],u=0,f=0,l=0,a=0,b=0;for(n[0][0]=="M"&&(u=+n[0][1],f=+n[0][2],l=u,a=f,b++,s[0]=["M",u,f]),w=n.length==3&&n[0][0]=="M"&&n[1][0].toUpperCase()=="R"&&n[2][0].toUpperCase()=="Z",v=b,k=n.length;v<k;v++){if(s.push(i=[]),r=n[v],r[0]!=hr.call(r[0])){i[0]=hr.call(r[0]);switch(i[0]){case"A":i[1]=r[1];i[2]=r[2];i[3]=r[3];i[4]=r[4];i[5]=r[5];i[6]=+(r[6]+u);i[7]=+(r[7]+f);break;case"V":i[1]=+r[1]+f;break;case"H":i[1]=+r[1]+u;break;case"R":for(h=[u,f][o](r.slice(1)),e=2,y=h.length;e<y;e++)h[e]=+h[e]+u,h[++e]=+h[e]+f;s.pop();s=s[o](pr(h,w));break;case"M":l=+r[1]+u;a=+r[2]+f;default:for(e=1,y=r.length;e<y;e++)i[e]=+r[e]+(e%2?u:f)}}else if(r[0]=="R")h=[u,f][o](r.slice(1)),s.pop(),s=s[o](pr(h,w)),i=["R"][o](r.slice(-2));else for(c=0,d=r.length;c<d;c++)i[c]=r[c];switch(i[0]){case"Z":u=l;f=a;break;case"H":u=i[1];break;case"V":f=i[1];break;case"M":l=i[i.length-2];a=i[i.length-1];default:u=i[i.length-2];f=i[i.length-1]}}return s.toString=t._path2string,p.abs=it(s),s},ei=function(n,t,i,r){return[n,t,i,r,i,r]},kr=function(n,t,i,r,u,f){var e=1/3,o=2/3;return[e*n+o*i,e*t+o*r,e*u+o*i,e*f+o*r,u,f]},dr=function(n,t,i,u,f,e,s,h,c,l){var at=b*120/180,et=b/180*(+f||0),p=[],g,ot=tt(function(n,t,i){var u=n*r.cos(i)-t*r.sin(i),f=n*r.sin(i)+t*r.cos(i);return{x:u,y:f}}),st,lt,w,gt;if(l)y=l[0],a=l[1],ut=l[2],ft=l[3];else{g=ot(n,t,-et);n=g.x;t=g.y;g=ot(h,c,-et);h=g.x;c=g.y;var oi=r.cos(b/180*f),si=r.sin(b/180*f),k=(n-h)/2,d=(t-c)/2,it=k*k/(i*i)+d*d/(u*u);it>1&&(it=r.sqrt(it),i=it*i,u=it*u);var ht=i*i,ct=u*u,vt=(e==s?-1:1)*r.sqrt(v((ht*ct-ht*d*d-ct*k*k)/(ht*d*d+ct*k*k))),ut=vt*i*d/u+(n+h)/2,ft=vt*-u*k/i+(t+c)/2,y=r.asin(((t-ft)/u).toFixed(9)),a=r.asin(((c-ft)/u).toFixed(9));y=n<ut?b-y:y;a=h<ut?b-a:a;y<0&&(y=b*2+y);a<0&&(a=b*2+a);s&&y>a&&(y=y-b*2);!s&&a>y&&(a=a-b*2)}if(st=a-y,v(st)>at){var ni=a,ti=h,ii=c;a=y+at*(s&&a>y?1:-1);h=ut+i*r.cos(a);c=ft+u*r.sin(a);p=dr(h,c,i,u,f,0,s,ti,ii,[a,ni,ut,ft])}st=a-y;var ri=r.cos(y),ui=r.sin(y),fi=r.cos(a),ei=r.sin(a),yt=r.tan(st/4),pt=4/3*i*yt,wt=4/3*u*yt,bt=[n,t],nt=[n+pt*ui,t-wt*ri],kt=[h+pt*ei,c-wt*fi],dt=[h,c];if(nt[0]=2*bt[0]-nt[0],nt[1]=2*bt[1]-nt[1],l)return[nt,kt,dt][o](p);for(p=[nt,kt,dt][o](p).join()[rt](","),lt=[],w=0,gt=p.length;w<gt;w++)lt[w]=w%2?ot(p[w-1],p[w],et).y:ot(p[w],p[w+1],et).x;return lt},oi=function(n,t,i,r,u,f,e,o,s){var h=1-s;return{x:g(h,3)*n+g(h,2)*3*s*i+h*3*s*s*u+g(s,3)*e,y:g(h,3)*t+g(h,2)*3*s*r+h*3*s*s*f+g(s,3)*o}},gr=tt(function(n,t,i,u,f,o,s,h){var b=f-2*i+n-(s-2*f+i),l=2*(i-n)-2*(f-i),g=n-i,p=(-l+r.sqrt(l*l-4*b*g))/2/b,w=(-l-r.sqrt(l*l-4*b*g))/2/b,k=[t,h],d=[n,s],y;return v(p)>"1e12"&&(p=.5),v(w)>"1e12"&&(w=.5),p>0&&p<1&&(y=oi(n,t,i,u,f,o,s,h,p),d.push(y.x),k.push(y.y)),w>0&&w<1&&(y=oi(n,t,i,u,f,o,s,h,w),d.push(y.x),k.push(y.y)),b=o-2*u+t-(h-2*o+u),l=2*(u-t)-2*(o-u),g=t-u,p=(-l+r.sqrt(l*l-4*b*g))/2/b,w=(-l-r.sqrt(l*l-4*b*g))/2/b,v(p)>"1e12"&&(p=.5),v(w)>"1e12"&&(w=.5),p>0&&p<1&&(y=oi(n,t,i,u,f,o,s,h,p),d.push(y.x),k.push(y.y)),w>0&&w<1&&(y=oi(n,t,i,u,f,o,s,h,w),d.push(y.x),k.push(y.y)),{min:{x:c[a](0,d),y:c[a](0,k)},max:{x:e[a](0,d),y:e[a](0,k)}}}),pt=t._path2curve=tt(function(n,t){var g=!t&&et(n),i,b;if(!t&&g.curve)return it(g.curve);var u=br(n),r=t&&br(t),f={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},h={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},nt=function(n,t,i){var r,u;if(!n)return["C",t.x,t.y,t.x,t.y,t.x,t.y];n[0]in{T:1,Q:1}||(t.qx=t.qy=null);switch(n[0]){case"M":t.X=n[1];t.Y=n[2];break;case"A":n=["C"][o](dr[a](0,[t.x,t.y][o](n.slice(1))));break;case"S":i=="C"||i=="S"?(r=t.x*2-t.bx,u=t.y*2-t.by):(r=t.x,u=t.y);n=["C",r,u][o](n.slice(1));break;case"T":i=="Q"||i=="T"?(t.qx=t.x*2-t.qx,t.qy=t.y*2-t.qy):(t.qx=t.x,t.qy=t.y);n=["C"][o](kr(t.x,t.y,t.qx,t.qy,n[1],n[2]));break;case"Q":t.qx=n[1];t.qy=n[2];n=["C"][o](kr(t.x,t.y,n[1],n[2],n[3],n[4]));break;case"L":n=["C"][o](ei(t.x,t.y,n[1],n[2]));break;case"H":n=["C"][o](ei(t.x,t.y,n[1],t.y));break;case"V":n=["C"][o](ei(t.x,t.y,t.x,n[1]));break;case"Z":n=["C"][o](ei(t.x,t.y,t.X,t.Y))}return n},tt=function(n,t){if(n[t].length>7){n[t].shift();for(var i=n[t];i.length;)l[t]="A",r&&(v[t]="A"),n.splice(t++,0,["C"][o](i.splice(0,6)));n.splice(t,1);b=e(u.length,r&&r.length||0)}},rt=function(n,t,i,f,o){n&&t&&n[o][0]=="M"&&t[o][0]!="M"&&(t.splice(o,0,["M",f.x,f.y]),i.bx=0,i.by=0,i.x=n[o][1],i.y=n[o][2],b=e(u.length,r&&r.length||0))},l=[],v=[],c="",w="";for(i=0,b=e(u.length,r&&r.length||0);i<b;i++){u[i]&&(c=u[i][0]);c!="C"&&(l[i]=c,i&&(w=l[i-1]));u[i]=nt(u[i],f,w);l[i]!="A"&&c=="C"&&(l[i]="C");tt(u,i);r&&(r[i]&&(c=r[i][0]),c!="C"&&(v[i]=c,i&&(w=v[i-1])),r[i]=nt(r[i],h,w),v[i]!="A"&&c=="C"&&(v[i]="C"),tt(r,i));rt(u,r,f,h,i);rt(r,u,h,f,i);var y=u[i],p=r&&r[i],k=y.length,d=r&&p.length;f.x=y[k-2];f.y=y[k-1];f.bx=s(y[k-4])||f.x;f.by=s(y[k-3])||f.y;h.bx=r&&(s(p[d-4])||h.x);h.by=r&&(s(p[d-3])||h.y);h.x=r&&p[d-2];h.y=r&&p[d-1]}return r||(g.curve=it(u)),r?[u,r]:u},null,it),re=t._parseDots=tt(function(n){for(var r,h,c,e,f,l,u=[],i=0,o=n.length;i<o;i++){if(r={},h=n[i].match(/^([^:]*):?([\d\.]*)/),r.color=t.getRGB(h[1]),r.color.error)return null;r.opacity=r.color.opacity;r.color=r.color.hex;h[2]&&(r.offset=h[2]+"%");u.push(r)}for(i=1,o=u.length-1;i<o;i++)if(!u[i].offset){for(c=s(u[i-1].offset||0),e=0,f=i+1;f<o;f++)if(u[f].offset){e=u[f].offset;break}for(e||(e=100,f=o),e=s(e),l=(e-c)/(f-i+1);i<f;i++)c+=l,u[i].offset=c+"%"}return u}),si=t._tear=function(n,t){n==t.top&&(t.top=n.prev);n==t.bottom&&(t.bottom=n.next);n.next&&(n.next.prev=n.prev);n.prev&&(n.prev.next=n.next)},ue=t._tofront=function(n,t){t.top!==n&&(si(n,t),n.next=null,n.prev=t.top,t.top.next=n,t.top=n)},fe=t._toback=function(n,t){t.bottom!==n&&(si(n,t),n.next=t.bottom,n.prev=null,t.bottom.prev=n,t.bottom=n)},ee=t._insertafter=function(n,t,i){si(n,i);t==i.top&&(i.top=n);t.next&&(t.next.prev=n);n.next=t.next;n.prev=t;t.next=n},oe=t._insertbefore=function(n,t,i){si(n,i);t==i.bottom&&(i.bottom=n);t.prev&&(t.prev.next=n);n.prev=t.prev;t.prev=n;n.next=t},cf=t.toMatrix=function(n,t){var r=ki(n),i={_:{transform:k},getBBox:function(){return r}};return nu(i,t),i.matrix},se=t.transformPath=function(n,t){return pi(n,cf(n,t))},nu=t._extractTransform=function(n,i){var b,tt;if(i==null)return n._.transform;i=w(i).replace(/\.{3}|\u2026/g,n._.transform||k);var a=t.parseTransformString(i),v=0,g=0,nt=0,y=1,p=1,e=n._,u=new st;if(e.transform=a||[],a)for(b=0,tt=a.length;b<tt;b++){var r=a[b],o=r.length,l=w(r[0]).toLowerCase(),d=r[0]!=l,s=d?u.invert():0,it,rt,h,c,f;l=="t"&&o==3?d?(it=s.x(0,0),rt=s.y(0,0),h=s.x(r[1],r[2]),c=s.y(r[1],r[2]),u.translate(h-it,c-rt)):u.translate(r[1],r[2]):l=="r"?o==2?(f=f||n.getBBox(1),u.rotate(r[1],f.x+f.width/2,f.y+f.height/2),v+=r[1]):o==4&&(d?(h=s.x(r[2],r[3]),c=s.y(r[2],r[3]),u.rotate(r[1],h,c)):u.rotate(r[1],r[2],r[3]),v+=r[1]):l=="s"?o==2||o==3?(f=f||n.getBBox(1),u.scale(r[1],r[o-1],f.x+f.width/2,f.y+f.height/2),y*=r[1],p*=r[o-1]):o==5&&(d?(h=s.x(r[3],r[4]),c=s.y(r[3],r[4]),u.scale(r[1],r[2],h,c)):u.scale(r[1],r[2],r[3],r[4]),y*=r[1],p*=r[2]):l=="m"&&o==7&&u.add(r[1],r[2],r[3],r[4],r[5],r[6]);e.dirtyT=1;n.matrix=u}n.matrix=u;e.sx=y;e.sy=p;e.deg=v;e.dx=g=u.e;e.dy=nt=u.f;y==1&&p==1&&!v&&e.bbox?(e.bbox.x+=+g,e.bbox.y+=+nt):e.dirtyT=1},tu=function(n){var t=n[0];switch(t.toLowerCase()){case"t":return[t,0,0];case"m":return[t,1,0,0,1,0,0];case"r":return n.length==4?[t,0,n[2],n[3]]:[t,0];case"s":return n.length==5?[t,1,1,n[3],n[4]]:n.length==3?[t,1,1]:[t,1]}},lf=t._equaliseTransform=function(n,i){i=w(i).replace(/\.{3}|\u2026/g,n);n=t.parseTransformString(n)||[];i=t.parseTransformString(i)||[];for(var l=e(n.length,i.length),s=[],h=[],u=0,f,c,r,o;u<l;u++){if(r=n[u]||tu(i[u]),o=i[u]||tu(r),r[0]!=o[0]||r[0].toLowerCase()=="r"&&(r[2]!=o[2]||r[3]!=o[3])||r[0].toLowerCase()=="s"&&(r[3]!=o[3]||r[4]!=o[4]))return;for(s[u]=[],h[u]=[],f=0,c=e(r.length,o.length);f<c;f++)f in r&&(s[u][f]=r[f]),f in o&&(h[u][f]=o[f])}return{from:s,to:h}};t._getContainer=function(n,r,u,f){var e;if(e=f==null&&!t.is(n,"object")?i.doc.getElementById(n):n,e!=null)return e.tagName?r==null?{container:e,width:e.style.pixelWidth||e.offsetWidth,height:e.style.pixelHeight||e.offsetHeight}:{container:e,width:r,height:u}:{container:1,x:n,y:r,width:u,height:f}};t.pathToRelative=hf;t._engine={};t.path2curve=pt;t.matrix=function(n,t,i,r,u,f){return new st(n,t,i,r,u,f)},function(n){function i(n){return n[0]*n[0]+n[1]*n[1]}function u(n){var t=r.sqrt(i(n));n[0]&&(n[0]/=t);n[1]&&(n[1]/=t)}n.add=function(n,t,i,r,u,f){var e=[[],[],[]],a=[[this.a,this.c,this.e],[this.b,this.d,this.f],[0,0,1]],l=[[n,i,u],[t,r,f],[0,0,1]],o,s,h,c;for(n&&n instanceof st&&(l=[[n.a,n.c,n.e],[n.b,n.d,n.f],[0,0,1]]),o=0;o<3;o++)for(s=0;s<3;s++){for(c=0,h=0;h<3;h++)c+=a[o][h]*l[h][s];e[o][s]=c}this.a=e[0][0];this.b=e[1][0];this.c=e[0][1];this.d=e[1][1];this.e=e[0][2];this.f=e[1][2]};n.invert=function(){var n=this,t=n.a*n.d-n.b*n.c;return new st(n.d/t,-n.b/t,-n.c/t,n.a/t,(n.c*n.f-n.d*n.e)/t,(n.b*n.e-n.a*n.f)/t)};n.clone=function(){return new st(this.a,this.b,this.c,this.d,this.e,this.f)};n.translate=function(n,t){this.add(1,0,0,1,n,t)};n.scale=function(n,t,i,r){t==null&&(t=n);(i||r)&&this.add(1,0,0,1,i,r);this.add(n,0,0,t,0,0);(i||r)&&this.add(1,0,0,1,-i,-r)};n.rotate=function(n,i,u){n=t.rad(n);i=i||0;u=u||0;var f=+r.cos(n).toFixed(9),e=+r.sin(n).toFixed(9);this.add(f,e,-e,f,i,u);this.add(1,0,0,1,-i,-u)};n.x=function(n,t){return n*this.a+t*this.c+this.e};n.y=function(n,t){return n*this.b+t*this.d+this.f};n.get=function(n){return+this[w.fromCharCode(97+n)].toFixed(4)};n.toString=function(){return t.svg?"matrix("+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)].join()+")":[this.get(0),this.get(2),this.get(1),this.get(3),0,0].join()};n.toFilter=function(){return"progid:DXImageTransform.Microsoft.Matrix(M11="+this.get(0)+", M12="+this.get(2)+", M21="+this.get(1)+", M22="+this.get(3)+", Dx="+this.get(4)+", Dy="+this.get(5)+", sizingmethod='auto expand')"};n.offset=function(){return[this.e.toFixed(4),this.f.toFixed(4)]};n.split=function(){var n={},f,e,o;return n.dx=this.e,n.dy=this.f,f=[[this.a,this.c],[this.b,this.d]],n.scalex=r.sqrt(i(f[0])),u(f[0]),n.shear=f[0][0]*f[1][0]+f[0][1]*f[1][1],f[1]=[f[1][0]-f[0][0]*n.shear,f[1][1]-f[0][1]*n.shear],n.scaley=r.sqrt(i(f[1])),u(f[1]),n.shear/=n.scaley,e=-f[0][1],o=f[1][1],o<0?(n.rotate=t.deg(r.acos(o)),e<0&&(n.rotate=360-n.rotate)):n.rotate=t.deg(r.asin(e)),n.isSimple=!+n.shear.toFixed(9)&&(n.scalex.toFixed(9)==n.scaley.toFixed(9)||!n.rotate),n.isSuperSimple=!+n.shear.toFixed(9)&&n.scalex.toFixed(9)==n.scaley.toFixed(9)&&!n.rotate,n.noRotation=!+n.shear.toFixed(9)&&!n.rotate,n};n.toTransformString=function(n){var t=n||this[rt]();return t.isSimple?(t.scalex=+t.scalex.toFixed(4),t.scaley=+t.scaley.toFixed(4),t.rotate=+t.rotate.toFixed(4),(t.dx||t.dy?"t"+[t.dx,t.dy]:k)+(t.scalex!=1||t.scaley!=1?"s"+[t.scalex,t.scaley,0,0]:k)+(t.rotate?"r"+[t.rotate,0,0]:k)):"m"+[this.get(0),this.get(1),this.get(2),this.get(3),this.get(4),this.get(5)]}}(st.prototype);var af=function(){this.returnValue=!1},vf=function(){return this.originalEvent.preventDefault()},yf=function(){this.cancelBubble=!0},pf=function(){return this.originalEvent.stopPropagation()},iu=function(n){var t=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,r=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft;return{x:n.clientX+r,y:n.clientY+t}},wf=function(){return i.doc.addEventListener?function(n,t,i,r){var f=function(n){var t=iu(n);return i.call(r,n,t.x,t.y)},u;return n.addEventListener(t,f,!1),bt&&kt[t]&&(u=function(t){for(var f=iu(t),e=t,u=0,o=t.targetTouches&&t.targetTouches.length;u<o;u++)if(t.targetTouches[u].target==n){t=t.targetTouches[u];t.originalEvent=e;t.preventDefault=vf;t.stopPropagation=pf;break}return i.call(r,t,f.x,f.y)},n.addEventListener(kt[t],u,!1)),function(){return n.removeEventListener(t,f,!1),bt&&kt[t]&&n.removeEventListener(kt[t],u,!1),!0}}:i.doc.attachEvent?function(n,t,r,u){var f=function(n){n=n||i.win.event;var t=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,f=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft,e=n.clientX+f,o=n.clientY+t;return n.preventDefault=n.preventDefault||af,n.stopPropagation=n.stopPropagation||yf,r.call(u,n,e,o)};return n.attachEvent("on"+t,f),function(){return n.detachEvent("on"+t,f),!0}}:void 0}(),ot=[],di=function(t){for(var f=t.clientX,e=t.clientY,v=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,y=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft,r,l=ot.length,s,o;l--;){if(r=ot[l],bt&&t.touches){for(s=t.touches.length;s--;)if(o=t.touches[s],o.identifier==r.el._drag.id){f=o.clientX;e=o.clientY;(t.originalEvent?t.originalEvent:t).preventDefault();break}}else t.preventDefault();var u=r.el.node,h,a=u.nextSibling,c=u.parentNode,p=u.style.display;i.win.opera&&c.removeChild(u);u.style.display="none";h=r.el.paper.getElementByPoint(f,e);u.style.display=p;i.win.opera&&(a?c.insertBefore(u,a):c.appendChild(u));h&&n("raphael.drag.over."+r.el.id,r.el,h);f+=y;e+=v;n("raphael.drag.move."+r.el.id,r.move_scope||r.el,f-r.el._drag.x,e-r.el._drag.y,f,e,t)}},gi=function(i){t.unmousemove(di).unmouseup(gi);for(var u=ot.length,r;u--;)r=ot[u],r.el._drag={},n("raphael.drag.end."+r.el.id,r.end_scope||r.start_scope||r.move_scope||r.el,i);ot=[]},f=t.el={};for(nr=sr.length;nr--;)(function(n){t[n]=f[n]=function(r,u){return t.is(r,"function")&&(this.events=this.events||[],this.events.push({name:n,f:r,unbind:wf(this.shape||this.node||i.doc,n,r,u||this)})),this};t["un"+n]=f["un"+n]=function(i){for(var r=this.events||[],u=r.length;u--;)r[u].name==n&&(t.is(i,"undefined")||r[u].f==i)&&(r[u].unbind(),r.splice(u,1),r.length||delete this.events);return this}})(sr[nr]);f.data=function(i,r){var u=lt[this.id]=lt[this.id]||{},f;if(arguments.length==0)return u;if(arguments.length==1){if(t.is(i,"object")){for(f in i)i[l](f)&&this.data(f,i[f]);return this}return n("raphael.data.get."+this.id,this,u[i],i),u[i]}return u[i]=r,n("raphael.data.set."+this.id,this,r,i),this};f.removeData=function(n){return n==null?delete lt[this.id]:lt[this.id]&&delete lt[this.id][n],this};f.getData=function(){return yt(lt[this.id]||{})};f.hover=function(n,t,i,r){return this.mouseover(n,i).mouseout(t,r||i)};f.unhover=function(n,t){return this.unmouseover(n).unmouseout(t)};ht=[];f.drag=function(r,u,f,e,o,s){function h(h){var l,c;(h.originalEvent||h).preventDefault();var a=h.clientX,v=h.clientY,y=i.doc.documentElement.scrollTop||i.doc.body.scrollTop,p=i.doc.documentElement.scrollLeft||i.doc.body.scrollLeft;if(this._drag.id=h.identifier,bt&&h.touches)for(l=h.touches.length;l--;)if(c=h.touches[l],this._drag.id=c.identifier,c.identifier==this._drag.id){a=c.clientX;v=c.clientY;break}this._drag.x=a+p;this._drag.y=v+y;ot.length||t.mousemove(di).mouseup(gi);ot.push({el:this,move_scope:e,start_scope:o,end_scope:s});u&&n.on("raphael.drag.start."+this.id,u);r&&n.on("raphael.drag.move."+this.id,r);f&&n.on("raphael.drag.end."+this.id,f);n("raphael.drag.start."+this.id,o||e||this,this._drag.x,this._drag.y,h)}return this._drag={},ht.push({el:this,start:h}),this.mousedown(h),this};f.onDragOver=function(t){t?n.on("raphael.drag.over."+this.id,t):n.unbind("raphael.drag.over."+this.id)};f.undrag=function(){for(var i=ht.length;i--;)ht[i].el==this&&(this.unmousedown(ht[i].start),ht.splice(i,1),n.unbind("raphael.drag.*."+this.id));ht.length||t.unmousemove(di).unmouseup(gi);ot=[]};h.circle=function(n,i,r){var u=t._engine.circle(this,n||0,i||0,r||0);return this.__set__&&this.__set__.push(u),u};h.rect=function(n,i,r,u,f){var e=t._engine.rect(this,n||0,i||0,r||0,u||0,f||0);return this.__set__&&this.__set__.push(e),e};h.ellipse=function(n,i,r,u){var f=t._engine.ellipse(this,n||0,i||0,r||0,u||0);return this.__set__&&this.__set__.push(f),f};h.path=function(n){!n||t.is(n,gt)||t.is(n[0],nt)||(n+=k);var i=t._engine.path(t.format[a](t,arguments),this);return this.__set__&&this.__set__.push(i),i};h.image=function(n,i,r,u,f){var e=t._engine.image(this,n||"about:blank",i||0,r||0,u||0,f||0);return this.__set__&&this.__set__.push(e),e};h.text=function(n,i,r){var u=t._engine.text(this,n||0,i||0,w(r));return this.__set__&&this.__set__.push(u),u};h.set=function(n){t.is(n,"array")||(n=Array.prototype.splice.call(arguments,0,arguments.length));var i=new vt(n);return this.__set__&&this.__set__.push(i),i.paper=this,i.type="set",i};h.setStart=function(n){this.__set__=n||this.set()};h.setFinish=function(){var n=this.__set__;return delete this.__set__,n};h.getSize=function(){var n=this.canvas.parentNode;return{width:n.offsetWidth,height:n.offsetHeight}};h.setSize=function(n,i){return t._engine.setSize.call(this,n,i)};h.setViewBox=function(n,i,r,u,f){return t._engine.setViewBox.call(this,n,i,r,u,f)};h.top=h.bottom=null;h.raphael=t;ru=function(n){var u=n.getBoundingClientRect(),f=n.ownerDocument,t=f.body,r=f.documentElement,e=r.clientTop||t.clientTop||0,o=r.clientLeft||t.clientLeft||0,s=u.top+(i.win.pageYOffset||r.scrollTop||t.scrollTop)-e,h=u.left+(i.win.pageXOffset||r.scrollLeft||t.scrollLeft)-o;return{y:s,x:h}};h.getElementByPoint=function(n,t){var o=this,f=o.canvas,r=i.doc.elementFromPoint(n,t),s,u,e;if(i.win.opera&&r.tagName=="svg"&&(s=ru(f),u=f.createSVGRect(),u.x=n-s.x,u.y=t-s.y,u.width=u.height=1,e=f.getIntersectionList(u,null),e.length&&(r=e[e.length-1])),!r)return null;while(r.parentNode&&r!=f.parentNode&&!r.raphael)r=r.parentNode;return r==o.canvas.parentNode&&(r=f),r&&r.raphael?o.getById(r.raphaelid):null};h.getElementsByBBox=function(n){var i=this.set();return this.forEach(function(r){t.isBBoxIntersect(r.getBBox(),n)&&i.push(r)}),i};h.getById=function(n){for(var t=this.bottom;t;){if(t.id==n)return t;t=t.next}return null};h.forEach=function(n,t){for(var i=this.bottom;i;){if(n.call(t,i)===!1)return this;i=i.next}return this};h.getElementsByPoint=function(n,t){var i=this.set();return this.forEach(function(r){r.isPointInside(n,t)&&i.push(r)}),i};f.isPointInside=function(n,i){var r=this.realPath=ti[this.type](this);return this.attr("transform")&&this.attr("transform").length&&(r=t.transformPath(r,this.attr("transform"))),t.isPointInsidePath(r,n,i)};f.getBBox=function(n){if(this.removed)return{};var t=this._;return n?((t.dirty||!t.bboxwt)&&(this.realPath=ti[this.type](this),t.bboxwt=ki(this.realPath),t.bboxwt.toString=uu,t.dirty=0),t.bboxwt):((t.dirty||t.dirtyT||!t.bbox)&&((t.dirty||!this.realPath)&&(t.bboxwt=0,this.realPath=ti[this.type](this)),t.bbox=ki(pi(this.realPath,this.matrix)),t.bbox.toString=uu,t.dirty=t.dirtyT=0),t.bbox)};f.clone=function(){if(this.removed)return null;var n=this.paper[this.type]().attr(this.attr());return this.__set__&&this.__set__.push(n),n};f.glow=function(n){var r;if(this.type=="text")return null;n=n||{};var t={width:(n.width||10)+(+this.attr("stroke-width")||1),fill:n.fill||!1,opacity:n.opacity==null?.5:n.opacity,offsetx:n.offsetx||0,offsety:n.offsety||0,color:n.color||"#000"},u=t.width/2,f=this.paper,e=f.set(),i=this.realPath||ti[this.type](this);for(i=this.matrix?pi(i,this.matrix):i,r=1;r<u+1;r++)e.push(f.path(i).attr({stroke:t.color,fill:t.fill?t.color:"none","stroke-linejoin":"round","stroke-linecap":"round","stroke-width":+(t.width/u*r).toFixed(3),opacity:+(t.opacity/u).toFixed(3)}));return e.insertBefore(this).translate(t.offsetx,t.offsety)};var tr=function(n,i,r,u,f,e,o,s,h){return h==null?at(n,i,r,u,f,e,o,s):t.findDotsAtSegment(n,i,r,u,f,e,o,s,of(n,i,r,u,f,e,o,s,h))},ir=function(n,i){return function(r,u,f){var y,p;r=pt(r);var s,h,e,a,c="",v={},o,l=0;for(y=0,p=r.length;y<p;y++){if(e=r[y],e[0]=="M")s=+e[1],h=+e[2];else{if(a=tr(s,h,e[1],e[2],e[3],e[4],e[5],e[6]),l+a>u){if(i&&!v.start){if(o=tr(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),c+=["C"+o.start.x,o.start.y,o.m.x,o.m.y,o.x,o.y],f)return c;v.start=c;c=["M"+o.x,o.y+"C"+o.n.x,o.n.y,o.end.x,o.end.y,e[5],e[6]].join();l+=a;s=+e[5];h=+e[6];continue}if(!n&&!i)return o=tr(s,h,e[1],e[2],e[3],e[4],e[5],e[6],u-l),{x:o.x,y:o.y,alpha:o.alpha}}l+=a;s=+e[5];h=+e[6]}c+=e.shift()+e}return v.end=c,o=n?l:i?v:t.findDotsAtSegment(s,h,e[0],e[1],e[2],e[3],e[4],e[5],1),o.alpha&&(o={x:o.x,y:o.y,alpha:o.alpha}),o}},fu=ir(1),eu=ir(),rr=ir(0,1);t.getTotalLength=fu;t.getPointAtLength=eu;t.getSubpath=function(n,t,i){if(this.getTotalLength(n)-i<1e-6)return rr(n,t).end;var r=rr(n,i,1);return t?rr(r,t).end:r};f.getTotalLength=function(){var n=this.getPath();if(n)return this.node.getTotalLength?this.node.getTotalLength():fu(n)};f.getPointAtLength=function(n){var t=this.getPath();if(t)return eu(t,n)};f.getPath=function(){var n,i=t._getPath[this.type];if(this.type!="text"&&this.type!="set")return i&&(n=i(this)),n};f.getSubpath=function(n,i){var r=this.getPath();if(r)return t.getSubpath(r,n,i)};d=t.easing_formulas={linear:function(n){return n},"<":function(n){return g(n,1.7)},">":function(n){return g(n,.48)},"<>":function(n){var i=.48-n/1.04,u=r.sqrt(.1734+i*i),f=u-i,o=g(v(f),1/3)*(f<0?-1:1),e=-u-i,s=g(v(e),1/3)*(e<0?-1:1),t=o+s+.5;return(1-t)*3*t*t+t*t*t},backIn:function(n){var t=1.70158;return n*n*((t+1)*n-t)},backOut:function(n){n=n-1;var t=1.70158;return n*n*((t+1)*n+t)+1},elastic:function(n){return n==!!n?n:g(2,-10*n)*r.sin((n-.075)*2*b/.3)+1},bounce:function(n){var r=7.5625,t=2.75,i;return n<1/t?i=r*n*n:n<2/t?(n-=1.5/t,i=r*n*n+.75):n<2.5/t?(n-=2.25/t,i=r*n*n+.9375):(n-=2.625/t,i=r*n*n+.984375),i}};d.easeIn=d["ease-in"]=d["<"];d.easeOut=d["ease-out"]=d[">"];d.easeInOut=d["ease-in-out"]=d["<>"];d["back-in"]=d.backIn;d["back-out"]=d.backOut;var u=[],ou=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(n){setTimeout(n,16)},ur=function(){for(var ft=+new Date,b=0,i,v,r,f,g,c,nt,p,ut;b<u.length;b++)if(i=u[b],!i.el.removed&&!i.paused){var k=ft-i.start,h=i.ms,et=i.easing,s=i.from,a=i.diff,tt=i.to,ot=i.t,w=i.el,it={},e,rt={},d;if(i.initstatus?(k=(i.initstatus*i.anim.top-i.prev)/(i.percent-i.prev)*h,i.status=i.initstatus,delete i.initstatus,i.stop&&u.splice(b--,1)):i.status=(i.prev+(i.percent-i.prev)*(k/h))/i.anim.top,!(k<0))if(k<h){v=et(k/h);for(r in s)if(s[l](r)){switch(vi[r]){case y:e=+s[r]+v*h*a[r];break;case"colour":e="rgb("+[fr(ai(s[r].r+v*h*a[r].r)),fr(ai(s[r].g+v*h*a[r].g)),fr(ai(s[r].b+v*h*a[r].b))].join(",")+")";break;case"path":for(e=[],f=0,g=s[r].length;f<g;f++){for(e[f]=[s[r][f][0]],c=1,nt=s[r][f].length;c<nt;c++)e[f][c]=+s[r][f][c]+v*h*a[r][f][c];e[f]=e[f].join(ct)}e=e.join(ct);break;case"transform":if(a[r].real)for(e=[],f=0,g=s[r].length;f<g;f++)for(e[f]=[s[r][f][0]],c=1,nt=s[r][f].length;c<nt;c++)e[f][c]=s[r][f][c]+v*h*a[r][f][c];else p=function(n){return+s[r][n]+v*h*a[r][n]},e=[["m",p(0),p(1),p(2),p(3),p(4),p(5)]];break;case"csv":if(r=="clip-rect")for(e=[],f=4;f--;)e[f]=+s[r][f]+v*h*a[r][f];break;default:for(ut=[][o](s[r]),e=[],f=w.paper.customAttributes[r].length;f--;)e[f]=+ut[f]+v*h*a[r][f]}it[r]=e}w.attr(it),function(t,i,r){setTimeout(function(){n("raphael.anim.frame."+t,i,r)})}(w.id,w,i.anim)}else{if(function(i,r,u){setTimeout(function(){n("raphael.anim.frame."+r.id,r,u);n("raphael.anim.finish."+r.id,r,u);t.is(i,"function")&&i.call(r)})}(i.callback,w,i.anim),w.attr(tt),u.splice(b--,1),i.repeat>1&&!i.next){for(d in tt)tt[l](d)&&(rt[d]=i.totalOrigin[d]);i.el.attr(rt);wt(i.anim,i.el,i.anim.percents[0],null,i.totalOrigin,i.repeat-1)}i.next&&!i.stop&&wt(i.anim,i.el,i.next,null,i.totalOrigin,i.repeat)}}u.length&&ou(ur)},fr=function(n){return n>255?255:n<0?0:n};f.animateWith=function(n,i,r,f,e,o){var s=this,c,h,l;if(s.removed)return o&&o.call(s),s;for(c=r instanceof ut?r:t.animation(r,f,e,o),wt(c,s,c.percents[0],null,s.attr()),h=0,l=u.length;h<l;h++)if(u[h].anim==i&&u[h].el==n){u[l-1].start=u[h].start;break}return s};f.onAnimation=function(t){return t?n.on("raphael.anim.frame."+this.id,t):n.unbind("raphael.anim.frame."+this.id),this};ut.prototype.delay=function(n){var t=new ut(this.anim,this.ms);return t.times=this.times,t.del=+n||0,t};ut.prototype.repeat=function(n){var t=new ut(this.anim,this.ms);return t.del=this.del,t.times=r.floor(e(n,0))||1,t};t.animation=function(n,i,r,u){var o,a,f,e,h,c;if(n instanceof ut)return n;(t.is(r,"function")||!r)&&(u=u||r||null,r=null);n=Object(n);i=+i||0;o={};for(f in n)n[l](f)&&s(f)!=f&&s(f)+"%"!=f&&(a=!0,o[f]=n[f]);if(a)return r&&(o.easing=r),u&&(o.callback=u),new ut({100:o},i);if(u){e=0;for(h in n)c=ft(h),n[l](h)&&c>e&&(e=c);e+="%";n[e].callback||(n[e].callback=u)}return new ut(n,i)};f.animate=function(n,i,r,u){var f=this,e;return f.removed?(u&&u.call(f),f):(e=n instanceof ut?n:t.animation(n,i,r,u),wt(e,f,e.percents[0],null,f.attr()),f)};f.setTime=function(n,t){return n&&t!=null&&this.status(n,c(t,n.ms)/n.ms),this};f.status=function(n,t){var f=[],r=0,e,i;if(t!=null)return wt(n,this,-1,c(t,1)),this;for(e=u.length;r<e;r++)if(i=u[r],i.el.id==this.id&&(!n||i.anim==n)){if(n)return i.status;f.push({anim:i.anim,status:i.status})}return n?0:f};f.pause=function(t){for(var i=0;i<u.length;i++)u[i].el.id!=this.id||t&&u[i].anim!=t||n("raphael.anim.pause."+this.id,this,u[i].anim)!==!1&&(u[i].paused=!0);return this};f.resume=function(t){for(var r,i=0;i<u.length;i++)u[i].el.id!=this.id||t&&u[i].anim!=t||(r=u[i],n("raphael.anim.resume."+this.id,this,r.anim)!==!1&&(delete r.paused,this.status(r.anim,r.status)));return this};f.stop=function(t){for(var i=0;i<u.length;i++)u[i].el.id!=this.id||t&&u[i].anim!=t||n("raphael.anim.stop."+this.id,this,u[i].anim)!==!1&&u.splice(i--,1);return this};n.on("raphael.remove",su);n.on("raphael.clear",su);f.toString=function(){return"Raphals object"};vt=function(n){if(this.items=[],this.length=0,this.type="set",n)for(var t=0,i=n.length;t<i;t++)n[t]&&(n[t].constructor==f.constructor||n[t].constructor==vt)&&(this[this.items.length]=this.items[this.items.length]=n[t],this.length++)};p=vt.prototype;p.push=function(){for(var n,t,i=0,r=arguments.length;i<r;i++)n=arguments[i],n&&(n.constructor==f.constructor||n.constructor==vt)&&(t=this.items.length,this[t]=this.items[t]=n,this.length++);return this};p.pop=function(){return this.length&&delete this[this.length--],this.items.pop()};p.forEach=function(n,t){for(var i=0,r=this.items.length;i<r;i++)if(n.call(t,this.items[i],i)===!1)return this;return this};for(hi in f)f[l](hi)&&(p[hi]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n][a](i,t)})}}(hi));p.attr=function(n,i){var r,f,u,e;if(n&&t.is(n,nt)&&t.is(n[0],"object"))for(r=0,f=n.length;r<f;r++)this.items[r].attr(n[r]);else for(u=0,e=this.items.length;u<e;u++)this.items[u].attr(n,i);return this};p.clear=function(){while(this.length)this.pop()};p.splice=function(n,t){var r;n=n<0?e(this.length+n,0):n;t=e(0,c(this.length-n,t));for(var u=[],o=[],f=[],i=2;i<arguments.length;i++)f.push(arguments[i]);for(i=0;i<t;i++)o.push(this[n+i]);for(;i<this.length-n;i++)u.push(this[n+i]);for(r=f.length,i=0;i<r+u.length;i++)this.items[n+i]=this[n+i]=i<r?f[i]:u[i-r];for(i=this.items.length=this.length-=t-r;this[i];)delete this[i++];return new vt(o)};p.exclude=function(n){for(var t=0,i=this.length;t<i;t++)if(this[t]==n)return this.splice(t,1),!0};p.animate=function(n,i,r,u){var o;(t.is(r,"function")||!r)&&(u=r||null);var e=this.items.length,f=e,h,c=this,s;if(!e)return this;for(u&&(s=function(){--e||u.call(c)}),r=t.is(r,gt)?r:s,o=t.animation(n,i,r,s),h=this.items[--f].animate(o);f--;)this.items[f]&&!this.items[f].removed&&this.items[f].animateWith(h,o,o),this.items[f]&&!this.items[f].removed||e--;return this};p.insertAfter=function(n){for(var t=this.items.length;t--;)this.items[t].insertAfter(n);return this};p.getBBox=function(){for(var n,t=[],i=[],r=[],u=[],f=this.items.length;f--;)this.items[f].removed||(n=this.items[f].getBBox(),t.push(n.x),i.push(n.y),r.push(n.x+n.width),u.push(n.y+n.height));return t=c[a](0,t),i=c[a](0,i),r=e[a](0,r),u=e[a](0,u),{x:t,y:i,x2:r,y2:u,width:r-t,height:u-i}};p.clone=function(n){n=this.paper.set();for(var t=0,i=this.items.length;t<i;t++)n.push(this.items[t].clone());return n};p.toString=function(){return"Raphals set"};p.glow=function(n){var t=this.paper.set();return this.forEach(function(i){var r=i.glow(n);r!=null&&r.forEach(function(n){t.push(n)})}),t};p.isPointInside=function(n,t){var i=!1;return this.forEach(function(r){if(r.isPointInside(n,t))return i=!0,!1}),i};t.registerFont=function(n){var i,u,f,r,t,e;if(!n.face)return n;this.fonts=this.fonts||{};i={w:n.w,face:{},glyphs:{}};u=n.face["font-family"];for(f in n.face)n.face[l](f)&&(i.face[f]=n.face[f]);if(this.fonts[u]?this.fonts[u].push(i):this.fonts[u]=[i],!n.svg){i.face["units-per-em"]=ft(n.face["units-per-em"],10);for(r in n.glyphs)if(n.glyphs[l](r)&&(t=n.glyphs[r],i.glyphs[r]={w:t.w,k:{},d:t.d&&"M"+t.d.replace(/[mlcxtrv]/g,function(n){return{l:"L",c:"C",x:"z",t:"m",r:"l",v:"c"}[n]||"M"})+"z"},t.k))for(e in t.k)t[l](e)&&(i.glyphs[r].k[e]=t.k[e])}return n};h.getFont=function(n,i,r,u){var f,h,o,e,s,c;if(u=u||"normal",r=r||"normal",i=+i||{normal:400,bold:700,lighter:300,bolder:800}[i]||400,t.fonts){if(f=t.fonts[n],!f){h=new RegExp("(^|\\s)"+n.replace(/[^\w\d\s+!~.:_-]/g,k)+"(\\s|$)","i");for(o in t.fonts)if(t.fonts[l](o)&&h.test(o)){f=t.fonts[o];break}}if(f)for(s=0,c=f.length;s<c;s++)if(e=f[s],e.face["font-weight"]==i&&(e.face["font-style"]==r||!e.face["font-style"])&&e.face["font-stretch"]==u)break;return e}};h.print=function(n,i,r,u,f,o,s,h){var a,et,d,y;o=o||"middle";s=e(c(s||0,1),-1);h=e(c(h||1,3),1);var v=w(r)[rt](k),g=0,p=0,tt=k,l;if(t.is(u,"string")&&(u=this.getFont(u)),u){l=(f||16)/u.face["units-per-em"];var b=u.face.bbox[rt](li),it=+b[0],nt=b[3]-b[1],ut=0,ft=+b[1]+(o=="baseline"?nt+ +u.face.descent:nt/2);for(a=0,et=v.length;a<et;a++)v[a]=="\n"?(g=0,y=0,p=0,ut+=nt*h):(d=p&&u.glyphs[v[a-1]]||{},y=u.glyphs[v[a]],g+=p?(d.w||u.w)+(d.k&&d.k[v[a]]||0)+u.w*s:0,p=1),y&&y.d&&(tt+=t.transformPath(y.d,["t",g*l,ut*l,"s",l,l,it,ft,"t",(n-it)/l,(i-ft)/l]))}return this.path(tt).attr({fill:"#000",stroke:"none"})};h.add=function(n){if(t.is(n,"array"))for(var u=this.set(),r=0,f=n.length,i;r<f;r++)i=n[r]||{},hu[l](i.type)&&u.push(this[i.type]().attr(i));return u};t.format=function(n,i){var r=t.is(i,nt)?[0][o](i):arguments;return n&&t.is(n,gt)&&r.length-1&&(n=n.replace(cu,function(n,t){return r[++t]==null?k:r[t]})),n||k};t.fullfill=function(){var n=/\{([^\}]+)\}/g,t=/(?:(?:^|\.)(.+?)(?=\[|\.|$|\()|\[('|")(.+?)\2\])(\(\))?/g,i=function(n,i,r){var u=r;return i.replace(t,function(n,t,i,r,f){t=t||r;u&&(t in u&&(u=u[t]),typeof u=="function"&&f&&(u=u()))}),u=(u==null||u==r?n:u)+""};return function(t,r){return String(t).replace(n,function(n,t){return i(n,t,r)})}}();t.ninja=function(){if(er.was)i.win.Raphael=er.is;else{window.Raphael=undefined;try{delete window.Raphael}catch(n){}}return t};t.st=p;n.on("raphael.DOMload",function(){ci=!0});return function(n,i,r){function u(){/in/.test(n.readyState)?setTimeout(u,9):t.eve("raphael.DOMload")}n.readyState==null&&n.addEventListener&&(n.addEventListener(i,r=function(){n.removeEventListener(i,r,!1);n.readyState="complete"},!1),n.readyState="loading");u()}(document,"DOMContentLoaded"),t}.apply(t,u),r!==undefined&&(n.exports=r))},"./dev/raphael.svg.js":function(n,t,i){var u,r;!(u=[i("./dev/raphael.core.js")],r=function(n){var tt,y;if(!n||n.svg){var i="hasOwnProperty",u=String,f=parseFloat,it=parseInt,l=Math,d=l.max,p=l.abs,g=l.pow,a=/[, ]+/,w=n.eve,o="",b=" ",v="http://www.w3.org/1999/xlink",et={block:"M5,0 0,2.5 5,5z",classic:"M5,0 0,2.5 5,5 3.5,3 3.5,2z",diamond:"M2.5,0 5,2.5 2.5,5 0,2.5z",open:"M6,1 1,3.5 6,6",oval:"M2.5,0A2.5,2.5,0,0,1,2.5,5 2.5,2.5,0,0,1,2.5,0z"},e={};n.toString=function(){return"Your browser supports SVG.\nYou are running Raphal "+this.version};var t=function(r,f){if(f){typeof r=="string"&&(r=t(r));for(var e in f)f[i](e)&&(e.substring(0,6)=="xlink:"?r.setAttributeNS(v,e.substring(6),u(f[e])):r.setAttribute(e,u(f[e])))}else r=n._g.doc.createElementNS("http://www.w3.org/2000/svg",r),r.style&&(r.style.webkitTapHighlightColor="rgba(0,0,0,0)");return r},rt=function(i,r){var w="linear",a=i.id+r,b=.5,h=.5,tt=i.node,it=i.paper,k=tt.style,v=n._g.doc.getElementById(a),y,e,nt,c,s,rt;if(!v){if(r=u(r).replace(n._radial_gradient,function(n,t,i){if(w="radial",t&&i){b=f(t);h=f(i);var r=(h>.5)*2-1;g(b-.5,2)+g(h-.5,2)>.25&&(h=l.sqrt(.25-g(b-.5,2))*r+.5)&&h!=.5&&(h=h.toFixed(5)-1e-5*r)}return o}),r=r.split(/\s*\-\s*/),w=="linear"){if(y=r.shift(),y=-f(y),isNaN(y))return null;e=[0,0,l.cos(n.rad(y)),l.sin(n.rad(y))];nt=1/(d(p(e[2]),p(e[3]))||1);e[2]*=nt;e[3]*=nt;e[2]<0&&(e[0]=-e[2],e[2]=0);e[3]<0&&(e[1]=-e[3],e[3]=0)}if(c=n._parseDots(r),!c)return null;if(a=a.replace(/[\(\)\s,\xb0#]/g,"_"),i.gradient&&a!=i.gradient.id&&(it.defs.removeChild(i.gradient),delete i.gradient),!i.gradient)for(v=t(w+"Gradient",{id:a}),i.gradient=v,t(v,w=="radial"?{fx:b,fy:h}:{x1:e[0],y1:e[1],x2:e[2],y2:e[3],gradientTransform:i.matrix.invert()}),it.defs.appendChild(v),s=0,rt=c.length;s<rt;s++)v.appendChild(t("stop",{offset:c[s].offset?c[s].offset:s?"100%":"0%","stop-color":c[s].color||"#fff","stop-opacity":isFinite(c[s].opacity)?c[s].opacity:1}))}return t(tt,{fill:st(a),opacity:1,"fill-opacity":1}),k.fill=o,k.opacity=1,k.fillOpacity=1,1},ot=function(){var n=document.documentMode;return n&&(n===9||n===10)},st=function(n){if(ot())return"url('#"+n+"')";var t=document.location,i=t.protocol+"//"+t.host+t.pathname+t.search;return"url('"+i+"#"+n+"')"},k=function(n){var i=n.getBBox(1);t(n.pattern,{patternTransform:n.matrix.invert()+" translate("+i.x+","+i.y+")"})},s=function(r,f,s){var b,k,g,tt,it,rt;if(r.type=="path"){for(var ut=u(f).toLowerCase().split("-"),ht=r.paper,h=s?"end":"start",ct=r.node,l=r.attrs,d=l["stroke-width"],ft=ut.length,a="classic",p,w,ot,st,c,v=3,y=3,nt=5;ft--;)switch(ut[ft]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":a=ut[ft];break;case"wide":y=5;break;case"narrow":y=2;break;case"long":v=5;break;case"short":v=2}a=="open"?(v+=2,y+=2,nt+=2,ot=1,st=s?4:1,c={fill:"none",stroke:l.stroke}):(st=ot=v/2,c={fill:l.stroke,stroke:"none"});r._.arrows?s?(r._.arrows.endPath&&e[r._.arrows.endPath]--,r._.arrows.endMarker&&e[r._.arrows.endMarker]--):(r._.arrows.startPath&&e[r._.arrows.startPath]--,r._.arrows.startMarker&&e[r._.arrows.startMarker]--):r._.arrows={};a!="none"?(b="raphael-marker-"+a,k="raphael-marker-"+h+a+v+y+"-obj"+r.id,n._g.doc.getElementById(b)?e[b]++:(ht.defs.appendChild(t(t("path"),{"stroke-linecap":"round",d:et[a],id:b})),e[b]=1),g=n._g.doc.getElementById(k),g?(e[k]++,tt=g.getElementsByTagName("use")[0]):(g=t(t("marker"),{id:k,markerHeight:y,markerWidth:v,orient:"auto",refX:st,refY:y/2}),tt=t(t("use"),{"xlink:href":"#"+b,transform:(s?"rotate(180 "+v/2+" "+y/2+") ":o)+"scale("+v/nt+","+y/nt+")","stroke-width":(2/(v/nt+y/nt)).toFixed(4)}),g.appendChild(tt),ht.defs.appendChild(g),e[k]=1),t(tt,c),it=ot*(a!="diamond"&&a!="oval"),s?(p=r._.arrows.startdx*d||0,w=n.getTotalLength(l.path)-it*d):(p=it*d,w=n.getTotalLength(l.path)-(r._.arrows.enddx*d||0)),c={},c["marker-"+h]="url(#"+k+")",(w||p)&&(c.d=n.getSubpath(l.path,p,w)),t(ct,c),r._.arrows[h+"Path"]=b,r._.arrows[h+"Marker"]=k,r._.arrows[h+"dx"]=it,r._.arrows[h+"Type"]=a,r._.arrows[h+"String"]=f):(s?(p=r._.arrows.startdx*d||0,w=n.getTotalLength(l.path)-p):(p=0,w=n.getTotalLength(l.path)-(r._.arrows.enddx*d||0)),r._.arrows[h+"Path"]&&t(ct,{d:n.getSubpath(l.path,p,w)}),delete r._.arrows[h+"Path"],delete r._.arrows[h+"Marker"],delete r._.arrows[h+"dx"],delete r._.arrows[h+"Type"],delete r._.arrows[h+"String"]);for(c in e)e[i](c)&&!e[c]&&(rt=n._g.doc.getElementById(c),rt&&rt.parentNode.removeChild(rt))}},ht={"-":[3,1],".":[1,1],"-.":[3,1,1,1],"-..":[3,1,1,1,1,1],". ":[1,3],"- ":[4,3],"--":[8,3],"- .":[4,3,1,3],"--.":[8,3,1,3],"--..":[8,3,1,3,1,3]},ut=function(n,i,r){if(i=ht[u(i).toLowerCase()],i){for(var e=n.attrs["stroke-width"]||"1",s={round:e,square:e,butt:0}[n.attrs["stroke-linecap"]||r["stroke-linecap"]]||0,o=[],f=i.length;f--;)o[f]=i[f]*e+(f%2?1:-1)*s;t(n.node,{"stroke-dasharray":o.join(",")})}else t(n.node,{"stroke-dasharray":"none"})},nt=function(r,f){var h=r.node,c=r.attrs,pt=h.style.visibility,l,e,b,vt,g,et,nt,y,ot,at,st,ht,lt,w,tt,ft,yt;h.style.visibility="hidden";for(l in f)if(f[i](l)){if(!n._availableAttrs[i](l))continue;e=f[l];c[l]=e;switch(l){case"blur":r.blur(e);break;case"title":b=h.getElementsByTagName("title");b.length&&(b=b[0])?b.firstChild.nodeValue=e:(b=t("title"),vt=n._g.doc.createTextNode(e),b.appendChild(vt),h.appendChild(b));break;case"href":case"target":g=h.parentNode;g.tagName.toLowerCase()!="a"&&(et=t("a"),g.insertBefore(et,h),et.appendChild(h),g=et);l=="target"?g.setAttributeNS(v,"show",e=="blank"?"new":e):g.setAttributeNS(v,l,e);break;case"cursor":h.style.cursor=e;break;case"transform":r.transform(e);break;case"arrow-start":s(r,e);break;case"arrow-end":s(r,e,1);break;case"clip-rect":nt=u(e).split(a);nt.length==4&&(r.clip&&r.clip.parentNode.parentNode.removeChild(r.clip.parentNode),y=t("clipPath"),ot=t("rect"),y.id=n.createUUID(),t(ot,{x:nt[0],y:nt[1],width:nt[2],height:nt[3]}),y.appendChild(ot),r.paper.defs.appendChild(y),t(h,{"clip-path":"url(#"+y.id+")"}),r.clip=ot);e||(at=h.getAttribute("clip-path"),at&&(st=n._g.doc.getElementById(at.replace(/(^url\(#|\)$)/g,o)),st&&st.parentNode.removeChild(st),t(h,{"clip-path":o}),delete r.clip));break;case"path":r.type=="path"&&(t(h,{d:e?c.path=n._pathToAbsolute(e):"M0,0"}),r._.dirty=1,r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1)));break;case"width":if(h.setAttribute(l,e),r._.dirty=1,c.fx)l="x",e=c.x;else break;case"x":c.fx&&(e=-c.x-(c.width||0));case"rx":if(l=="rx"&&r.type=="rect")break;case"cx":h.setAttribute(l,e);r.pattern&&k(r);r._.dirty=1;break;case"height":if(h.setAttribute(l,e),r._.dirty=1,c.fy)l="y",e=c.y;else break;case"y":c.fy&&(e=-c.y-(c.height||0));case"ry":if(l=="ry"&&r.type=="rect")break;case"cy":h.setAttribute(l,e);r.pattern&&k(r);r._.dirty=1;break;case"r":r.type=="rect"?t(h,{rx:e,ry:e}):h.setAttribute(l,e);r._.dirty=1;break;case"src":r.type=="image"&&h.setAttributeNS(v,"href",e);break;case"stroke-width":(r._.sx!=1||r._.sy!=1)&&(e/=d(p(r._.sx),p(r._.sy))||1);h.setAttribute(l,e);c["stroke-dasharray"]&&ut(r,c["stroke-dasharray"],f);r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1));break;case"stroke-dasharray":ut(r,e,f);break;case"fill":if(ht=u(e).match(n._ISURL),ht){y=t("pattern");lt=t("image");y.id=n.createUUID();t(y,{x:0,y:0,patternUnits:"userSpaceOnUse",height:1,width:1});t(lt,{x:0,y:0,"xlink:href":ht[1]});y.appendChild(lt),function(i){n._preload(ht[1],function(){var n=this.offsetWidth,r=this.offsetHeight;t(i,{width:n,height:r});t(lt,{width:n,height:r})})}(y);r.paper.defs.appendChild(y);t(h,{fill:"url(#"+y.id+")"});r.pattern=y;r.pattern&&k(r);break}if(w=n.getRGB(e),w.error){if((r.type=="circle"||r.type=="ellipse"||u(e).charAt()!="r")&&rt(r,e)){("opacity"in c||"fill-opacity"in c)&&(tt=n._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,o)),tt&&(ft=tt.getElementsByTagName("stop"),t(ft[ft.length-1],{"stop-opacity":("opacity"in c?c.opacity:1)*("fill-opacity"in c?c["fill-opacity"]:1)})));c.gradient=e;c.fill="none";break}}else delete f.gradient,delete c.gradient,!n.is(c.opacity,"undefined")&&n.is(f.opacity,"undefined")&&t(h,{opacity:c.opacity}),!n.is(c["fill-opacity"],"undefined")&&n.is(f["fill-opacity"],"undefined")&&t(h,{"fill-opacity":c["fill-opacity"]});w[i]("opacity")&&t(h,{"fill-opacity":w.opacity>1?w.opacity/100:w.opacity});case"stroke":w=n.getRGB(e);h.setAttribute(l,w.hex);l=="stroke"&&w[i]("opacity")&&t(h,{"stroke-opacity":w.opacity>1?w.opacity/100:w.opacity});l=="stroke"&&r._.arrows&&("startString"in r._.arrows&&s(r,r._.arrows.startString),"endString"in r._.arrows&&s(r,r._.arrows.endString,1));break;case"gradient":(r.type=="circle"||r.type=="ellipse"||u(e).charAt()!="r")&&rt(r,e);break;case"opacity":c.gradient&&!c[i]("stroke-opacity")&&t(h,{"stroke-opacity":e>1?e/100:e});case"fill-opacity":if(c.gradient){tt=n._g.doc.getElementById(h.getAttribute("fill").replace(/^url\(#|\)$/g,o));tt&&(ft=tt.getElementsByTagName("stop"),t(ft[ft.length-1],{"stop-opacity":e}));break}default:l=="font-size"&&(e=it(e,10)+"px");yt=l.replace(/(\-.)/g,function(n){return n.substring(1).toUpperCase()});h.style[yt]=e;r._.dirty=1;h.setAttribute(l,e)}}ct(r,f);h.style.visibility=pt},ft=1.2,ct=function(r,f){var y,h,l,e,a,p,v;if(r.type=="text"&&(f[i]("text")||f[i]("font")||f[i]("font-size")||f[i]("x")||f[i]("y"))){var c=r.attrs,s=r.node,w=s.firstChild?it(n._g.doc.defaultView.getComputedStyle(s.firstChild,o).getPropertyValue("font-size"),10):10;if(f[i]("text")){for(c.text=f.text;s.firstChild;)s.removeChild(s.firstChild);for(y=u(f.text).split("\n"),h=[],e=0,a=y.length;e<a;e++)l=t("tspan"),e&&t(l,{dy:w*ft,x:c.x}),l.appendChild(n._g.doc.createTextNode(y[e])),s.appendChild(l),h[e]=l}else for(h=s.getElementsByTagName("tspan"),e=0,a=h.length;e<a;e++)e?t(h[e],{dy:w*ft,x:c.x}):t(h[0],{dy:0});t(s,{x:c.x,y:c.y});r._.dirty=1;p=r._getBBox();v=c.y-(p.y+p.height/2);v&&n.is(v,"finite")&&t(h[0],{dy:v})}},c=function(n){return n.parentNode&&n.parentNode.tagName.toLowerCase()==="a"?n.parentNode:n},h=function(t,i){function r(){return("0000"+(Math.random()*Math.pow(36,5)<<0).toString(36)).slice(-5)}this[0]=this.node=t;t.raphael=!0;this.id=r();t.raphaelid=this.id;this.matrix=n.matrix();this.realPath=null;this.paper=i;this.attrs=this.attrs||{};this._={transform:[],sx:1,sy:1,deg:0,dx:0,dy:0,dirty:1};i.bottom||(i.bottom=this);this.prev=i.top;i.top&&(i.top.next=this);i.top=this;this.next=null},r=n.el;h.prototype=r;r.constructor=h;n._engine.path=function(n,i){var u=t("path"),r;return i.canvas&&i.canvas.appendChild(u),r=new h(u,i),r.type="path",nt(r,{fill:"none",stroke:"#000",path:n}),r};r.rotate=function(n,t,i){if(this.removed)return this;if(n=u(n).split(a),n.length-1&&(t=f(n[1]),i=f(n[2])),n=f(n[0]),i==null&&(t=i),t==null||i==null){var r=this.getBBox(1);t=r.x+r.width/2;i=r.y+r.height/2}return this.transform(this._.transform.concat([["r",n,t,i]])),this};r.scale=function(n,t,i,r){if(this.removed)return this;if(n=u(n).split(a),n.length-1&&(t=f(n[1]),i=f(n[2]),r=f(n[3])),n=f(n[0]),t==null&&(t=n),r==null&&(i=r),i==null||r==null)var e=this.getBBox(1);return i=i==null?e.x+e.width/2:i,r=r==null?e.y+e.height/2:r,this.transform(this._.transform.concat([["s",n,t,i,r]])),this};r.translate=function(n,t){return this.removed?this:(n=u(n).split(a),n.length-1&&(t=f(n[1])),n=f(n[0])||0,t=+t||0,this.transform(this._.transform.concat([["t",n,t]])),this)};r.transform=function(r){var u=this._,f;return r==null?u.transform:(n._extractTransform(this,r),this.clip&&t(this.clip,{transform:this.matrix.invert()}),this.pattern&&k(this),this.node&&t(this.node,{transform:this.matrix}),(u.sx!=1||u.sy!=1)&&(f=this.attrs[i]("stroke-width")?this.attrs["stroke-width"]:1,this.attr({"stroke-width":f})),this)};r.hide=function(){return this.removed||(this.node.style.display="none"),this};r.show=function(){return this.removed||(this.node.style.display=""),this};r.remove=function(){var r=c(this.node),t,i;if(!this.removed&&r.parentNode){t=this.paper;t.__set__&&t.__set__.exclude(this);w.unbind("raphael.*.*."+this.id);this.gradient&&t.defs.removeChild(this.gradient);n._tear(this,t);r.parentNode.removeChild(r);this.removeData();for(i in this)this[i]=typeof this[i]=="function"?n._removedFactory(i):null;this.removed=!0}};r._getBBox=function(){var r,i,n,t;this.node.style.display=="none"&&(this.show(),r=!0);i=!1;this.paper.canvas.parentElement?n=this.paper.canvas.parentElement.style:this.paper.canvas.parentNode&&(n=this.paper.canvas.parentNode.style);n&&n.display=="none"&&(i=!0,n.display="");t={};try{t=this.node.getBBox()}catch(u){t={x:this.node.clientLeft,y:this.node.clientTop,width:this.node.clientWidth,height:this.node.clientHeight}}finally{t=t||{};i&&(n.display="none")}return r&&this.hide(),t};r.attr=function(t,r){var e,c,l,s,o,h,f,u,v,y;if(this.removed)return this;if(t==null){e={};for(c in this.attrs)this.attrs[i](c)&&(e[c]=this.attrs[c]);return e.gradient&&e.fill=="none"&&(e.fill=e.gradient)&&delete e.gradient,e.transform=this._.transform,e}if(r==null&&n.is(t,"string")){if(t=="fill"&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;if(t=="transform")return this._.transform;for(l=t.split(a),s={},o=0,h=l.length;o<h;o++)t=l[o],s[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return h-1?s:s[l[0]]}if(r==null&&n.is(t,"array")){for(s={},o=0,h=t.length;o<h;o++)s[t[o]]=this.attr(t[o]);return s}r!=null?(f={},f[t]=r):t!=null&&n.is(t,"object")&&(f=t);for(u in f)w("raphael.attr."+u+"."+this.id,this,f[u]);for(u in this.paper.customAttributes)if(this.paper.customAttributes[i](u)&&f[i](u)&&n.is(this.paper.customAttributes[u],"function")){v=this.paper.customAttributes[u].apply(this,[].concat(f[u]));this.attrs[u]=f[u];for(y in v)v[i](y)&&(f[y]=v[y])}return nt(this,f),this};r.toFront=function(){var t,i;return this.removed?this:(t=c(this.node),t.parentNode.appendChild(t),i=this.paper,i.top!=this&&n._tofront(this,i),this)};r.toBack=function(){var t,i,r;return this.removed?this:(t=c(this.node),i=t.parentNode,i.insertBefore(t,i.firstChild),n._toback(this,this.paper),r=this.paper,this)};r.insertAfter=function(t){if(this.removed||!t)return this;var r=c(this.node),i=c(t.node||t[t.length-1].node);return i.nextSibling?i.parentNode.insertBefore(r,i.nextSibling):i.parentNode.appendChild(r),n._insertafter(this,t,this.paper),this};r.insertBefore=function(t){if(this.removed||!t)return this;var r=c(this.node),i=c(t.node||t[0].node);return i.parentNode.insertBefore(r,i),n._insertbefore(this,t,this.paper),this};r.blur=function(i){var r=this,u,f;return+i!=0?(u=t("filter"),f=t("feGaussianBlur"),r.attrs.blur=i,u.id=n.createUUID(),t(f,{stdDeviation:+i||1.5}),u.appendChild(f),r.paper.defs.appendChild(u),r._blur=u,t(r.node,{filter:"url(#"+u.id+")"})):(r._blur&&(r._blur.parentNode.removeChild(r._blur),delete r._blur,delete r.attrs.blur),r.node.removeAttribute("filter")),r};n._engine.circle=function(n,i,r,u){var e=t("circle"),f;return n.canvas&&n.canvas.appendChild(e),f=new h(e,n),f.attrs={cx:i,cy:r,r:u,fill:"none",stroke:"#000"},f.type="circle",t(e,f.attrs),f};n._engine.rect=function(n,i,r,u,f,e){var s=t("rect"),o;return n.canvas&&n.canvas.appendChild(s),o=new h(s,n),o.attrs={x:i,y:r,width:u,height:f,rx:e||0,ry:e||0,fill:"none",stroke:"#000"},o.type="rect",t(s,o.attrs),o};n._engine.ellipse=function(n,i,r,u,f){var o=t("ellipse"),e;return n.canvas&&n.canvas.appendChild(o),e=new h(o,n),e.attrs={cx:i,cy:r,rx:u,ry:f,fill:"none",stroke:"#000"},e.type="ellipse",t(o,e.attrs),e};n._engine.image=function(n,i,r,u,f,e){var o=t("image"),s;return t(o,{x:r,y:u,width:f,height:e,preserveAspectRatio:"none"}),o.setAttributeNS(v,"href",i),n.canvas&&n.canvas.appendChild(o),s=new h(o,n),s.attrs={x:r,y:u,width:f,height:e,src:i},s.type="image",s};n._engine.text=function(i,r,u,f){var o=t("text"),e;return i.canvas&&i.canvas.appendChild(o),e=new h(o,i),e.attrs={x:r,y:u,"text-anchor":"middle",text:f,"font-family":n._availableAttrs["font-family"],"font-size":n._availableAttrs["font-size"],stroke:"none",fill:"#000"},e.type="text",nt(e,e.attrs),e};n._engine.setSize=function(n,t){return this.width=n||this.width,this.height=t||this.height,this.canvas.setAttribute("width",this.width),this.canvas.setAttribute("height",this.height),this._viewBox&&this.setViewBox.apply(this,this._viewBox),this};n._engine.create=function(){var u=n._getContainer.apply(0,arguments),i=u&&u.container;if(!i)throw new Error("SVG container not found.");var o=u.x,s=u.y,f=u.width,e=u.height,r=t("svg"),h="overflow:hidden;",c;return o=o||0,s=s||0,f=f||512,e=e||342,t(r,{height:e,version:1.1,width:f,xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),i==1?(r.style.cssText=h+"position:absolute;left:"+o+"px;top:"+s+"px",n._g.doc.body.appendChild(r),c=1):(r.style.cssText=h+"position:relative",i.firstChild?i.insertBefore(r,i.firstChild):i.appendChild(r)),i=new n._Paper,i.width=f,i.height=e,i.canvas=r,i.clear(),i._left=i._top=0,c&&(i.renderfix=function(){}),i.renderfix(),i};n._engine.setViewBox=function(n,i,r,u,f){w("raphael.setViewBox",this,this._viewBox,[n,i,r,u,f]);var h=this.getSize(),o=d(r/h.width,u/h.height),e=this.top,l=f?"xMidYMid meet":"xMinYMin",s,c;for(n==null?(this._vbSize&&(o=1),delete this._vbSize,s="0 0 "+this.width+b+this.height):(this._vbSize=o,s=n+b+i+b+r+b+u),t(this.canvas,{viewBox:s,preserveAspectRatio:l});o&&e;)c="stroke-width"in e.attrs?e.attrs["stroke-width"]:1,e.attr({"stroke-width":c}),e._.dirty=1,e._.dirtyT=1,e=e.prev;return this._viewBox=[n,i,r,u,!!f],this};n.prototype.renderfix=function(){var n=this.canvas,u=n.style,t,i,r;try{t=n.getScreenCTM()||n.createSVGMatrix()}catch(f){t=n.createSVGMatrix()}i=-t.e%1;r=-t.f%1;(i||r)&&(i&&(this._left=(this._left+i)%1,u.left=this._left+"px"),r&&(this._top=(this._top+r)%1,u.top=this._top+"px"))};n.prototype.clear=function(){n.eve("raphael.clear",this);for(var i=this.canvas;i.firstChild;)i.removeChild(i.firstChild);this.bottom=this.top=null;(this.desc=t("desc")).appendChild(n._g.doc.createTextNode("Created with Raphal "+n.version));i.appendChild(this.desc);i.appendChild(this.defs=t("defs"))};n.prototype.remove=function(){w("raphael.remove",this);this.canvas.parentNode&&this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null};tt=n.st;for(y in r)r[i](y)&&!tt[i](y)&&(tt[y]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n].apply(i,t)})}}(y))}}.apply(t,u),r!==undefined&&(n.exports=r))},"./dev/raphael.vml.js":function(n,t,i){var u,r;!(u=[i("./dev/raphael.core.js")],r=function(n){var s,k,y;if(!n||n.vml){var h="hasOwnProperty",r=String,f=parseFloat,c=Math,e=c.round,d=c.max,g=c.min,p=c.abs,l="fill",a=/[, ]+/,ut=n.eve,ft=" progid:DXImageTransform.Microsoft",o=" ",u="",nt={M:"m",L:"l",C:"c",Z:"x",m:"t",l:"r",c:"v",z:"x"},et=/([clmz]),?([^clmz]*)/gi,ot=/ progid:\S+Blur\([^\)]+\)/g,st=/-?[^,\s-]+/g,tt="position:absolute;left:0;top:0;width:1px;height:1px;behavior:url(#default#VML)",t=21600,ht={path:1,rect:1,image:1},ct={circle:1,ellipse:1},lt=function(i){var l=/[ahqstv]/ig,a=n._pathToAbsolute,v,c,y,f,s,w,h,p;if(r(i).match(l)&&(a=n._path2curve),l=/[clmz]/g,a==n._pathToAbsolute&&!r(i).match(l))return r(i).replace(et,function(n,i,r){var u=[],o=i.toLowerCase()=="m",f=nt[i];return r.replace(st,function(n){o&&u.length==2&&(f+=u+nt[i=="m"?"l":"L"],u=[]);u.push(e(n*t))}),f+u});for(c=a(i),v=[],s=0,w=c.length;s<w;s++){for(y=c[s],f=c[s][0].toLowerCase(),f=="z"&&(f="x"),h=1,p=y.length;h<p;h++)f+=e(y[h]*t)+(h!=p-1?",":u);v.push(f)}return v.join(o)},it=function(t,i,r){var u=n.matrix();return u.rotate(-t,.5,.5),{dx:u.x(i,r),dy:u.y(i,r)}},w=function(n,i,r,u,f,e){var v=n._,k=n.matrix,h=v.fillpos,c=n.node,y=c.style,w=1,b="",d=t/i,g=t/r,a,s;(y.visibility="hidden",i&&r)&&(c.coordsize=p(d)+o+p(g),y.rotation=e*(i*r<0?-1:1),e&&(a=it(e,u,f),u=a.dx,f=a.dy),i<0&&(b+="x"),r<0&&(b+=" y")&&(w=-1),y.flip=b,c.coordorigin=u*-d+o+f*-g,(h||v.fillsize)&&(s=c.getElementsByTagName(l),s=s&&s[0],c.removeChild(s),h&&(a=it(e,k.x(h[0],h[1]),k.y(h[0],h[1])),s.position=a.dx*w+o+a.dy*w),v.fillsize&&(s.size=v.fillsize[0]*p(i)+o+v.fillsize[1]*p(r)),c.appendChild(s)),y.visibility="visible")};n.toString=function(){return"Your browser doesnt support SVG. Falling down to VML.\nYou are running Raphal "+this.version};var rt=function(n,t,i){for(var u=r(t).toLowerCase().split("-"),o=i?"end":"start",f=u.length,s="classic",h="medium",c="medium",e;f--;)switch(u[f]){case"block":case"classic":case"oval":case"diamond":case"open":case"none":s=u[f];break;case"wide":case"narrow":c=u[f];break;case"long":case"short":h=u[f]}e=n.node.getElementsByTagName("stroke")[0];e[o+"arrow"]=s;e[o+"arrowlength"]=h;e[o+"arrowwidth"]=c},v=function(i,c){var yt,nt,ot,ut,ft,y,si,pt,st,tt,k,dt,gt,et,ni,vt,ri,bt,hi;i.attrs=i.attrs||{};var b=i.node,v=i.attrs,it=b.style,ui=ht[i.type]&&(c.x!=v.x||c.y!=v.y||c.width!=v.width||c.height!=v.height||c.cx!=v.cx||c.cy!=v.cy||c.rx!=v.rx||c.ry!=v.ry||c.r!=v.r),ci=ct[i.type]&&(v.cx!=c.cx||v.cy!=c.cy||v.r!=c.r||v.rx!=c.rx||v.ry!=c.ry),p=i;for(yt in c)c[h](yt)&&(v[yt]=c[yt]);if(ui&&(v.path=n._getPath[i.type](i),i._.dirty=1),c.href&&(b.href=c.href),c.title&&(b.title=c.title),c.target&&(b.target=c.target),c.cursor&&(it.cursor=c.cursor),"blur"in c&&i.blur(c.blur),(c.path&&i.type=="path"||ui)&&(b.path=lt(~r(v.path).toLowerCase().indexOf("r")?n._pathToAbsolute(v.path):v.path),i._.dirty=1,i.type=="image"&&(i._.fillpos=[v.x,v.y],i._.fillsize=[v.width,v.height],w(i,1,1,0,0,0))),"transform"in c&&i.transform(c.transform),ci){var kt=+v.cx,fi=+v.cy,ei=+v.rx||+v.r||0,oi=+v.ry||+v.r||0;b.path=n.format("ar{0},{1},{2},{3},{4},{1},{4},{1}x",e((kt-ei)*t),e((fi-oi)*t),e((kt+ei)*t),e((fi+oi)*t),e(kt*t));i._.dirty=1}if("clip-rect"in c&&(nt=r(c["clip-rect"]).split(a),nt.length==4&&(nt[2]=+nt[2]+ +nt[0],nt[3]=+nt[3]+ +nt[1],ot=b.clipRect||n._g.doc.createElement("div"),ut=ot.style,ut.clip=n.format("rect({1}px {2}px {3}px {0}px)",nt),b.clipRect||(ut.position="absolute",ut.top=0,ut.left=0,ut.width=i.paper.width+"px",ut.height=i.paper.height+"px",b.parentNode.insertBefore(ot,b),ot.appendChild(b),b.clipRect=ot)),c["clip-rect"]||b.clipRect&&(b.clipRect.style.clip="auto")),i.textpath&&(ft=i.textpath.style,c.font&&(ft.font=c.font),c["font-family"]&&(ft.fontFamily='"'+c["font-family"].split(",")[0].replace(/^['"]+|['"]+$/g,u)+'"'),c["font-size"]&&(ft.fontSize=c["font-size"]),c["font-weight"]&&(ft.fontWeight=c["font-weight"]),c["font-style"]&&(ft.fontStyle=c["font-style"])),"arrow-start"in c&&rt(p,c["arrow-start"]),"arrow-end"in c&&rt(p,c["arrow-end"],1),(c.opacity!=null||c.fill!=null||c.src!=null||c.stroke!=null||c["stroke-width"]!=null||c["stroke-opacity"]!=null||c["fill-opacity"]!=null||c["stroke-dasharray"]!=null||c["stroke-miterlimit"]!=null||c["stroke-linejoin"]!=null||c["stroke-linecap"]!=null)&&(y=b.getElementsByTagName(l),si=!1,y=y&&y[0],y||(si=y=s(l)),i.type=="image"&&c.src&&(y.src=c.src),c.fill&&(y.on=!0),(y.on==null||c.fill=="none"||c.fill===null)&&(y.on=!1),y.on&&c.fill&&(pt=r(c.fill).match(n._ISURL),pt?(y.parentNode==b&&b.removeChild(y),y.rotate=!0,y.src=pt[1],y.type="tile",st=i.getBBox(1),y.position=st.x+o+st.y,i._.fillpos=[st.x,st.y],n._preload(pt[1],function(){i._.fillsize=[this.offsetWidth,this.offsetHeight]})):(y.color=n.getRGB(c.fill).hex,y.src=u,y.type="solid",n.getRGB(c.fill).error&&(p.type in{circle:1,ellipse:1}||r(c.fill).charAt()!="r")&&at(p,c.fill,y)&&(v.fill="none",v.gradient=c.fill,y.rotate=!1))),("fill-opacity"in c||"opacity"in c)&&(tt=((+v["fill-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+n.getRGB(c.fill).o+1||2)-1),tt=g(d(tt,0),1),y.opacity=tt,y.src&&(y.color="none")),b.appendChild(y),k=b.getElementsByTagName("stroke")&&b.getElementsByTagName("stroke")[0],dt=!1,k||(dt=k=s("stroke")),(c.stroke&&c.stroke!="none"||c["stroke-width"]||c["stroke-opacity"]!=null||c["stroke-dasharray"]||c["stroke-miterlimit"]||c["stroke-linejoin"]||c["stroke-linecap"])&&(k.on=!0),(c.stroke=="none"||c.stroke===null||k.on==null||c.stroke==0||c["stroke-width"]==0)&&(k.on=!1),gt=n.getRGB(c.stroke),k.on&&c.stroke&&(k.color=gt.hex),tt=((+v["stroke-opacity"]+1||2)-1)*((+v.opacity+1||2)-1)*((+gt.o+1||2)-1),et=(f(c["stroke-width"])||1)*.75,tt=g(d(tt,0),1),c["stroke-width"]==null&&(et=v["stroke-width"]),c["stroke-width"]&&(k.weight=et),et&&et<1&&(tt*=et)&&(k.weight=1),k.opacity=tt,c["stroke-linejoin"]&&(k.joinstyle=c["stroke-linejoin"]||"miter"),k.miterlimit=c["stroke-miterlimit"]||8,c["stroke-linecap"]&&(k.endcap=c["stroke-linecap"]=="butt"?"flat":c["stroke-linecap"]=="square"?"square":"round"),"stroke-dasharray"in c&&(ni={"-":"shortdash",".":"shortdot","-.":"shortdashdot","-..":"shortdashdotdot",". ":"dot","- ":"dash","--":"longdash","- .":"dashdot","--.":"longdashdot","--..":"longdashdotdot"},k.dashstyle=ni[h](c["stroke-dasharray"])?ni[c["stroke-dasharray"]]:u),dt&&b.appendChild(k)),p.type=="text"){p.paper.canvas.style.display=u;var ti=p.paper.span,ii=100,wt=v.font&&v.font.match(/\d+(?:\.\d*)?(?=px)/);for(it=ti.style,v.font&&(it.font=v.font),v["font-family"]&&(it.fontFamily=v["font-family"]),v["font-weight"]&&(it.fontWeight=v["font-weight"]),v["font-style"]&&(it.fontStyle=v["font-style"]),wt=f(v["font-size"]||wt&&wt[0])||10,it.fontSize=wt*ii+"px",p.textpath.string&&(ti.innerHTML=r(p.textpath.string).replace(/</g,"&#60;").replace(/&/g,"&#38;").replace(/\n/g,"<br>")),vt=ti.getBoundingClientRect(),p.W=v.w=(vt.right-vt.left)/ii,p.H=v.h=(vt.bottom-vt.top)/ii,p.X=v.x,p.Y=v.y+p.H/2,(("x"in c)||("y"in c))&&(p.path.v=n.format("m{0},{1}l{2},{1}",e(v.x*t),e(v.y*t),e(v.x*t)+1)),ri=["x","y","text","font","font-family","font-weight","font-style","font-size"],bt=0,hi=ri.length;bt<hi;bt++)if(ri[bt]in c){p._.dirty=1;break}switch(v["text-anchor"]){case"start":p.textpath.style["v-text-align"]="left";p.bbx=p.W/2;break;case"end":p.textpath.style["v-text-align"]="right";p.bbx=-p.W/2;break;default:p.textpath.style["v-text-align"]="center";p.bbx=0}p.textpath.style["v-text-kern"]=!0}},at=function(t,i,e){var l,s,a,h,w;t.attrs=t.attrs||{};var b=t.attrs,v=Math.pow,y="linear",p=".5 .5";if((t.attrs.gradient=i,i=r(i).replace(n._radial_gradient,function(n,t,i){return y="radial",t&&i&&(t=f(t),i=f(i),v(t-.5,2)+v(i-.5,2)>.25&&(i=c.sqrt(.25-v(t-.5,2))*((i>.5)*2-1)+.5),p=t+o+i),u}),i=i.split(/\s*\-\s*/),y=="linear"&&(l=i.shift(),l=-f(l),isNaN(l)))||(s=n._parseDots(i),!s))return null;if(t=t.shape||t.node,s.length){for(t.removeChild(e),e.on=!0,e.method="none",e.color=s[0].color,e.color2=s[s.length-1].color,a=[],h=0,w=s.length;h<w;h++)s[h].offset&&a.push(s[h].offset+o+s[h].color);e.colors=a.length?a.join():"0% "+e.color;y=="radial"?(e.type="gradientTitle",e.focus="100%",e.focussize="0 0",e.focusposition=p,e.angle=0):(e.type="gradient",e.angle=(270-l)%360);t.appendChild(e)}return 1},b=function(t,i){this[0]=this.node=t;t.raphael=!0;this.id=n._oid++;t.raphaelid=this.id;this.X=0;this.Y=0;this.attrs={};this.paper=i;this.matrix=n.matrix();this._={transform:[],sx:1,sy:1,dx:0,dy:0,deg:0,dirty:1,dirtyT:1};i.bottom||(i.bottom=this);this.prev=i.top;i.top&&(i.top.next=this);i.top=this;this.next=null},i=n.el;b.prototype=i;i.constructor=b;i.transform=function(i){var e,a,h;if(i==null)return this._.transform;e=this.paper._viewBoxShift;a=e?"s"+[e.scale,e.scale]+"-1-1t"+[e.dx,e.dy]:u;e&&(h=i=r(i).replace(/\.{3}|\u2026/g,this._.transform||u));n._extractTransform(this,a+i);var s=this.matrix.clone(),c=this.skew,l=this.node,f,v=~r(this.attrs.fill).indexOf("-"),d=!r(this.attrs.fill).indexOf("url(");if(s.translate(1,1),d||v||this.type=="image")if(c.matrix="1 0 0 1",c.offset="0 0",f=s.split(),v&&f.noRotation||!f.isSimple){l.style.filter=s.toFilter();var y=this.getBBox(),p=this.getBBox(1),b=y.x-p.x,k=y.y-p.y;l.coordorigin=b*-t+o+k*-t;w(this,1,1,b,k,0)}else l.style.filter=u,w(this,f.scalex,f.scaley,f.dx,f.dy,f.rotate);else l.style.filter=u,c.matrix=r(s),c.offset=s.offset();return h!==null&&(this._.transform=h,n._extractTransform(this,h)),this};i.rotate=function(n,t,i){if(this.removed)return this;if(n!=null){if(n=r(n).split(a),n.length-1&&(t=f(n[1]),i=f(n[2])),n=f(n[0]),i==null&&(t=i),t==null||i==null){var u=this.getBBox(1);t=u.x+u.width/2;i=u.y+u.height/2}return this._.dirtyT=1,this.transform(this._.transform.concat([["r",n,t,i]])),this}};i.translate=function(n,t){return this.removed?this:(n=r(n).split(a),n.length-1&&(t=f(n[1])),n=f(n[0])||0,t=+t||0,this._.bbox&&(this._.bbox.x+=n,this._.bbox.y+=t),this.transform(this._.transform.concat([["t",n,t]])),this)};i.scale=function(n,t,i,u){if(this.removed)return this;if(n=r(n).split(a),n.length-1&&(t=f(n[1]),i=f(n[2]),u=f(n[3]),isNaN(i)&&(i=null),isNaN(u)&&(u=null)),n=f(n[0]),t==null&&(t=n),u==null&&(i=u),i==null||u==null)var e=this.getBBox(1);return i=i==null?e.x+e.width/2:i,u=u==null?e.y+e.height/2:u,this.transform(this._.transform.concat([["s",n,t,i,u]])),this._.dirtyT=1,this};i.hide=function(){return this.removed||(this.node.style.display="none"),this};i.show=function(){return this.removed||(this.node.style.display=u),this};i.auxGetBBox=n.el.getBBox;i.getBBox=function(){var t=this.auxGetBBox(),n,i;return this.paper&&this.paper._viewBoxShift?(n={},i=1/this.paper._viewBoxShift.scale,n.x=t.x-this.paper._viewBoxShift.dx,n.x*=i,n.y=t.y-this.paper._viewBoxShift.dy,n.y*=i,n.width=t.width*i,n.height=t.height*i,n.x2=n.x+n.width,n.y2=n.y+n.height,n):t};i._getBBox=function(){return this.removed?{}:{x:this.X+(this.bbx||0)-this.W/2,y:this.Y-this.H,width:this.W,height:this.H}};i.remove=function(){if(!this.removed&&this.node.parentNode){this.paper.__set__&&this.paper.__set__.exclude(this);n.eve.unbind("raphael.*.*."+this.id);n._tear(this,this.paper);this.node.parentNode.removeChild(this.node);this.shape&&this.shape.parentNode.removeChild(this.shape);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null;this.removed=!0}};i.attr=function(t,i){var f,c,y,o,e,s,r,u,p,w;if(this.removed)return this;if(t==null){f={};for(c in this.attrs)this.attrs[h](c)&&(f[c]=this.attrs[c]);return f.gradient&&f.fill=="none"&&(f.fill=f.gradient)&&delete f.gradient,f.transform=this._.transform,f}if(i==null&&n.is(t,"string")){if(t==l&&this.attrs.fill=="none"&&this.attrs.gradient)return this.attrs.gradient;for(y=t.split(a),o={},e=0,s=y.length;e<s;e++)t=y[e],o[t]=t in this.attrs?this.attrs[t]:n.is(this.paper.customAttributes[t],"function")?this.paper.customAttributes[t].def:n._availableAttrs[t];return s-1?o:o[y[0]]}if(this.attrs&&i==null&&n.is(t,"array")){for(o={},e=0,s=t.length;e<s;e++)o[t[e]]=this.attr(t[e]);return o}i!=null&&(r={},r[t]=i);i==null&&n.is(t,"object")&&(r=t);for(u in r)ut("raphael.attr."+u+"."+this.id,this,r[u]);if(r){for(u in this.paper.customAttributes)if(this.paper.customAttributes[h](u)&&r[h](u)&&n.is(this.paper.customAttributes[u],"function")){p=this.paper.customAttributes[u].apply(this,[].concat(r[u]));this.attrs[u]=r[u];for(w in p)p[h](w)&&(r[w]=p[w])}r.text&&this.type=="text"&&(this.textpath.string=r.text);v(this,r)}return this};i.toFront=function(){return this.removed||this.node.parentNode.appendChild(this.node),this.paper&&this.paper.top!=this&&n._tofront(this,this.paper),this};i.toBack=function(){return this.removed?this:(this.node.parentNode.firstChild!=this.node&&(this.node.parentNode.insertBefore(this.node,this.node.parentNode.firstChild),n._toback(this,this.paper)),this)};i.insertAfter=function(t){return this.removed?this:(t.constructor==n.st.constructor&&(t=t[t.length-1]),t.node.nextSibling?t.node.parentNode.insertBefore(this.node,t.node.nextSibling):t.node.parentNode.appendChild(this.node),n._insertafter(this,t,this.paper),this)};i.insertBefore=function(t){return this.removed?this:(t.constructor==n.st.constructor&&(t=t[0]),t.node.parentNode.insertBefore(this.node,t.node),n._insertbefore(this,t,this.paper),this)};i.blur=function(t){var i=this.node.runtimeStyle,r=i.filter;return r=r.replace(ot,u),+t!=0?(this.attrs.blur=t,i.filter=r+o+ft+".Blur(pixelradius="+(+t||1.5)+")",i.margin=n.format("-{0}px 0 0 -{0}px",e(+t||1.5))):(i.filter=r,i.margin=0,delete this.attrs.blur),this};n._engine.path=function(n,i){var f=s("shape"),r,h,e;return f.style.cssText=tt,f.coordsize=t+o+t,f.coordorigin=i.coordorigin,r=new b(f,i),h={fill:"none",stroke:"#000"},n&&(h.path=n),r.type="path",r.path=[],r.Path=u,v(r,h),i.canvas&&i.canvas.appendChild(f),e=s("skew"),e.on=!0,f.appendChild(e),r.skew=e,r.transform(u),r};n._engine.rect=function(t,i,r,u,f,e){var h=n._rectPath(i,r,u,f,e),o=t.path(h),s=o.attrs;return o.X=s.x=i,o.Y=s.y=r,o.W=s.width=u,o.H=s.height=f,s.r=e,s.path=h,o.type="rect",o};n._engine.ellipse=function(n,t,i,r,u){var f=n.path(),e=f.attrs;return f.X=t-r,f.Y=i-u,f.W=r*2,f.H=u*2,f.type="ellipse",v(f,{cx:t,cy:i,rx:r,ry:u}),f};n._engine.circle=function(n,t,i,r){var u=n.path(),f=u.attrs;return u.X=t-r,u.Y=i-r,u.W=u.H=r*2,u.type="circle",v(u,{cx:t,cy:i,r:r}),u};n._engine.image=function(t,i,r,u,f,e){var a=n._rectPath(r,u,f,e),o=t.path(a).attr({stroke:"none"}),s=o.attrs,c=o.node,h=c.getElementsByTagName(l)[0];return s.src=i,o.X=s.x=r,o.Y=s.y=u,o.W=s.width=f,o.H=s.height=e,s.path=a,o.type="image",h.parentNode==c&&c.removeChild(h),h.rotate=!0,h.src=i,h.type="tile",o._.fillpos=[r,u],o._.fillsize=[f,e],c.appendChild(h),w(o,1,1,0,0,0),o};n._engine.text=function(i,f,h,c){var a=s("shape"),y=s("path"),p=s("textpath"),l,k,w;return f=f||0,h=h||0,c=c||"",y.v=n.format("m{0},{1}l{2},{1}",e(f*t),e(h*t),e(f*t)+1),y.textpathok=!0,p.string=r(c),p.on=!0,a.style.cssText=tt,a.coordsize=t+o+t,a.coordorigin="0 0",l=new b(a,i),k={fill:"#000",stroke:"none",font:n._availableAttrs.font,text:c},l.shape=a,l.path=y,l.textpath=p,l.type="text",l.attrs.text=r(c),l.attrs.x=f,l.attrs.y=h,l.attrs.w=1,l.attrs.h=1,v(l,k),a.appendChild(p),a.appendChild(y),i.canvas.appendChild(a),w=s("skew"),w.on=!0,a.appendChild(w),l.skew=w,l.transform(u),l};n._engine.setSize=function(t,i){var r=this.canvas.style;return this.width=t,this.height=i,t==+t&&(t+="px"),i==+i&&(i+="px"),r.width=t,r.height=i,r.clip="rect(0 "+t+" "+i+" 0)",this._viewBox&&n._engine.setViewBox.apply(this,this._viewBox),this};n._engine.setViewBox=function(t,i,r,u,f){n.eve("raphael.setViewBox",this,this._viewBox,[t,i,r,u,f]);var s=this.getSize(),h=s.width,c=s.height,e,o;return f&&(e=c/u,o=h/r,r*e<h&&(t-=(h-r*e)/2/e),u*o<c&&(i-=(c-u*o)/2/o)),this._viewBox=[t,i,r,u,!!f],this._viewBoxShift={dx:-t,dy:-i,scale:s},this.forEach(function(n){n.transform("...")}),this};n._engine.initWin=function(n){var t=n.document;t.styleSheets.length<31?t.createStyleSheet().addRule(".rvml","behavior:url(#default#VML)"):t.styleSheets[0].addRule(".rvml","behavior:url(#default#VML)");try{t.namespaces.rvml||t.namespaces.add("rvml","urn:schemas-microsoft-com:vml");s=function(n){return t.createElement("<rvml:"+n+' class="rvml">')}}catch(i){s=function(n){return t.createElement("<"+n+' xmlns="urn:schemas-microsoft.com:vml" class="rvml">')}}};n._engine.initWin(n._g.win);n._engine.create=function(){var e=n._getContainer.apply(0,arguments),f=e.container,r=e.height,u=e.width,c=e.x,l=e.y;if(!f)throw new Error("VML container not found.");var i=new n._Paper,s=i.canvas=n._g.doc.createElement("div"),h=s.style;return c=c||0,l=l||0,u=u||512,r=r||342,i.width=u,i.height=r,u==+u&&(u+="px"),r==+r&&(r+="px"),i.coordsize=t*1e3+o+t*1e3,i.coordorigin="0 0",i.span=n._g.doc.createElement("span"),i.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;",s.appendChild(i.span),h.cssText=n.format("top:0;left:0;width:{0};height:{1};display:inline-block;position:relative;clip:rect(0 {0} {1} 0);overflow:hidden",u,r),f==1?(n._g.doc.body.appendChild(s),h.left=c+"px",h.top=l+"px",h.position="absolute"):f.firstChild?f.insertBefore(s,f.firstChild):f.appendChild(s),i.renderfix=function(){},i};n.prototype.clear=function(){n.eve("raphael.clear",this);this.canvas.innerHTML=u;this.span=n._g.doc.createElement("span");this.span.style.cssText="position:absolute;left:-9999em;top:-9999em;padding:0;margin:0;line-height:1;display:inline;";this.canvas.appendChild(this.span);this.bottom=this.top=null};n.prototype.remove=function(){n.eve("raphael.remove",this);this.canvas.parentNode.removeChild(this.canvas);for(var t in this)this[t]=typeof this[t]=="function"?n._removedFactory(t):null;return!0};k=n.st;for(y in i)i[h](y)&&!k[h](y)&&(k[y]=function(n){return function(){var t=arguments;return this.forEach(function(i){i[n].apply(i,t)})}}(y))}}.apply(t,u),r!==undefined&&(n.exports=r))},"./node_modules/eve-raphael/eve.js":function(n,t){var r,i;(function(){var a="0.5.0",l="hasOwnProperty",s=/[\.\/]/,v=/\s*,\s*/,y="*",d=function(){},p=function(n,t){return n-t},f,e,h={n:{}},w=function(){for(var n=0,t=this.length;n<t;n++)if(typeof this[n]!="undefined")return this[n]},b=function(){for(var n=this.length;--n;)if(typeof this[n]!="undefined")return this[n]},k=Object.prototype.toString,c=String,o=Array.isArray||function(n){return n instanceof Array||k.call(n)=="[object Array]"},u=function(n,t){var g=h,k=e,a=Array.prototype.slice.call(arguments,2),s=u.listeners(n),l=0,i,c=[],v={},o=[],d=f,r,y;for(o.firstDefined=w,o.lastDefined=b,f=n,e=0,r=0,y=s.length;r<y;r++)"zIndex"in s[r]&&(c.push(s[r].zIndex),s[r].zIndex<0&&(v[s[r].zIndex]=s[r]));for(c.sort(p);c[l]<0;)if(i=v[c[l++]],o.push(i.apply(t,a)),e)return e=k,o;for(r=0;r<y;r++)if(i=s[r],"zIndex"in i)if(i.zIndex==c[l]){if(o.push(i.apply(t,a)),e)break;do if(l++,i=v[c[l]],i&&o.push(i.apply(t,a)),e)break;while(i)}else v[i.zIndex]=i;else if(o.push(i.apply(t,a)),e)break;return e=k,f=d,o};u._events=h;u.listeners=function(n){for(var a=o(n)?n:n.split(s),t=h,i,v,f,u,w,e,c=[t],l=[],r=0,p=a.length;r<p;r++){for(e=[],u=0,w=c.length;u<w;u++)for(t=c[u].n,v=[t[a[r]],t[y]],f=2;f--;)i=v[f],i&&(e.push(i),l=l.concat(i.f||[]));c=e}return l};u.separator=function(n){n?(n=c(n).replace(/(?=[\.\^\]\[\-])/g,"\\"),n="["+n+"]",s=new RegExp(n)):s=/[\.\/]/};u.on=function(n,t){var r,i,u;if(typeof t!="function")return function(){};for(r=o(n)?o(n[0])?n:[n]:c(n).split(v),i=0,u=r.length;i<u;i++)(function(n){for(var u=o(n)?n:c(n).split(s),i=h,e,r=0,f=u.length;r<f;r++)i=i.n,i=i.hasOwnProperty(u[r])&&i[u[r]]||(i[u[r]]={n:{}});for(i.f=i.f||[],r=0,f=i.f.length;r<f;r++)if(i.f[r]==t){e=!0;break}e||i.f.push(t)})(r[i]);return function(n){+n==+n&&(t.zIndex=+n)}};u.f=function(n){var t=[].slice.call(arguments,1);return function(){u.apply(null,[n,null].concat(t).concat([].slice.call(arguments,0)))}};u.stop=function(){e=1};u.nt=function(n){var t=o(f)?f.join("."):f;return n?new RegExp("(?:\\.|\\/|^)"+n+"(?:\\.|\\/|$)").test(t):t};u.nts=function(){return o(f)?f:f.split(s)};u.off=u.unbind=function(n,t){var a,i,e,b,f,w,r,d,p,k;if(!n){u._events=h={n:{}};return}if(a=o(n)?o(n[0])?n:[n]:c(n).split(v),a.length>1){for(f=0,w=a.length;f<w;f++)u.off(a[f],t);return}for(a=o(n)?n:c(n).split(s),p=[h],f=0,w=a.length;f<w;f++)for(r=0;r<p.length;r+=b.length-2){if(b=[r,1],i=p[r].n,a[f]!=y)i[a[f]]&&b.push(i[a[f]]);else for(e in i)i[l](e)&&b.push(i[e]);p.splice.apply(p,b)}for(f=0,w=p.length;f<w;f++)for(i=p[f];i.n;){if(t){if(i.f){for(r=0,d=i.f.length;r<d;r++)if(i.f[r]==t){i.f.splice(r,1);break}i.f.length||delete i.f}for(e in i.n)if(i.n[l](e)&&i.n[e].f){for(k=i.n[e].f,r=0,d=k.length;r<d;r++)if(k[r]==t){k.splice(r,1);break}k.length||delete i.n[e].f}}else{delete i.f;for(e in i.n)i.n[l](e)&&i.n[e].f&&delete i.n[e].f}i=i.n}};u.once=function(n,t){var i=function(){return u.off(n,i),t.apply(this,arguments)};return u.on(n,i)};u.version=a;u.toString=function(){return"You are running Eve "+a};!0&&n.exports?n.exports=u:!(r=[],i=function(){return u}.apply(t,r),i!==undefined&&(n.exports=i))})(this)}})});
/* @license
morris.js v0.5.0
Copyright 2014 Olly Smith All rights reserved.
Licensed under the BSD-2-Clause License.
*/
(function(){var t,n,r,u,e=[].slice,i=function(n,t){return function(){return n.apply(t,arguments)}},o={}.hasOwnProperty,f=function(n,t){function r(){this.constructor=n}for(var i in t)o.call(t,i)&&(n[i]=t[i]);return r.prototype=t.prototype,n.prototype=new r,n.__super__=t.prototype,n},s=[].indexOf||function(n){for(var t=0,i=this.length;t<i;t++)if(t in this&&this[t]===n)return t;return-1};n=window.Morris={};t=jQuery;n.EventEmitter=function(){function n(){}return n.prototype.on=function(n,t){return this.handlers==null&&(this.handlers={}),this.handlers[n]==null&&(this.handlers[n]=[]),this.handlers[n].push(t),this},n.prototype.fire=function(){var u,f,t,n,o,i,r;if(t=arguments[0],u=2<=arguments.length?e.call(arguments,1):[],this.handlers!=null&&this.handlers[t]!=null){for(i=this.handlers[t],r=[],n=0,o=i.length;n<o;n++)f=i[n],r.push(f.apply(null,u));return r}},n}();n.commas=function(n){var r,t,i,u;return n!=null?(i=n<0?"-":"",r=Math.abs(n),t=Math.floor(r).toFixed(0),i+=t.replace(/(?=(?:\d{3})+$)(?!^)/g,","),u=r.toString(),u.length>t.length&&(i+=u.slice(t.length)),i):"-"};n.pad2=function(n){return(n<10?"0":"")+n};n.Grid=function(r){function u(n){this.resizeHandler=i(this.resizeHandler,this);var r=this;if(this.el=typeof n.element=="string"?t(document.getElementById(n.element)):t(n.element),this.el==null||this.el.length===0)throw new Error("Graph container element not found");this.el.css("position")==="static"&&this.el.css("position","relative");this.options=t.extend({},this.gridDefaults,this.defaults||{},n);typeof this.options.units=="string"&&(this.options.postUnits=n.units);this.raphael=new Raphael(this.el[0]);this.elementWidth=null;this.elementHeight=null;this.dirty=!1;this.selectFrom=null;this.init&&this.init();this.setData(this.options.data);this.el.bind("mousemove",function(n){var i,u,f,e,t;return u=r.el.offset(),t=n.pageX-u.left,r.selectFrom?(i=r.data[r.hitTest(Math.min(t,r.selectFrom))]._x,f=r.data[r.hitTest(Math.max(t,r.selectFrom))]._x,e=f-i,r.selectionRect.attr({x:i,width:e})):r.fire("hovermove",t,n.pageY-u.top)});this.el.bind("mouseleave",function(){return r.selectFrom&&(r.selectionRect.hide(),r.selectFrom=null),r.fire("hoverout")});this.el.bind("touchstart touchmove touchend",function(n){var t,i;return i=n.originalEvent.touches[0]||n.originalEvent.changedTouches[0],t=r.el.offset(),r.fire("hovermove",i.pageX-t.left,i.pageY-t.top)});this.el.bind("click",function(n){var t;return t=r.el.offset(),r.fire("gridclick",n.pageX-t.left,n.pageY-t.top)});this.options.rangeSelect&&(this.selectionRect=this.raphael.rect(0,0,0,this.el.innerHeight()).attr({fill:this.options.rangeSelectColor,stroke:!1}).toBack().hide(),this.el.bind("mousedown",function(n){var t;return t=r.el.offset(),r.startRange(n.pageX-t.left)}),this.el.bind("mouseup",function(n){var t;return t=r.el.offset(),r.endRange(n.pageX-t.left),r.fire("hovermove",n.pageX-t.left,n.pageY-t.top)}));this.options.resize&&t(window).bind("resize",function(){return r.timeoutId!=null&&window.clearTimeout(r.timeoutId),r.timeoutId=window.setTimeout(r.resizeHandler,100)});this.el.css("-webkit-tap-highlight-color","rgba(0,0,0,0)");this.postInit&&this.postInit()}return f(u,r),u.prototype.gridDefaults={dateFormat:null,axes:!0,grid:!0,gridLineColor:"#aaa",gridStrokeWidth:.5,gridTextColor:"#888",gridTextSize:12,gridTextFamily:"sans-serif",gridTextWeight:"normal",hideHover:!1,yLabelFormat:null,xLabelAngle:0,numLines:5,padding:25,parseTime:!0,postUnits:"",preUnits:"",ymax:"auto",ymin:"auto 0",goals:[],goalStrokeWidth:1,goalLineColors:["#666633","#999966","#cc6666","#663333"],events:[],eventStrokeWidth:1,eventLineColors:["#005a04","#ccffbb","#3a5f0b","#005502"],rangeSelect:null,rangeSelectColor:"#eef",resize:!1},u.prototype.setData=function(t,i){var w,c,s,l,a,r,h,v,o,y,b,f,e,u,p;if(i==null&&(i=!0),this.options.data=t,t==null||t.length===0){this.data=[];this.raphael.clear();this.hover!=null&&this.hover.hide();return}return f=this.cumulative?0:null,e=this.cumulative?0:null,this.options.goals.length>0&&(a=Math.min.apply(Math,this.options.goals),l=Math.max.apply(Math,this.options.goals),e=e!=null?Math.min(e,a):a,f=f!=null?Math.max(f,l):l),this.data=function(){var i,a,l;for(l=[],s=i=0,a=t.length;i<a;s=++i)h=t[s],r={src:h},r.label=h[this.options.xkey],this.options.parseTime?(r.x=n.parseDate(r.label),this.options.dateFormat?r.label=this.options.dateFormat(r.x):typeof r.label=="number"&&(r.label=new Date(r.label).toString())):(r.x=s,this.options.xLabelFormat&&(r.label=this.options.xLabelFormat(r))),o=0,r.y=function(){var n,r,t,i;for(t=this.options.ykeys,i=[],c=n=0,r=t.length;n<r;c=++n)b=t[c],u=h[b],typeof u=="string"&&(u=parseFloat(u)),u!=null&&typeof u!="number"&&(u=null),u!=null&&(this.cumulative?o+=u:f!=null?(f=Math.max(u,f),e=Math.min(u,e)):f=e=u),this.cumulative&&o!=null&&(f=Math.max(o,f),e=Math.min(o,e)),i.push(u);return i}.call(this),l.push(r);return l}.call(this),this.options.parseTime&&(this.data=this.data.sort(function(n,t){return(n.x>t.x)-(t.x>n.x)})),this.xmin=this.data[0].x,this.xmax=this.data[this.data.length-1].x,this.events=[],this.options.events.length>0&&(this.events=this.options.parseTime?function(){var t,u,i,r;for(i=this.options.events,r=[],t=0,u=i.length;t<u;t++)w=i[t],r.push(n.parseDate(w));return r}.call(this):this.options.events,this.xmax=Math.max(this.xmax,Math.max.apply(Math,this.events)),this.xmin=Math.min(this.xmin,Math.min.apply(Math,this.events))),this.xmin===this.xmax&&(this.xmin-=1,this.xmax+=1),this.ymin=this.yboundary("min",e),this.ymax=this.yboundary("max",f),this.ymin===this.ymax&&(e&&(this.ymin-=1),this.ymax+=1),((p=this.options.axes)===!0||p==="both"||p==="y"||this.options.grid===!0)&&(this.options.ymax===this.gridDefaults.ymax&&this.options.ymin===this.gridDefaults.ymin?(this.grid=this.autoGridLines(this.ymin,this.ymax,this.options.numLines),this.ymin=Math.min(this.ymin,this.grid[0]),this.ymax=Math.max(this.ymax,this.grid[this.grid.length-1])):(v=(this.ymax-this.ymin)/(this.options.numLines-1),this.grid=function(){var n,r,t,i;for(i=[],y=n=r=this.ymin,t=this.ymax;v>0?n<=t:n>=t;y=n+=v)i.push(y);return i}.call(this))),this.dirty=!0,i?this.redraw():void 0},u.prototype.yboundary=function(n,t){var i,r;return i=this.options["y"+n],typeof i=="string"?i.slice(0,4)==="auto"?i.length>5?(r=parseInt(i.slice(5),10),t==null)?r:Math[n](t,r):t!=null?t:0:parseInt(i,10):i},u.prototype.autoGridLines=function(n,t,i){var u,f,s,h,c,r,e,o,l;return c=t-n,l=Math.floor(Math.log(c)/Math.log(10)),e=Math.pow(10,l),f=Math.floor(n/e)*e,u=Math.ceil(t/e)*e,r=(u-f)/(i-1),e===1&&r>1&&Math.ceil(r)!==r&&(r=Math.ceil(r),u=f+r*(i-1)),f<0&&u>0&&(f=Math.floor(n/r)*r,u=Math.ceil(t/r)*r),r<1?(h=Math.floor(Math.log(r)/Math.log(10)),s=function(){var n,t;for(t=[],o=n=f;r>0?n<=u:n>=u;o=n+=r)t.push(parseFloat(o.toFixed(1-h)));return t}()):s=function(){var n,t;for(t=[],o=n=f;r>0?n<=u:n>=u;o=n+=r)t.push(o);return t}(),s},u.prototype._calc=function(){var f,e,n,t,i,o,r,u;return i=this.el.width(),n=this.el.height(),(this.elementWidth!==i||this.elementHeight!==n||this.dirty)&&(this.elementWidth=i,this.elementHeight=n,this.dirty=!1,this.left=this.options.padding,this.right=this.elementWidth-this.options.padding,this.top=this.options.padding,this.bottom=this.elementHeight-this.options.padding,((r=this.options.axes)===!0||r==="both"||r==="y")&&(o=function(){var n,r,t,i;for(t=this.grid,i=[],n=0,r=t.length;n<r;n++)e=t[n],i.push(this.measureText(this.yAxisFormat(e)).width);return i}.call(this),this.left+=Math.max.apply(Math,o)),((u=this.options.axes)===!0||u==="both"||u==="x")&&(f=function(){var n,i,r;for(r=[],t=n=0,i=this.data.length;0<=i?n<i:n>i;t=0<=i?++n:--n)r.push(this.measureText(this.data[t].text,-this.options.xLabelAngle).height);return r}.call(this),this.bottom-=Math.max.apply(Math,f)),this.width=Math.max(1,this.right-this.left),this.height=Math.max(1,this.bottom-this.top),this.dx=this.width/(this.xmax-this.xmin),this.dy=this.height/(this.ymax-this.ymin),this.calc)?this.calc():void 0},u.prototype.transY=function(n){return this.bottom-(n-this.ymin)*this.dy},u.prototype.transX=function(n){return this.data.length===1?(this.left+this.right)/2:this.left+(n-this.xmin)*this.dx},u.prototype.redraw=function(){return this.raphael.clear(),this._calc(),this.drawGrid(),this.drawGoals(),this.drawEvents(),this.draw?this.draw():void 0},u.prototype.measureText=function(n,t){var r,i;return t==null&&(t=0),i=this.raphael.text(100,100,n).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).rotate(t),r=i.getBBox(),i.remove(),r},u.prototype.yAxisFormat=function(n){return this.yLabelFormat(n)},u.prototype.yLabelFormat=function(t){return typeof this.options.yLabelFormat=="function"?this.options.yLabelFormat(t):""+this.options.preUnits+n.commas(t)+this.options.postUnits},u.prototype.drawGrid=function(){var i,r,n,o,u,f,e,t;if(this.options.grid!==!1||(u=this.options.axes)===!0||u==="both"||u==="y"){for(f=this.grid,t=[],n=0,o=f.length;n<o;n++)i=f[n],r=this.transY(i),((e=this.options.axes)===!0||e==="both"||e==="y")&&this.drawYAxisLabel(this.left-this.options.padding/2,r,this.yAxisFormat(i)),this.options.grid?t.push(this.drawGridLine("M"+this.left+","+r+"H"+(this.left+this.width))):t.push(void 0);return t}},u.prototype.drawGoals=function(){var u,f,n,t,e,i,r;for(i=this.options.goals,r=[],n=t=0,e=i.length;t<e;n=++t)f=i[n],u=this.options.goalLineColors[n%this.options.goalLineColors.length],r.push(this.drawGoal(f,u));return r},u.prototype.drawEvents=function(){var u,f,n,t,e,i,r;for(i=this.events,r=[],n=t=0,e=i.length;t<e;n=++t)f=i[n],u=this.options.eventLineColors[n%this.options.eventLineColors.length],r.push(this.drawEvent(f,u));return r},u.prototype.drawGoal=function(n,t){return this.raphael.path("M"+this.left+","+this.transY(n)+"H"+this.right).attr("stroke",t).attr("stroke-width",this.options.goalStrokeWidth)},u.prototype.drawEvent=function(n,t){return this.raphael.path("M"+this.transX(n)+","+this.bottom+"V"+this.top).attr("stroke",t).attr("stroke-width",this.options.eventStrokeWidth)},u.prototype.drawYAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor).attr("text-anchor","end")},u.prototype.drawGridLine=function(n){return this.raphael.path(n).attr("stroke",this.options.gridLineColor).attr("stroke-width",this.options.gridStrokeWidth)},u.prototype.startRange=function(n){return this.hover.hide(),this.selectFrom=n,this.selectionRect.attr({x:n,width:0}).show()},u.prototype.endRange=function(n){var t,i;if(this.selectFrom)return i=Math.min(this.selectFrom,n),t=Math.max(this.selectFrom,n),this.options.rangeSelect.call(this.el,{start:this.data[this.hitTest(i)].x,end:this.data[this.hitTest(t)].x}),this.selectFrom=null},u.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},u}(n.EventEmitter);n.parseDate=function(n){var e,o,c,s,u,r,h,i,t,f,l;return typeof n=="number"?n:(o=n.match(/^(\d+) Q(\d)$/),s=n.match(/^(\d+)-(\d+)$/),u=n.match(/^(\d+)-(\d+)-(\d+)$/),h=n.match(/^(\d+) W(\d+)$/),i=n.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+)(Z|([+-])(\d\d):?(\d\d))?$/),t=n.match(/^(\d+)-(\d+)-(\d+)[ T](\d+):(\d+):(\d+(\.\d+)?)(Z|([+-])(\d\d):?(\d\d))?$/),o?new Date(parseInt(o[1],10),parseInt(o[2],10)*3-1,1).getTime():s?new Date(parseInt(s[1],10),parseInt(s[2],10)-1,1).getTime():u?new Date(parseInt(u[1],10),parseInt(u[2],10)-1,parseInt(u[3],10)).getTime():h?(f=new Date(parseInt(h[1],10),0,1),f.getDay()!==4&&f.setMonth(0,1+(11-f.getDay())%7),f.getTime()+parseInt(h[2],10)*6048e5):i?i[6]?(r=0,i[6]!=="Z"&&(r=parseInt(i[8],10)*60+parseInt(i[9],10),i[7]==="+"&&(r=0-r)),Date.UTC(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)+r)):new Date(parseInt(i[1],10),parseInt(i[2],10)-1,parseInt(i[3],10),parseInt(i[4],10),parseInt(i[5],10)).getTime():t?(l=parseFloat(t[6]),e=Math.floor(l),c=Math.round((l-e)*1e3),t[8]?(r=0,t[8]!=="Z"&&(r=parseInt(t[10],10)*60+parseInt(t[11],10),t[9]==="+"&&(r=0-r)),Date.UTC(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10)+r,e,c)):new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),e,c).getTime()):new Date(parseInt(n,10),0,1).getTime())};n.Hover=function(){function i(i){i==null&&(i={});this.options=t.extend({},n.Hover.defaults,i);this.el=t("<div class='"+this.options["class"]+"'><\/div>");this.el.hide();this.options.parent.append(this.el)}return i.defaults={"class":"morris-hover morris-default-style"},i.prototype.update=function(n,t,i){return n?(this.html(n),this.show(),this.moveTo(t,i)):this.hide()},i.prototype.html=function(n){return this.el.html(n)},i.prototype.moveTo=function(n,t){var r,f,e,u,o,i;return o=this.options.parent.innerWidth(),u=this.options.parent.innerHeight(),f=this.el.outerWidth(),r=this.el.outerHeight(),e=Math.min(Math.max(0,n-f/2),o-f),t!=null?(i=t-r-10,i<0&&(i=t+10,i+r>u&&(i=u/2-r/2))):i=u/2-r/2,this.el.css({left:e+"px",top:parseInt(i)+"px"})},i.prototype.show=function(){return this.el.show()},i.prototype.hide=function(){return this.el.hide()},i}();n.Line=function(t){function r(t){if(this.hilight=i(this.hilight,this),this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),!(this instanceof n.Line))return new n.Line(t);r.__super__.constructor.call(this,t)}return f(r,t),r.prototype.init=function(){if(this.options.hideHover!=="always"){this.hover=new n.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}},r.prototype.defaults={lineWidth:3,pointSize:4,lineColors:["#0b62a4","#7A92A3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],pointStrokeWidths:[1],pointStrokeColors:["#ffffff"],pointFillColors:[],smooth:!0,xLabels:"auto",xLabelFormat:null,xLabelMargin:24,hideHover:!1},r.prototype.calc=function(){return this.calcPoints(),this.generatePaths()},r.prototype.calcPoints=function(){var n,t,i,f,r,u;for(r=this.data,u=[],i=0,f=r.length;i<f;i++)n=r[i],n._x=this.transX(n.x),n._y=function(){var i,f,u,r;for(u=n.y,r=[],i=0,f=u.length;i<f;i++)t=u[i],t!=null?r.push(this.transY(t)):r.push(t);return r}.call(this),u.push(n._ymax=Math.min.apply(Math,[this.bottom].concat(function(){var i,f,r,u;for(r=n._y,u=[],i=0,f=r.length;i<f;i++)t=r[i],t!=null&&u.push(t);return u}())));return u},r.prototype.hitTest=function(n){var t,u,i,f,r;if(this.data.length===0)return null;for(r=this.data.slice(1),t=i=0,f=r.length;i<f;t=++i)if(u=r[t],n<(u._x+this.data[t]._x)/2)break;return t},r.prototype.onGridClick=function(n,t){var i;return i=this.hitTest(n),this.fire("click",i,this.data[i].src,n,t)},r.prototype.onHoverMove=function(n){var t;return t=this.hitTest(n),this.displayHoverForRow(t)},r.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.displayHoverForRow(null)},r.prototype.displayHoverForRow=function(n){var t;return n!=null?((t=this.hover).update.apply(t,this.hoverContentForRow(n)),this.hilight(n)):(this.hover.hide(),this.hilight())},r.prototype.hoverContentForRow=function(n){var i,r,t,e,u,o,f;for(t=this.data[n],i="<div class='morris-hover-row-label'>"+t.label+"<\/div>",f=t.y,r=u=0,o=f.length;u<o;r=++u)e=f[r],i+="<div class='morris-hover-point' style='color: "+this.colorFor(t,r,"label")+"'>\n  "+this.options.labels[r]+":\n  "+this.yLabelFormat(e)+"\n<\/div>";return typeof this.options.hoverCallback=="function"&&(i=this.options.hoverCallback(n,this.options,i,t.src)),[i,t._x,t._ymax]},r.prototype.generatePaths=function(){var r,t,i,u;return this.paths=function(){var f,e,h,o;for(o=[],t=f=0,e=this.options.ykeys.length;0<=e?f<e:f>e;t=0<=e?++f:--f)u=typeof this.options.smooth=="boolean"?this.options.smooth:(h=this.options.ykeys[t],s.call(this.options.smooth,h)>=0),r=function(){var n,f,r,u;for(r=this.data,u=[],n=0,f=r.length;n<f;n++)i=r[n],i._y[t]!==void 0&&u.push({x:i._x,y:i._y[t]});return u}.call(this),r.length>1?o.push(n.Line.createPath(r,u,this.bottom)):o.push(null);return o}.call(this)},r.prototype.draw=function(){var n;return((n=this.options.axes)===!0||n==="both"||n==="x")&&this.drawXAxis(),this.drawSeries(),this.options.hideHover===!1?this.displayHoverForRow(this.data.length-1):void 0},r.prototype.drawXAxis=function(){var h,e,i,r,u,o,c,f,l,s,t=this;for(c=this.bottom+this.options.padding/2,u=null,r=null,h=function(n,i){var e,f,o,s,h;return e=t.drawXAxisLabel(t.transX(i),c,n),h=e.getBBox(),e.transform("r"+-t.options.xLabelAngle),f=e.getBBox(),e.transform("t0,"+f.height/2+"..."),t.options.xLabelAngle!==0&&(s=-.5*h.width*Math.cos(t.options.xLabelAngle*Math.PI/180),e.transform("t"+s+",0...")),f=e.getBBox(),(u==null||u>=f.x+f.width||r!=null&&r>=f.x)&&f.x>=0&&f.x+f.width<t.el.width()?(t.options.xLabelAngle!==0&&(o=1.25*t.options.gridTextSize/Math.sin(t.options.xLabelAngle*Math.PI/180),r=f.x-o),u=f.x-t.options.xLabelMargin):e.remove()},i=this.options.parseTime?this.data.length===1&&this.options.xLabels==="auto"?[[this.data[0].label,this.data[0].x]]:n.labelSeries(this.xmin,this.xmax,this.width,this.options.xLabels,this.options.xLabelFormat):function(){var n,r,t,i;for(t=this.data,i=[],n=0,r=t.length;n<r;n++)o=t[n],i.push([o.label,o.x]);return i}.call(this),i.reverse(),s=[],f=0,l=i.length;f<l;f++)e=i[f],s.push(h(e[0],e[1]));return s},r.prototype.drawSeries=function(){var n,t,i,r,u,f;for(this.seriesPoints=[],n=t=r=this.options.ykeys.length-1;r<=0?t<=0:t>=0;n=r<=0?++t:--t)this._drawLineFor(n);for(f=[],n=i=u=this.options.ykeys.length-1;u<=0?i<=0:i>=0;n=u<=0?++i:--i)f.push(this._drawPointFor(n));return f},r.prototype._drawPointFor=function(n){var r,t,i,e,u,f;for(this.seriesPoints[n]=[],u=this.data,f=[],i=0,e=u.length;i<e;i++)t=u[i],r=null,t._y[n]!=null&&(r=this.drawLinePoint(t._x,t._y[n],this.colorFor(t,n,"point"),n)),f.push(this.seriesPoints[n].push(r));return f},r.prototype._drawLineFor=function(n){var t;return t=this.paths[n],t!==null?this.drawLinePath(t,this.colorFor(null,n,"line"),n):void 0},r.createPath=function(t,i,r){var u,l,h,f,o,a,s,e,v,y,p,w,c,b;for(s="",i&&(h=n.Line.gradients(t)),e={y:null},f=c=0,b=t.length;c<b;f=++c)u=t[f],u.y!=null&&(e.y!=null?i?(l=h[f],a=h[f-1],o=(u.x-e.x)/4,v=e.x+o,p=Math.min(r,e.y+o*a),y=u.x-o,w=Math.min(r,u.y-o*l),s+="C"+v+","+p+","+y+","+w+","+u.x+","+u.y):s+="L"+u.x+","+u.y:i&&h[f]==null||(s+="M"+u.x+","+u.y)),e=u;return s},r.gradients=function(n){var f,e,i,r,u,o,s,t;for(e=function(n,t){return(n.y-t.y)/(n.x-t.x)},t=[],i=o=0,s=n.length;o<s;i=++o)f=n[i],f.y!=null?(r=n[i+1]||{y:null},u=n[i-1]||{y:null},u.y!=null&&r.y!=null?t.push(e(u,r)):u.y!=null?t.push(e(u,f)):r.y!=null?t.push(e(f,r)):t.push(null)):t.push(null);return t},r.prototype.hilight=function(n){var t,i,r,u,f;if(this.prevHilight!==null&&this.prevHilight!==n)for(t=i=0,u=this.seriesPoints.length-1;0<=u?i<=u:i>=u;t=0<=u?++i:--i)this.seriesPoints[t][this.prevHilight]&&this.seriesPoints[t][this.prevHilight].animate(this.pointShrinkSeries(t));if(n!==null&&this.prevHilight!==n)for(t=r=0,f=this.seriesPoints.length-1;0<=f?r<=f:r>=f;t=0<=f?++r:--r)this.seriesPoints[t][n]&&this.seriesPoints[t][n].animate(this.pointGrowSeries(t));return this.prevHilight=n},r.prototype.colorFor=function(n,t,i){return typeof this.options.lineColors=="function"?this.options.lineColors.call(this,n,t,i):i==="point"?this.options.pointFillColors[t%this.options.pointFillColors.length]||this.options.lineColors[t%this.options.lineColors.length]:this.options.lineColors[t%this.options.lineColors.length]},r.prototype.drawXAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},r.prototype.drawLinePath=function(n,t,i){return this.raphael.path(n).attr("stroke",t).attr("stroke-width",this.lineWidthForSeries(i))},r.prototype.drawLinePoint=function(n,t,i,r){return this.raphael.circle(n,t,this.pointSizeForSeries(r)).attr("fill",i).attr("stroke-width",this.pointStrokeWidthForSeries(r)).attr("stroke",this.pointStrokeColorForSeries(r))},r.prototype.pointStrokeWidthForSeries=function(n){return this.options.pointStrokeWidths[n%this.options.pointStrokeWidths.length]},r.prototype.pointStrokeColorForSeries=function(n){return this.options.pointStrokeColors[n%this.options.pointStrokeColors.length]},r.prototype.lineWidthForSeries=function(n){return this.options.lineWidth instanceof Array?this.options.lineWidth[n%this.options.lineWidth.length]:this.options.lineWidth},r.prototype.pointSizeForSeries=function(n){return this.options.pointSize instanceof Array?this.options.pointSize[n%this.options.pointSize.length]:this.options.pointSize},r.prototype.pointGrowSeries=function(n){return Raphael.animation({r:this.pointSizeForSeries(n)+3},25,"linear")},r.prototype.pointShrinkSeries=function(n){return Raphael.animation({r:this.pointSizeForSeries(n)},25,"linear")},r}(n.Grid);n.labelSeries=function(i,r,u,f,e){var s,y,p,w,c,l,o,a,h,b,v;if(p=200*(r-i)/u,y=new Date(i),o=n.LABEL_SPECS[f],o===void 0)for(v=n.AUTO_LABEL_ORDER,h=0,b=v.length;h<b;h++)if(w=v[h],l=n.LABEL_SPECS[w],p>=l.span){o=l;break}for(o===void 0&&(o=n.LABEL_SPECS.second),e&&(o=t.extend({},o,{fmt:e})),s=o.start(y),c=[];(a=s.getTime())<=r;)a>=i&&c.push([o.fmt(s),a]),o.incr(s);return c};r=function(t){return{span:t*6e4,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours())},fmt:function(t){return""+n.pad2(t.getHours())+":"+n.pad2(t.getMinutes())},incr:function(n){return n.setUTCMinutes(n.getUTCMinutes()+t)}}};u=function(t){return{span:t*1e3,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate(),n.getHours(),n.getMinutes())},fmt:function(t){return""+n.pad2(t.getHours())+":"+n.pad2(t.getMinutes())+":"+n.pad2(t.getSeconds())},incr:function(n){return n.setUTCSeconds(n.getUTCSeconds()+t)}}};n.LABEL_SPECS={decade:{span:1728e8,start:function(n){return new Date(n.getFullYear()-n.getFullYear()%10,0,1)},fmt:function(n){return""+n.getFullYear()},incr:function(n){return n.setFullYear(n.getFullYear()+10)}},year:{span:1728e7,start:function(n){return new Date(n.getFullYear(),0,1)},fmt:function(n){return""+n.getFullYear()},incr:function(n){return n.setFullYear(n.getFullYear()+1)}},month:{span:24192e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),1)},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)},incr:function(n){return n.setMonth(n.getMonth()+1)}},week:{span:6048e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)+"-"+n.pad2(t.getDate())},incr:function(n){return n.setDate(n.getDate()+7)}},day:{span:864e5,start:function(n){return new Date(n.getFullYear(),n.getMonth(),n.getDate())},fmt:function(t){return""+t.getFullYear()+"-"+n.pad2(t.getMonth()+1)+"-"+n.pad2(t.getDate())},incr:function(n){return n.setDate(n.getDate()+1)}},hour:r(60),"30min":r(30),"15min":r(15),"10min":r(10),"5min":r(5),minute:r(1),"30sec":u(30),"15sec":u(15),"10sec":u(10),"5sec":u(5),second:u(1)};n.AUTO_LABEL_ORDER=["decade","year","month","week","day","hour","30min","15min","10min","5min","minute","30sec","15sec","10sec","5sec","second"];n.Area=function(i){function r(i){var f;if(!(this instanceof n.Area))return new n.Area(i);f=t.extend({},u,i);this.cumulative=!f.behaveLikeLine;f.fillOpacity==="auto"&&(f.fillOpacity=f.behaveLikeLine?.8:1);r.__super__.constructor.call(this,f)}var u;return f(r,i),u={fillOpacity:"auto",behaveLikeLine:!1},r.prototype.calcPoints=function(){var n,i,r,t,e,u,f;for(u=this.data,f=[],t=0,e=u.length;t<e;t++)n=u[t],n._x=this.transX(n.x),i=0,n._y=function(){var t,e,f,u;for(f=n.y,u=[],t=0,e=f.length;t<e;t++)r=f[t],this.options.behaveLikeLine?u.push(this.transY(r)):(i+=r||0,u.push(this.transY(i)));return u}.call(this),f.push(n._ymax=Math.max.apply(Math,n._y));return f},r.prototype.drawSeries=function(){var n,i,t,o,r,u,f,e;for(this.seriesPoints=[],i=this.options.behaveLikeLine?function(){u=[];for(var n=0,t=this.options.ykeys.length-1;0<=t?n<=t:n>=t;0<=t?n++:n--)u.push(n);return u}.apply(this):function(){f=[];for(var n=r=this.options.ykeys.length-1;r<=0?n<=0:n>=0;r<=0?n++:n--)f.push(n);return f}.apply(this),e=[],t=0,o=i.length;t<o;t++)n=i[t],this._drawFillFor(n),this._drawLineFor(n),e.push(this._drawPointFor(n));return e},r.prototype._drawFillFor=function(n){var t;return t=this.paths[n],t!==null?(t=t+("L"+this.transX(this.xmax)+","+this.bottom+"L"+this.transX(this.xmin)+","+this.bottom+"Z"),this.drawFilledPath(t,this.fillForSeries(n))):void 0},r.prototype.fillForSeries=function(n){var t;return t=Raphael.rgb2hsl(this.colorFor(this.data[n],n,"line")),Raphael.hsl(t.h,this.options.behaveLikeLine?t.s*.9:t.s*.75,Math.min(.98,this.options.behaveLikeLine?t.l*1.2:t.l*1.25))},r.prototype.drawFilledPath=function(n,t){return this.raphael.path(n).attr("fill",t).attr("fill-opacity",this.options.fillOpacity).attr("stroke","none")},r}(n.Line);n.Bar=function(r){function u(r){if(this.onHoverOut=i(this.onHoverOut,this),this.onHoverMove=i(this.onHoverMove,this),this.onGridClick=i(this.onGridClick,this),!(this instanceof n.Bar))return new n.Bar(r);u.__super__.constructor.call(this,t.extend({},r,{parseTime:!1}))}return f(u,r),u.prototype.init=function(){if(this.cumulative=this.options.stacked,this.options.hideHover!=="always"){this.hover=new n.Hover({parent:this.el});this.on("hovermove",this.onHoverMove);this.on("hoverout",this.onHoverOut);return this.on("gridclick",this.onGridClick)}},u.prototype.defaults={barSizeRatio:.75,barGap:3,barColors:["#0b62a4","#7a92a3","#4da74d","#afd8f8","#edc240","#cb4b4b","#9440ed"],barOpacity:1,barRadius:[0,0,0,0],xLabelMargin:50},u.prototype.calc=function(){var n;return this.calcBars(),this.options.hideHover===!1?(n=this.hover).update.apply(n,this.hoverContentForRow(this.data.length-1)):void 0},u.prototype.calcBars=function(){var n,t,i,r,e,u,f;for(u=this.data,f=[],n=r=0,e=u.length;r<e;n=++r)t=u[n],t._x=this.left+this.width*(n+.5)/this.data.length,f.push(t._y=function(){var n,f,u,r;for(u=t.y,r=[],n=0,f=u.length;n<f;n++)i=u[n],i!=null?r.push(this.transY(i)):r.push(null);return r}.call(this));return f},u.prototype.draw=function(){var n;return((n=this.options.axes)===!0||n==="both"||n==="x")&&this.drawXAxis(),this.drawSeries()},u.prototype.drawXAxis=function(){var o,t,n,h,c,u,f,s,l,a,i,r,e;for(a=this.bottom+(this.options.xAxisLabelTopPadding||this.options.padding/2),f=null,u=null,e=[],o=i=0,r=this.data.length;0<=r?i<r:i>r;o=0<=r?++i:--i)s=this.data[this.data.length-1-o],t=this.drawXAxisLabel(s._x,a,s.label),l=t.getBBox(),t.transform("r"+-this.options.xLabelAngle),n=t.getBBox(),t.transform("t0,"+n.height/2+"..."),this.options.xLabelAngle!==0&&(c=-.5*l.width*Math.cos(this.options.xLabelAngle*Math.PI/180),t.transform("t"+c+",0...")),(f==null||f>=n.x+n.width||u!=null&&u>=n.x)&&n.x>=0&&n.x+n.width<this.el.width()?(this.options.xLabelAngle!==0&&(h=1.25*this.options.gridTextSize/Math.sin(this.options.xLabelAngle*Math.PI/180),u=n.x-h),e.push(f=n.x-this.options.xLabelMargin)):e.push(t.remove());return e},u.prototype.drawSeries=function(){var n,h,t,i,c,l,v,r,o,u,a,y,f,e,s;return t=this.width/this.options.data.length,r=this.options.stacked?1:this.options.ykeys.length,n=(t*this.options.barSizeRatio-this.options.barGap*(r-1))/r,this.options.barSize&&(n=Math.min(n,this.options.barSize)),y=t-n*r-this.options.barGap*(r-1),v=y/2,s=this.ymin<=0&&this.ymax>=0?this.transY(0):null,this.bars=function(){var r,w,y,p;for(y=this.data,p=[],i=r=0,w=y.length;r<w;i=++r)o=y[i],c=0,p.push(function(){var y,w,p,r;for(p=o._y,r=[],u=y=0,w=p.length;y<w;u=++y)e=p[u],e!==null?(s?(f=Math.min(e,s),h=Math.max(e,s)):(f=e,h=this.bottom),l=this.left+i*t+v,this.options.stacked||(l+=u*(n+this.options.barGap)),a=h-f,this.options.verticalGridCondition&&this.options.verticalGridCondition(o.x)&&this.drawBar(this.left+i*t,this.top,t,Math.abs(this.top-this.bottom),this.options.verticalGridColor,this.options.verticalGridOpacity,this.options.barRadius),this.options.stacked&&(f-=c),this.drawBar(l,f,n,a,this.colorFor(o,u,"bar"),this.options.barOpacity,this.options.barRadius),r.push(c+=a)):r.push(null);return r}.call(this));return p}.call(this)},u.prototype.colorFor=function(n,t,i){var r,u;return typeof this.options.barColors=="function"?(r={x:n.x,y:n.y[t],label:n.label},u={index:t,key:this.options.ykeys[t],label:this.options.labels[t]},this.options.barColors.call(this,r,u,i)):this.options.barColors[t%this.options.barColors.length]},u.prototype.hitTest=function(n){return this.data.length===0?null:(n=Math.max(Math.min(n,this.right),this.left),Math.min(this.data.length-1,Math.floor((n-this.left)/(this.width/this.data.length))))},u.prototype.onGridClick=function(n,t){var i;return i=this.hitTest(n),this.fire("click",i,this.data[i].src,n,t)},u.prototype.onHoverMove=function(n){var t,i;return t=this.hitTest(n),(i=this.hover).update.apply(i,this.hoverContentForRow(t))},u.prototype.onHoverOut=function(){if(this.options.hideHover!==!1)return this.hover.hide()},u.prototype.hoverContentForRow=function(n){var t,i,r,e,o,u,s,f;for(r=this.data[n],t="<div class='morris-hover-row-label'>"+r.label+"<\/div>",f=r.y,i=u=0,s=f.length;u<s;i=++u)o=f[i],t+="<div class='morris-hover-point' style='color: "+this.colorFor(r,i,"label")+"'>\n  "+this.options.labels[i]+":\n  "+this.yLabelFormat(o)+"\n<\/div>";return typeof this.options.hoverCallback=="function"&&(t=this.options.hoverCallback(n,this.options,t,r.src)),e=this.left+(n+.5)*this.width/this.data.length,[t,e]},u.prototype.drawXAxisLabel=function(n,t,i){return this.raphael.text(n,t,i).attr("font-size",this.options.gridTextSize).attr("font-family",this.options.gridTextFamily).attr("font-weight",this.options.gridTextWeight).attr("fill",this.options.gridTextColor)},u.prototype.drawBar=function(n,t,i,r,u,f,e){var o,s;return o=Math.max.apply(Math,e),s=o===0||o>r?this.raphael.rect(n,t,i,r):this.raphael.path(this.roundedRect(n,t,i,r,e)),s.attr("fill",u).attr("fill-opacity",f).attr("stroke","none")},u.prototype.roundedRect=function(n,t,i,r,u){return u==null&&(u=[0,0,0,0]),["M",n,u[0]+t,"Q",n,t,n+u[0],t,"L",n+i-u[1],t,"Q",n+i,t,n+i,t+u[1],"L",n+i,t+r-u[2],"Q",n+i,t+r,n+i-u[2],t+r,"L",n+u[3],t+r,"Q",n,t+r,n,t+r-u[3],"Z"]},u}(n.Grid);n.Donut=function(r){function u(r){this.resizeHandler=i(this.resizeHandler,this);this.select=i(this.select,this);this.click=i(this.click,this);var u=this;if(!(this instanceof n.Donut))return new n.Donut(r);if(this.options=t.extend({},this.defaults,r),this.el=typeof r.element=="string"?t(document.getElementById(r.element)):t(r.element),this.el===null||this.el.length===0)throw new Error("Graph placeholder not found.");r.data!==void 0&&r.data.length!==0&&(this.raphael=new Raphael(this.el[0]),this.options.resize&&t(window).bind("resize",function(){return u.timeoutId!=null&&window.clearTimeout(u.timeoutId),u.timeoutId=window.setTimeout(u.resizeHandler,100)}),this.setData(r.data))}return f(u,r),u.prototype.defaults={colors:["#0B62A4","#3980B5","#679DC6","#95BBD7","#B0CCE1","#095791","#095085","#083E67","#052C48","#042135"],backgroundColor:"#FFFFFF",labelColor:"#000000",formatter:n.commas,resize:!1},u.prototype.redraw=function(){var d,r,u,e,t,o,g,l,a,f,v,i,s,h,y,c,nt,tt,it,p,w,b,k;for(this.raphael.clear(),r=this.el.width()/2,u=this.el.height()/2,s=(Math.min(r,u)-10)/3,v=0,p=this.values,h=0,nt=p.length;h<nt;h++)i=p[h],v+=i;for(l=5/(2*s),d=1.9999*Math.PI-l*this.data.length,o=0,t=0,this.segments=[],w=this.values,e=y=0,tt=w.length;y<tt;e=++y){i=w[e];a=o+l+d*(i/v);f=new n.DonutSegment(r,u,s*2,s,o,a,this.data[e].color||this.options.colors[t%this.options.colors.length],this.options.backgroundColor,t,this.raphael);f.render();this.segments.push(f);f.on("hover",this.select);f.on("click",this.click);o=a;t+=1}for(this.text1=this.drawEmptyDonutLabel(r,u-10,this.options.labelColor,15,800),this.text2=this.drawEmptyDonutLabel(r,u+10,this.options.labelColor,14),g=Math.max.apply(Math,this.values),t=0,b=this.values,k=[],c=0,it=b.length;c<it;c++){if(i=b[c],i===g){this.select(t);break}k.push(t+=1)}return k},u.prototype.setData=function(n){var t;return this.data=n,this.values=function(){var n,u,i,r;for(i=this.data,r=[],n=0,u=i.length;n<u;n++)t=i[n],r.push(parseFloat(t.value));return r}.call(this),this.redraw()},u.prototype.click=function(n){return this.fire("click",n,this.data[n])},u.prototype.select=function(n){var t,u,f,i,e,r;for(r=this.segments,i=0,e=r.length;i<e;i++)u=r[i],u.deselect();return f=this.segments[n],f.select(),t=this.data[n],this.setLabels(t.label,this.options.formatter(t.value,t))},u.prototype.setLabels=function(n,t){var u,s,h,f,i,e,r,o;return u=(Math.min(this.el.width()/2,this.el.height()/2)-10)*2/3,f=1.8*u,h=u/2,s=u/3,this.text1.attr({text:n,transform:""}),i=this.text1.getBBox(),e=Math.min(f/i.width,h/i.height),this.text1.attr({transform:"S"+e+","+e+","+(i.x+i.width/2)+","+(i.y+i.height)}),this.text2.attr({text:t,transform:""}),r=this.text2.getBBox(),o=Math.min(f/r.width,s/r.height),this.text2.attr({transform:"S"+o+","+o+","+(r.x+r.width/2)+","+r.y})},u.prototype.drawEmptyDonutLabel=function(n,t,i,r,u){var f;return f=this.raphael.text(n,t,"").attr("font-size",r).attr("fill",i),u!=null&&f.attr("font-weight",u),f},u.prototype.resizeHandler=function(){return this.timeoutId=null,this.raphael.setSize(this.el.width(),this.el.height()),this.redraw()},u}(n.EventEmitter);n.DonutSegment=function(n){function t(n,t,r,u,f,e,o,s,h,c){this.cx=n;this.cy=t;this.inner=r;this.outer=u;this.color=o;this.backgroundColor=s;this.index=h;this.raphael=c;this.deselect=i(this.deselect,this);this.select=i(this.select,this);this.sin_p0=Math.sin(f);this.cos_p0=Math.cos(f);this.sin_p1=Math.sin(e);this.cos_p1=Math.cos(e);this.is_long=e-f>Math.PI?1:0;this.path=this.calcSegment(this.inner+3,this.inner+this.outer-5);this.selectedPath=this.calcSegment(this.inner+3,this.inner+this.outer);this.hilight=this.calcArc(this.inner)}return f(t,n),t.prototype.calcArcPoints=function(n){return[this.cx+n*this.sin_p0,this.cy+n*this.cos_p0,this.cx+n*this.sin_p1,this.cy+n*this.cos_p1]},t.prototype.calcSegment=function(n,t){var u,f,e,o,s,h,c,l,i,r;return i=this.calcArcPoints(n),u=i[0],e=i[1],f=i[2],o=i[3],r=this.calcArcPoints(t),s=r[0],c=r[1],h=r[2],l=r[3],"M"+u+","+e+("A"+n+","+n+",0,"+this.is_long+",0,"+f+","+o)+("L"+h+","+l)+("A"+t+","+t+",0,"+this.is_long+",1,"+s+","+c)+"Z"},t.prototype.calcArc=function(n){var i,r,u,f,t;return t=this.calcArcPoints(n),i=t[0],u=t[1],r=t[2],f=t[3],"M"+i+","+u+("A"+n+","+n+",0,"+this.is_long+",0,"+r+","+f)},t.prototype.render=function(){var n=this;return this.arc=this.drawDonutArc(this.hilight,this.color),this.seg=this.drawDonutSegment(this.path,this.color,this.backgroundColor,function(){return n.fire("hover",n.index)},function(){return n.fire("click",n.index)})},t.prototype.drawDonutArc=function(n,t){return this.raphael.path(n).attr({stroke:t,"stroke-width":2,opacity:0})},t.prototype.drawDonutSegment=function(n,t,i,r,u){return this.raphael.path(n).attr({fill:t,stroke:i,"stroke-width":3}).hover(r).click(u)},t.prototype.select=function(){if(!this.selected)return this.seg.animate({path:this.selectedPath},150,"<>"),this.arc.animate({opacity:1},150,"<>"),this.selected=!0},t.prototype.deselect=function(){if(this.selected)return this.seg.animate({path:this.path},150,"<>"),this.arc.animate({opacity:0},150,"<>"),this.selected=!1},t}(n.EventEmitter)}).call(this);